DATABASE_POOL_SIZE (200) is very high. Consider reducing it to prevent database connection exhaustion.
/usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
[USER_FILES_MODULE] user_files.py loaded - endpoints being registered
{"message": "Secure logging configured successfully", "@timestamp": null, "logger": "app.infrastructure.monitoring.logging"}
{"message": "Static files mounted at /static from /app/app/static", "@timestamp": null, "logger": "app.main"}
{"message": "Adding FastAPI CORS middleware", "@timestamp": null, "logger": "app.main"}
{"message": "Error handlers registered", "@timestamp": null, "logger": "app.api.v2.error_handlers"}
/usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
/usr/local/lib/python3.11/site-packages/fastapi/openapi/utils.py:246: UserWarning: Duplicate Operation ID redirect_all_api_v1__path__patch for function redirect_all at /app/app/api/v1_compatibility.py
  warnings.warn(message, stacklevel=1)
{
  "openapi": "3.1.0",
  "info": {
    "title": "Aionvision API",
    "description": "API for detecting hallucinations in Vision Language Model outputs",
    "version": "2.0.0"
  },
  "paths": {
    "/api/v2/auth/session/login": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Login",
        "description": "Login with email and password.\n\nCreates a new session and sets an HttpOnly cookie with the session token.",
        "operationId": "login_api_v2_auth_session_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/refresh": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Refresh Session",
        "description": "Refresh the current session by extending its expiry.\n\nReturns new session information with updated expiry time.",
        "operationId": "refresh_session_api_v2_auth_session_refresh_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/logout": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Logout",
        "description": "Logout current session or all sessions.\n\nRevokes the session in the database and clears the cookie.",
        "operationId": "logout_api_v2_auth_session_logout_post",
        "parameters": [
          {
            "name": "logout_all",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Logout All"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/me": {
      "get": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Get Current User",
        "description": "Get current authenticated user.\n\nValidates the session and returns user information.",
        "operationId": "get_current_user_api_v2_auth_session_me_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/register": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Register",
        "description": "Register a new user.\n\nCreates user, tenant, and optionally a session for immediate login.",
        "operationId": "register_api_v2_auth_session_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/google": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Google Oauth Login",
        "description": "Login with Google OAuth.\n\nValidates Google ID token and creates a session.",
        "operationId": "google_oauth_login_api_v2_auth_session_google_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleOAuthRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/google/initiate": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Initiate Google Oauth",
        "description": "Initiate Google OAuth flow with CSRF protection.\n\nReturns authorization URL with state parameter for CSRF protection.\nThe state must be validated in the callback to prevent CSRF attacks.\n\nArgs:\n    action: OAuth flow action - \"login\", \"register\", or \"link\"\n\nReturns:\n    Dictionary with authorization_url and state token",
        "operationId": "initiate_google_oauth_api_v2_auth_session_google_initiate_post",
        "parameters": [
          {
            "name": "action",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "login",
              "title": "Action"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Initiate Google Oauth Api V2 Auth Session Google Initiate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/google/callback": {
      "get": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Google Oauth Callback",
        "description": "Google OAuth callback handler for server-side authorization code flow.\n\nHandles the authorization code from Google OAuth and exchanges it for tokens.\nThis endpoint is called by Google after user authorizes the application.\n\nSECURITY: Validates the state parameter to prevent CSRF attacks.",
        "operationId": "google_oauth_callback_api_v2_auth_session_google_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "State"
            }
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/sessions": {
      "get": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "List Sessions",
        "description": "List all active sessions for the current user.",
        "operationId": "list_sessions_api_v2_auth_session_sessions_get",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SessionInfo"
                  },
                  "title": "Response List Sessions Api V2 Auth Session Sessions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/sessions/{session_id}": {
      "delete": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Revoke Session",
        "description": "Revoke a specific session.",
        "operationId": "revoke_session_api_v2_auth_session_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          },
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/password-reset/request": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Request Password Reset",
        "description": "Request a password reset.\n\nAlways returns success to prevent email enumeration.",
        "operationId": "request_password_reset_api_v2_auth_session_password_reset_request_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/password-reset/validate": {
      "get": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Validate Reset Token",
        "description": "Validate a password reset token.",
        "operationId": "validate_reset_token_api_v2_auth_session_password_reset_validate_get",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/password-reset/complete": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Complete Password Reset",
        "description": "Complete password reset with new password.\n\nAutomatically logs in the user after successful reset.",
        "operationId": "complete_password_reset_api_v2_auth_session_password_reset_complete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompletePasswordResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/verify-email": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Verify Email",
        "description": "Verify user email with verification token.\n\nValidates the verification token and marks the user's email as verified.",
        "operationId": "verify_email_api_v2_auth_session_verify_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/link-provider": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Link Provider",
        "description": "Securely link an OAuth provider to existing account.\n\nRequires user to be authenticated (valid session).\nOptional: Can require password verification for extra security.",
        "operationId": "link_provider_api_v2_auth_session_link_provider_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Link Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/resend-verification": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend verification email to the current user.\n\nRequires user to be authenticated but allows unverified users.",
        "operationId": "resend_verification_email_api_v2_auth_session_resend_verification_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/resend-verification-by-email": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Resend Verification By Email",
        "description": "Resend verification email by email address (unauthenticated).\n\nAllows users to request verification email resend without being logged in.\nReturns success regardless of whether the email exists (to prevent enumeration).",
        "operationId": "resend_verification_by_email_api_v2_auth_session_resend_verification_by_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationByEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/email-verification-status": {
      "get": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Get Email Verification Status",
        "description": "Check the current user's email verification status.\n\nReturns information about whether the user's email is verified and\nwhen verification was last sent.",
        "operationId": "get_email_verification_status_api_v2_auth_session_email_verification_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/session/rotate-session": {
      "post": {
        "tags": [
          "Authentication",
          "Session Authentication"
        ],
        "summary": "Rotate Session",
        "description": "Rotate the current session token.\n\nThis endpoint creates a new session with a new token and revokes the current session.\nUsed after security-sensitive operations like password changes to prevent session fixation.\n\nThe new session token is returned in an HttpOnly cookie.",
        "operationId": "rotate_session_api_v2_auth_session_rotate_session_post",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "aionvision_session",
            "in": "cookie",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Aionvision Session"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionRotateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/api-keys": {
      "post": {
        "tags": [
          "API Keys",
          "API Keys"
        ],
        "summary": "Create Api Key",
        "description": "Create a new API key for the user's tenant.\n\nThe raw API key is only returned once and cannot be retrieved again.\nRequires ADMIN permission on the tenant.",
        "operationId": "create_api_key_api_v2_api_keys_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAPIKeyRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAPIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "API Keys",
          "API Keys"
        ],
        "summary": "List Api Keys",
        "description": "List all API keys for the user's tenant.\n\nReturns API key metadata without the raw keys.\nRequires VIEW permission on the tenant.",
        "operationId": "list_api_keys_api_v2_api_keys_get",
        "parameters": [
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Inactive"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListAPIKeysResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/api-keys/{api_key_id}": {
      "get": {
        "tags": [
          "API Keys",
          "API Keys"
        ],
        "summary": "Get Api Key",
        "description": "Get details of a specific API key.\n\nUsers can only access API keys from their own tenant.\nRequires VIEW permission on the tenant.",
        "operationId": "get_api_key_api_v2_api_keys__api_key_id__get",
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Api Key Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "API Keys",
          "API Keys"
        ],
        "summary": "Update Api Key",
        "description": "Update an existing API key.\n\nOnly provided fields will be updated. Metadata will be merged with existing metadata.\nUsers can only update API keys from their own tenant.\nRequires ADMIN permission on the tenant.",
        "operationId": "update_api_key_api_v2_api_keys__api_key_id__put",
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Api Key Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAPIKeyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIKeyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "API Keys",
          "API Keys"
        ],
        "summary": "Delete Api Key",
        "description": "Delete (deactivate) an API key.\n\nAPI keys are not physically deleted but marked as inactive.\nUsers can only delete API keys from their own tenant.\nRequires ADMIN permission on the tenant.",
        "operationId": "delete_api_key_api_v2_api_keys__api_key_id__delete",
        "parameters": [
          {
            "name": "api_key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Api Key Id"
            }
          },
          {
            "name": "reason",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Reason"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/health/": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Basic health check endpoint.\n\nThis endpoint is public and used by load balancers.\nFor detailed health information, use /detailed (requires admin authentication).",
        "operationId": "health_check_api_v2_health__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Health Check Api V2 Health  Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/health/detailed": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Detailed Health Check",
        "description": "Detailed health check including dependencies.\n\nRequires ADMIN permission on the tenant.\nShows sensitive system information including database status,\nprovider status, and email configuration.\n\nReturns:\n    Health status of all components",
        "operationId": "detailed_health_check_api_v2_health_detailed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/health/email": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Email Health Check",
        "description": "Email service health check endpoint.\n\nRequires ADMIN permission on the tenant.\nChecks email configuration and template availability.\nReturns sensitive information about email service configuration.",
        "operationId": "email_health_check_api_v2_health_email_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/health/outbox": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Outbox Status",
        "description": "Outbox processor status and statistics.\n\nRequires ADMIN permission on the tenant.\nReturns detailed information about the outbox event processing system.\n\nReturns:\n    Dictionary containing outbox statistics and status",
        "operationId": "outbox_status_api_v2_health_outbox_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/health/metrics": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "System Metrics",
        "description": "System metrics endpoint.\n\nRequires ADMIN permission on the tenant.\nReturns operational metrics including request counts, performance data,\nand resource usage statistics.\n\nReturns:\n    Dictionary containing system metrics",
        "operationId": "system_metrics_api_v2_health_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/health/redis-pool": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Redis Pool Health",
        "description": "Redis connection pool health check.\n\nPublic endpoint for monitoring Redis connection pool utilization.\nUseful for detecting connection pool exhaustion before it causes issues.\n\nReturns:\n    Dictionary containing Redis pool health and utilization metrics",
        "operationId": "redis_pool_health_api_v2_health_redis_pool_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Redis Pool Health Api V2 Health Redis Pool Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/database/health": {
      "get": {
        "tags": [
          "Database Monitoring",
          "monitoring"
        ],
        "summary": "Get Database Health",
        "description": "Simple database connectivity check for load balancers.\n\nPublic endpoint that tests basic database connectivity without accessing\nsensitive operational data. For detailed statistics, use /pool/stats (requires auth).",
        "operationId": "get_database_health_api_v2_database_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Database Health Api V2 Database Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/database/pool/stats": {
      "get": {
        "tags": [
          "Database Monitoring",
          "monitoring"
        ],
        "summary": "Get Pool Statistics",
        "description": "Get detailed connection pool statistics.\n\nRequires authentication for security.",
        "operationId": "get_pool_statistics_api_v2_database_pool_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Pool Statistics Api V2 Database Pool Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/describe/": {
      "post": {
        "tags": [
          "Description"
        ],
        "summary": "Generate Image Description (DEPRECATED)",
        "description": "**\u26a0\ufe0f DEPRECATED:** This endpoint is deprecated. Use the upload flow instead,\n    which handles file upload and description in a single operation. This endpoint\n    will be removed in a future version.\n\n    ---\n\n    Generate a detailed description of an image using multiple Vision Language Models.\n\n    This endpoint analyzes an image and provides a synthesized description combining\n    insights from multiple VLM providers for higher accuracy and reliability.\n\n    **Verification Levels:**\n    - `quick`: Fast description with 2 VLM providers\n    - `standard`: Balanced approach with 3 VLM providers\n    - `thorough`: Comprehensive analysis with 4 VLM providers\n    - `critical`: Maximum detail using all available providers\n\n    **Idempotency:**\n    Include the `Idempotency-Key` header to enable idempotent requests. If the same\n    key is used within 1 hour, the cached response will be returned without re-processing.\n    This prevents double-billing on network retries.\n\n    **Authentication:**\n    Requires a valid API key in the Authorization header:\n    `Authorization: Bearer aion_your_api_key_here`",
        "operationId": "describe_image_api_v2_describe__post",
        "deprecated": true,
        "parameters": [
          {
            "name": "Idempotency-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Idempotency-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DescribeImageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DescriptionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Tenant not active or limit exceeded"
          },
          "422": {
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verify/": {
      "post": {
        "tags": [
          "Verification"
        ],
        "summary": "Verify Content for Hallucinations (DEPRECATED)",
        "description": "**\u26a0\ufe0f DEPRECATED:** This endpoint is deprecated. Verification functionality is being\n    removed as a standalone operation. Use the upload flow for image processing. This\n    endpoint will be removed in a future version.\n\n    ---\n\n    Verify VLM responses or individual claims for potential hallucinations.\n\n    This unified endpoint handles both full VLM response verification and individual\n    claim verification using multiple VLM consensus and sophisticated scoring algorithms.\n\n    **Modes:**\n    - `response`: Verify a complete VLM response (default)\n    - `claim`: Verify a single claim about an image\n\n    **Verification Levels:**\n    - `quick`: Fast verification with minimal providers\n    - `standard`: Balanced verification with moderate thoroughness\n    - `thorough`: Comprehensive verification with multiple providers\n    - `critical`: Maximum verification using all available providers\n\n    **Idempotency:**\n    Include the `Idempotency-Key` header to enable idempotent requests. If the same\n    key is used within 1 hour, the cached response will be returned without re-processing.\n    This prevents double-billing on network retries.\n\n    **Authentication:**\n    Requires a valid API key in the Authorization header:\n    `Authorization: Bearer aion_your_api_key_here`",
        "operationId": "verify_content_api_v2_verify__post",
        "deprecated": true,
        "parameters": [
          {
            "name": "Idempotency-Key",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Idempotency-Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Tenant not active or limit exceeded"
          },
          "422": {
            "description": "Validation Error"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verify/health": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Verification Service Health Check",
        "description": "Check the health status of the verification service and its components. Requires authentication.",
        "operationId": "health_check_api_v2_verify_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/verify/health/status": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Public Health Status",
        "description": "Public health check endpoint that provides minimal status information without authentication.",
        "operationId": "public_health_status_api_v2_verify_health_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Public Health Status Api V2 Verify Health Status Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verify/providers": {
      "get": {
        "tags": [
          "Verification"
        ],
        "summary": "Get Available Providers",
        "description": "List the available Vision Language Model providers and verification levels. Requires authentication.",
        "operationId": "get_providers_api_v2_verify_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/rules": {
      "post": {
        "tags": [
          "Rules"
        ],
        "summary": "Create Rule Set",
        "description": "Create a new rule set.\n\nCreates a custom rule set that can be applied during verification operations.\nRequires EDIT permission on the tenant.",
        "operationId": "create_rule_set_api_v2_rules_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRuleSetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleSetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "List Rule Sets",
        "description": "List rule sets for the current tenant.\n\nReturns all rule sets owned by the tenant with pagination support.\nRequires VIEW permission on the tenant.",
        "operationId": "list_rule_sets_api_v2_rules_get",
        "parameters": [
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled rule sets",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Only return enabled rule sets"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Maximum items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleSetListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/{rule_set_id}": {
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "Get Rule Set",
        "description": "Get a specific rule set.\n\nReturns the complete rule set including all rules and their configurations.\nRequires VIEW permission on the tenant.",
        "operationId": "get_rule_set_api_v2_rules__rule_set_id__get",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleSetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Rules"
        ],
        "summary": "Update Rule Set",
        "description": "Update an existing rule set.\n\nReplaces the entire rule set with the provided configuration.\nRequires EDIT permission on the tenant.",
        "operationId": "update_rule_set_api_v2_rules__rule_set_id__put",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRuleSetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleSetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Rules"
        ],
        "summary": "Delete Rule Set",
        "description": "Delete a rule set.\n\nPermanently removes the rule set. This action cannot be undone.\nRequires EDIT permission on the tenant.",
        "operationId": "delete_rule_set_api_v2_rules__rule_set_id__delete",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/{rule_set_id}/toggle": {
      "patch": {
        "tags": [
          "Rules"
        ],
        "summary": "Toggle Rule Set",
        "description": "Toggle rule set enabled status.\n\nEnables or disables a rule set without modifying its configuration.\nRequires EDIT permission on the tenant.",
        "operationId": "toggle_rule_set_api_v2_rules__rule_set_id__toggle_patch",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleRuleSetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/{rule_set_id}/test": {
      "post": {
        "tags": [
          "Rules"
        ],
        "summary": "Test Rule Set",
        "description": "Test a rule set against sample data.\n\nValidates the rule set and tests it against provided data\nto see what violations would be triggered.\nRequires VIEW permission on the tenant.",
        "operationId": "test_rule_set_api_v2_rules__rule_set_id__test_post",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestRuleSetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuleTestResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/{rule_set_id}/visual-memory/status": {
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "Get Visual Memory Status",
        "description": "Get visual memory processing status for a rule set.\n\nReturns the current status of visual memory processing including:\n- Processing status (none, pending, processing, ready, failed)\n- Whether visual memory is available for use\n- Processing timestamps and error information if applicable\nRequires VIEW permission on the tenant.",
        "operationId": "get_visual_memory_status_api_v2_rules__rule_set_id__visual_memory_status_get",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VisualMemoryStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/{rule_set_id}/visual-memory/reprocess": {
      "post": {
        "tags": [
          "Rules"
        ],
        "summary": "Reprocess Visual Memory",
        "description": "Reprocess visual memory for a rule set.\n\nTriggers reprocessing of the visual memory using the existing reference image\nand user description. Returns 202 Accepted and processing happens asynchronously.\nRequires EDIT permission on the tenant.",
        "operationId": "reprocess_visual_memory_api_v2_rules__rule_set_id__visual_memory_reprocess_post",
        "parameters": [
          {
            "name": "rule_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Rule Set Id"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/rules/templates/": {
      "get": {
        "tags": [
          "Rules"
        ],
        "summary": "List Rule Templates",
        "description": "List available rule templates.\n\nReturns pre-built rule templates that can be used as starting points\nfor custom rule sets.\nRequires VIEW permission on the tenant.",
        "operationId": "list_rule_templates_api_v2_rules_templates__get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RuleTemplateResponse"
                  },
                  "title": "Response List Rule Templates Api V2 Rules Templates  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/batch/describe": {
      "post": {
        "tags": [
          "Batch",
          "batch"
        ],
        "summary": "Process multiple images for description (DEPRECATED)",
        "description": "**\u26a0\ufe0f DEPRECATED:** This endpoint is deprecated. Use the upload flow instead,\n    which handles file upload and description in a single operation. This endpoint\n    will be removed in a future version.\n\n    ---\n\n    Submit a batch of images for description processing.\n    This endpoint creates a batch job and immediately queues all items\n    for background processing by workers. Returns batch ID for status tracking.\n    Requires EDIT permission on the tenant.",
        "operationId": "batch_describe_api_v2_batch_describe_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchDescribeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchOperationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v2/batch/verify": {
      "post": {
        "tags": [
          "Batch",
          "batch"
        ],
        "summary": "Verify multiple image-text pairs (DEPRECATED)",
        "description": "**\u26a0\ufe0f DEPRECATED:** This endpoint is deprecated. Verification functionality is being\n    removed as a standalone operation. Use the upload flow for image processing. This\n    endpoint will be removed in a future version.\n\n    ---\n\n    Submit a batch of image-text pairs for verification.\n    This endpoint creates a batch job and immediately queues all items\n    for background processing by workers. Returns batch ID for status tracking.\n    Requires EDIT permission on the tenant.",
        "operationId": "batch_verify_api_v2_batch_verify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchVerifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchOperationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v2/batch/{batch_id}": {
      "get": {
        "tags": [
          "Batch",
          "batch"
        ],
        "summary": "Get batch operation status",
        "description": "Get the current status of a batch operation.\n\nReturns real-time status including progress, timing estimates,\nand processing statistics.\n\nRequires VIEW permission on the tenant.",
        "operationId": "get_batch_status_api_v2_batch__batch_id__get",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Batch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Batch",
          "batch"
        ],
        "summary": "Cancel a batch operation",
        "description": "Cancel a running batch operation.\n\nOnly pending or processing batches can be cancelled.\nThis will stop queueing new items and mark the batch as cancelled,\nbut items already being processed will complete.\n\nRequires EDIT permission on the tenant.",
        "operationId": "cancel_batch_api_v2_batch__batch_id__delete",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Batch Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/batch/{batch_id}/results": {
      "get": {
        "tags": [
          "Batch",
          "batch"
        ],
        "summary": "Get batch operation results",
        "description": "Get the results of a batch operation.\n\nResults are paginated and can optionally include or exclude failed items.\nProvides comprehensive data including processing times, error details,\nand result metadata.\n\nRequires VIEW permission on the tenant.",
        "operationId": "get_batch_results_api_v2_batch__batch_id__results_get",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Batch Id"
            }
          },
          {
            "name": "include_failed",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Failed"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Pagination offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "Pagination offset"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Results per page",
              "default": 100,
              "title": "Limit"
            },
            "description": "Results per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchResultsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/datasets": {
      "post": {
        "tags": [
          "Datasets",
          "datasets"
        ],
        "summary": "Create dataset from batch",
        "description": "Create a new dataset from a completed batch operation.\n\nThe batch must be completed before a dataset can be created from it.\nRequires EDIT permission on the tenant.",
        "operationId": "create_dataset_api_v2_datasets_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDatasetRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Datasets",
          "datasets"
        ],
        "summary": "List datasets",
        "description": "List datasets for the tenant with optional filtering.\n\nRequires VIEW permission on the tenant.",
        "operationId": "list_datasets_api_v2_datasets_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/DatasetStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetListResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/datasets/{dataset_id}": {
      "get": {
        "tags": [
          "Datasets",
          "datasets"
        ],
        "summary": "Get dataset details",
        "description": "Get details of a specific dataset.\n\nRequires VIEW permission on the tenant.",
        "operationId": "get_dataset_api_v2_datasets__dataset_id__get",
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Dataset Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/datasets/{dataset_id}/export": {
      "post": {
        "tags": [
          "Datasets",
          "datasets"
        ],
        "summary": "Export dataset",
        "description": "Export a dataset in the specified format.\n\nFor small datasets, the content is returned directly in the response.\nFor larger datasets, a download URL or file path is provided.\n\nRequires VIEW permission on the tenant.",
        "operationId": "export_dataset_api_v2_datasets__dataset_id__export_post",
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Dataset Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportDatasetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportDatasetResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/datasets/statistics/summary": {
      "get": {
        "tags": [
          "Datasets",
          "datasets"
        ],
        "summary": "Get dataset statistics",
        "description": "Get comprehensive dataset statistics for the tenant.\n\nIncludes dataset creation trends, export statistics, and popular formats.\nRequires VIEW permission on the tenant.",
        "operationId": "get_dataset_statistics_api_v2_datasets_statistics_summary_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetStatisticsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/descriptions": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get description history",
        "description": "Retrieve paginated history of image descriptions with filtering and search capabilities",
        "operationId": "get_description_history_api_v2_data_descriptions_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by start date",
              "title": "Start Date"
            },
            "description": "Filter by start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by end date",
              "title": "End Date"
            },
            "description": "Filter by end date"
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum confidence score",
              "title": "Min Confidence"
            },
            "description": "Minimum confidence score"
          },
          {
            "name": "max_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum confidence score",
              "title": "Max Confidence"
            },
            "description": "Maximum confidence score"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search terms (comma-separated)",
              "title": "Search"
            },
            "description": "Search terms (comma-separated)"
          },
          {
            "name": "source_types",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by source types (comma-separated)",
              "title": "Source Types"
            },
            "description": "Filter by source types (comma-separated)"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum results to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum results to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DescriptionHistoryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/verifications": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get verification history",
        "description": "Retrieve paginated history of image verifications with filtering and search capabilities",
        "operationId": "get_verification_history_api_v2_data_verifications_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by start date",
              "title": "Start Date"
            },
            "description": "Filter by start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by end date",
              "title": "End Date"
            },
            "description": "Filter by end date"
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum confidence score",
              "title": "Min Confidence"
            },
            "description": "Minimum confidence score"
          },
          {
            "name": "max_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum confidence score",
              "title": "Max Confidence"
            },
            "description": "Maximum confidence score"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search terms (comma-separated)",
              "title": "Search"
            },
            "description": "Search terms (comma-separated)"
          },
          {
            "name": "source_types",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by source types (comma-separated)",
              "title": "Source Types"
            },
            "description": "Filter by source types (comma-separated)"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum results to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum results to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerificationHistoryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/export": {
      "post": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Export processing results",
        "description": "Export description or verification results in various formats",
        "operationId": "export_processing_results_api_v2_data_export_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/export/{export_id}": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get export status",
        "description": "Check the status of an export operation",
        "operationId": "get_export_status_api_v2_data_export__export_id__get",
        "parameters": [
          {
            "name": "export_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Export Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/images/{verification_id}": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get stored image",
        "description": "Retrieve a stored image associated with a verification or description",
        "operationId": "get_stored_image_api_v2_data_images__verification_id__get",
        "parameters": [
          {
            "name": "verification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Verification Id"
            }
          },
          {
            "name": "thumbnail",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Return thumbnail by default for optimal performance",
              "default": true,
              "title": "Thumbnail"
            },
            "description": "Return thumbnail by default for optimal performance"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Thumbnail size if thumbnail=true (tiny, small, medium)",
              "default": "small",
              "title": "Size"
            },
            "description": "Thumbnail size if thumbnail=true (tiny, small, medium)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/batch-images/{item_id}": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get stored batch item image",
        "description": "Retrieve a stored image associated with a batch item",
        "operationId": "get_batch_item_image_api_v2_data_batch_images__item_id__get",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Item Id"
            }
          },
          {
            "name": "thumbnail",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Return thumbnail by default for optimal performance",
              "default": true,
              "title": "Thumbnail"
            },
            "description": "Return thumbnail by default for optimal performance"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Thumbnail size if thumbnail=true (tiny, small, medium)",
              "default": "small",
              "title": "Size"
            },
            "description": "Thumbnail size if thumbnail=true (tiny, small, medium)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/images/{verification_id}/variants": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "List available image variants",
        "description": "Get a list of all available size variants for an image",
        "operationId": "list_image_variants_api_v2_data_images__verification_id__variants_get",
        "parameters": [
          {
            "name": "verification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Verification Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/images/{verification_id}/variant/{variant_type}": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get specific image variant",
        "description": "Retrieve a specific size variant of an image",
        "operationId": "get_image_variant_api_v2_data_images__verification_id__variant__variant_type__get",
        "parameters": [
          {
            "name": "verification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Verification Id"
            }
          },
          {
            "name": "variant_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Variant Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/batch-images/{batch_item_id}/thumbnail": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get Batch Thumbnail",
        "description": "Get a thumbnail image for a batch item.\n\nThis endpoint retrieves the appropriate image variant based on the requested size.\n\nSizes:\n- tiny: 64px max dimension (tiny_64 variant)\n- small: 256px max dimension (small_256 variant) [default]\n- medium: 750px max dimension (medium_750 variant)\n\nReturns the image file with proper caching headers.\nAccess is restricted to the tenant that owns the batch item.",
        "operationId": "get_batch_thumbnail_api_v2_data_batch_images__batch_item_id__thumbnail_get",
        "parameters": [
          {
            "name": "batch_item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Batch Item Id"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Thumbnail size: 'tiny' (64px), 'small' (256px), 'medium' (512px)",
              "default": "small",
              "title": "Size"
            },
            "description": "Thumbnail size: 'tiny' (64px), 'small' (256px), 'medium' (512px)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/data/images/{verification_id}/thumbnail": {
      "get": {
        "tags": [
          "Data History",
          "data-history"
        ],
        "summary": "Get Verification Thumbnail",
        "description": "Get a thumbnail image for a verification.\n\nThis is a convenience endpoint that automatically selects the appropriate\nimage variant based on the requested size.\n\nSizes:\n- tiny: 64px max dimension (tiny_64 variant)\n- small: 256px max dimension (small_256 variant) [default]\n- medium: 750px max dimension (medium_750 variant)\n\nReturns the image file with proper caching headers.\nAccess is restricted to the tenant that owns the verification.",
        "operationId": "get_verification_thumbnail_api_v2_data_images__verification_id__thumbnail_get",
        "parameters": [
          {
            "name": "verification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Verification Id"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Thumbnail size: 'tiny' (64px), 'small' (256px), 'medium' (512px)",
              "default": "small",
              "title": "Size"
            },
            "description": "Thumbnail size: 'tiny' (64px), 'small' (256px), 'medium' (512px)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/request-presigned-url": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Request Presigned Upload Url",
        "description": "Generate a presigned URL for direct browser-to-S3 upload.\n\nUses clean architecture - delegates to use case for business logic.",
        "operationId": "request_presigned_upload_url_api_v2_uploads_request_presigned_url_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PresignedUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PresignedUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/confirm": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Confirm Upload",
        "description": "Confirm that an upload was completed successfully.\n\nUses clean architecture - delegates to use case for business logic.",
        "operationId": "confirm_upload_api_v2_uploads_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadConfirmationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadConfirmationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/quota-check": {
      "get": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Check Upload Quota",
        "description": "Check if user has enough quota for an upload BEFORE starting.\n\nThis lightweight endpoint allows the frontend to validate quota\nbefore adding optimistic entries to the UI. Returns remaining quota\nand whether the upload can proceed.\n\nReturns:\n    - can_proceed: Whether the upload can proceed\n    - requested: Number of files requested\n    - available: Number of verifications remaining\n    - monthly_limit: Total monthly verification limit\n    - current_usage: Current month's usage\n    - message: User-friendly message if quota exceeded",
        "operationId": "check_upload_quota_api_v2_uploads_quota_check_get",
        "parameters": [
          {
            "name": "file_count",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Number of files to upload",
              "title": "File Count"
            },
            "description": "Number of files to upload"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/check-duplicates": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Check Duplicates",
        "description": "Check which file hashes already exist for this tenant.\n\nUsed by the frontend to detect duplicate files before uploading.\nCompares SHA-256 content hashes against existing non-deleted images.",
        "operationId": "check_duplicates_api_v2_uploads_check_duplicates_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DuplicateCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DuplicateCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/batch-prepare": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Prepare Batch Upload",
        "description": "Prepare a batch upload with presigned URLs for all files.\n\nThis endpoint:\n1. Creates a batch tracking record\n2. Generates presigned URLs for all files\n3. Determines optimal upload strategy based on tenant tier\n4. Returns upload plan and URLs in single response\n\nBenefits:\n- Single API call instead of N calls\n- Backend controls upload strategy\n- Batch is tracked from the start\n\nNow follows clean architecture - no direct aggregate access or business logic.",
        "operationId": "prepare_batch_upload_api_v2_uploads_batch_prepare_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchUploadPrepareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchUploadPrepareResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/batch-confirm": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Confirm Batch Upload",
        "description": "Confirm batch uploads and optionally trigger processing.\n\nThis endpoint:\n1. Validates all uploaded files\n2. Creates stored_image records\n3. Links uploads to batch\n4. Auto-triggers processing if requested\n\nBenefits:\n- Single transaction for all confirmations\n- Automatic processing trigger\n- Handles partial failures gracefully",
        "operationId": "confirm_batch_upload_api_v2_uploads_batch_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchUploadConfirmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchUploadConfirmResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/pending-batches": {
      "get": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Get Pending Batches",
        "description": "Get user's batches that may need recovery.\n\nThis endpoint is called by the frontend when the user visits the my-files page\nto check for interrupted uploads that can be auto-recovered.\n\nReturns batches where:\n- status IN (PENDING, UPLOADING)\n- created in last 2 hours\n- belongs to current user\n- confirmed_count = 0 (batch_confirm never called)",
        "operationId": "get_pending_batches_api_v2_uploads_pending_batches_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingBatchesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/batch/{batch_id}/auto-recover": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Auto Recover Batch",
        "description": "Auto-recover an interrupted batch upload.\n\nThis endpoint verifies which files from the batch exist in S3 and:\n- Confirms files that exist (triggers variant generation)\n- Marks missing files as failed with clear error message\n- Updates batch status appropriately\n\nCalled by the frontend for each pending batch found by GET /pending-batches.",
        "operationId": "auto_recover_batch_api_v2_uploads_batch__batch_id__auto_recover_post",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Batch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutoRecoveryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/cleanup-stale-batches": {
      "post": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Cleanup Stale Batches",
        "description": "Clean up stale/interrupted batch uploads.\n\nThis is a simplified alternative to the complex auto-recovery system.\nInstead of verifying S3 files, it simply:\n1. Marks old pending/uploading batches as 'expired'\n2. Marks associated images as failed with a clear message\n3. Returns a count for the frontend to show a one-time notification\n\nCalled by the frontend on page load to clean up interrupted uploads.\nThe frontend should only show the notification once per session.",
        "operationId": "cleanup_stale_batches_api_v2_uploads_cleanup_stale_batches_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanupStaleBatchesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/status/{image_id}": {
      "get": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Get Upload Status",
        "description": "Get unified status for a single image upload.\n\nThis endpoint provides a single source of truth by combining status\ninformation from images, upload_intents, and task_intents tables.\n\nReturns:\n    UnifiedImageStatusResponse with consolidated status information",
        "operationId": "get_upload_status_api_v2_uploads_status__image_id__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedImageStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/batch/{batch_id}/status": {
      "get": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Get Batch Status",
        "description": "Get unified status summary for a batch.\n\nProvides aggregated counts and overall status for all images\nin the batch without loading individual image data.\n\nReturns:\n    BatchStatusSummaryResponse with aggregated status information",
        "operationId": "get_batch_status_api_v2_uploads_batch__batch_id__status_get",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Batch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchStatusSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/stuck-uploads": {
      "get": {
        "tags": [
          "Uploads",
          "uploads"
        ],
        "summary": "Get Stuck Uploads",
        "description": "Find uploads stuck in non-terminal states.\n\nUseful for identifying images that may need manual intervention\nor investigation.\n\nArgs:\n    stuck_minutes: Minutes before considering an upload stuck (default: 30)\n    limit: Maximum results to return (default: 100)\n\nReturns:\n    StuckUploadsResponse with list of stuck images",
        "operationId": "get_stuck_uploads_api_v2_uploads_stuck_uploads_get",
        "parameters": [
          {
            "name": "stuck_minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": "Stuck Minutes"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StuckUploadsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/request-presigned-url": {
      "post": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Request document upload URL",
        "description": "Generate a presigned URL for uploading a document",
        "operationId": "request_document_presigned_url_api_v2_document_uploads_request_presigned_url_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentPresignedUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentPresignedUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/confirm": {
      "post": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Confirm document upload",
        "description": "Confirm upload and trigger document processing",
        "operationId": "confirm_document_upload_api_v2_document_uploads_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentConfirmationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentConfirmationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/{document_id}/status": {
      "get": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Get document status",
        "description": "Get processing status of a document",
        "operationId": "get_document_status_api_v2_document_uploads__document_id__status_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/health": {
      "get": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Document upload health check",
        "description": "Check if document upload service is available",
        "operationId": "health_check_api_v2_document_uploads_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Health Check Api V2 Document Uploads Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/quota-check": {
      "get": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Check Document Upload Quota",
        "description": "Check if user has enough quota for a document upload BEFORE starting.\n\nThis lightweight endpoint allows the frontend to validate quota\nbefore adding optimistic entries to the UI. Returns remaining quota\nand whether the upload can proceed.\n\nReturns:\n    - can_proceed: Whether the upload can proceed\n    - requested: Number of documents requested\n    - available: Number of verifications remaining\n    - monthly_limit: Total monthly verification limit\n    - current_usage: Current month's usage\n    - message: User-friendly message if quota exceeded",
        "operationId": "check_document_upload_quota_api_v2_document_uploads_quota_check_get",
        "parameters": [
          {
            "name": "file_count",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Number of documents to upload",
              "title": "File Count"
            },
            "description": "Number of documents to upload"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/batch-prepare": {
      "post": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Prepare batch document upload",
        "description": "Generate presigned URLs for batch document upload",
        "operationId": "prepare_batch_document_upload_api_v2_document_uploads_batch_prepare_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentBatchPrepareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentBatchPrepareResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/batch-confirm": {
      "post": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Confirm batch document upload",
        "description": "Confirm batch upload and trigger document extraction processing",
        "operationId": "confirm_batch_document_upload_api_v2_document_uploads_batch_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentBatchConfirmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentBatchConfirmResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/document-uploads/batch/{batch_id}/status": {
      "get": {
        "tags": [
          "Document Uploads",
          "Document Uploads"
        ],
        "summary": "Get document batch status",
        "description": "Get the status of a document batch upload",
        "operationId": "get_document_batch_status_api_v2_document_uploads_batch__batch_id__status_get",
        "parameters": [
          {
            "name": "batch_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Batch Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentBatchStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/search": {
      "post": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Search documents",
        "description": "Search document chunks by semantic similarity",
        "operationId": "search_documents_api_v2_documents_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentSearchRequestAPI"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentSearchResponseAPI"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "List documents",
        "description": "List all documents for the tenant",
        "operationId": "list_documents_api_v2_documents_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by extraction status (pending, completed, failed)",
              "title": "Status Filter"
            },
            "description": "Filter by extraction status (pending, completed, failed)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentListResponseAPI"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/{document_id}": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Get document info",
        "description": "Get information about a specific document",
        "operationId": "get_document_api_v2_documents__document_id__get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v2__endpoints__documents__DocumentInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Delete document",
        "description": "Delete a document, its S3 file, and cascade delete all chunks",
        "operationId": "delete_document_api_v2_documents__document_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Update Document Metadata",
        "description": "Update document metadata (title and tags). Only provided fields will be updated.",
        "operationId": "update_document_api_v2_documents__document_id__patch",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFileRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateFileResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Document not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/{document_id}/text": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Get document text",
        "description": "Get full extracted text from a document",
        "operationId": "get_document_text_api_v2_documents__document_id__text_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentTextResponseAPI"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/{document_id}/chunks": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Get document chunks",
        "description": "Get all chunks for a document",
        "operationId": "get_document_chunks_api_v2_documents__document_id__chunks_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          },
          {
            "name": "include_embeddings",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include embedding status",
              "default": false,
              "title": "Include Embeddings"
            },
            "description": "Include embedding status"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentChunksResponseAPI"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/batch-delete": {
      "post": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Batch Delete Documents",
        "description": "Delete multiple documents in a single operation.\n\n    **Performance Benefits:**\n    - Single API call instead of N individual calls\n    - Batch S3 deletion (up to 1000 objects per request)\n    - Optimized database operations\n\n    **Behavior:**\n    - Documents currently processing (text extraction or embedding) are skipped\n    - Successfully processes as many documents as possible\n    - Returns detailed results for each document\n\n    **Limits:**\n    - Maximum 100 documents per batch\n    - All documents must belong to the authenticated tenant",
        "operationId": "batch_delete_documents_api_v2_documents_batch_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchDeleteDocumentsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Batch delete completed (check individual results)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchDeleteDocumentsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/{document_id}/download": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Download document",
        "description": "Download the original document file via presigned S3 URL",
        "operationId": "download_document_api_v2_documents__document_id__download_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "302": {
            "description": "Redirect to presigned download URL"
          },
          "404": {
            "description": "Document not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/documents/health": {
      "get": {
        "tags": [
          "Documents",
          "Documents"
        ],
        "summary": "Document service health",
        "description": "Check document service health",
        "operationId": "health_check_api_v2_documents_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Health Check Api V2 Documents Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/check": {
      "post": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Check Usage",
        "description": "Check if an operation would exceed usage limits.\n\nThis endpoint allows clients to check before attempting an operation\nwhether they have sufficient credits available.",
        "operationId": "check_usage_api_v2_usage_check_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsageCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageCheckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/summary": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Usage Summary",
        "description": "Get usage summary for the authenticated tenant.\n\nReturns aggregated usage statistics for the specified period.\nRequires VIEW permission on the tenant.",
        "operationId": "get_usage_summary_api_v2_usage_summary_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date for usage period",
              "title": "Start Date"
            },
            "description": "Start date for usage period"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date for usage period",
              "title": "End Date"
            },
            "description": "End date for usage period"
          },
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Predefined period: day, week, month",
              "default": "month",
              "title": "Period"
            },
            "description": "Predefined period: day, week, month"
          },
          {
            "name": "api_key_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by specific API key",
              "title": "Api Key Id"
            },
            "description": "Filter by specific API key"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/details": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Usage Details",
        "description": "Get detailed usage records for the authenticated tenant.\n\nReturns individual usage events with pagination.\nRequires VIEW permission on the tenant.",
        "operationId": "get_usage_details_api_v2_usage_details_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date for usage period",
              "title": "Start Date"
            },
            "description": "Start date for usage period"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date for usage period",
              "title": "End Date"
            },
            "description": "End date for usage period"
          },
          {
            "name": "api_key_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by specific API key",
              "title": "Api Key Id"
            },
            "description": "Filter by specific API key"
          },
          {
            "name": "operation_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by operation type",
              "title": "Operation Type"
            },
            "description": "Filter by operation type"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 50,
              "title": "Page Size"
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/by-period": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Usage By Period",
        "description": "Get usage data grouped by time period.\n\nReturns time-series data for charts and analytics.\nRequires VIEW permission on the tenant.",
        "operationId": "get_usage_by_period_api_v2_usage_by_period_get",
        "parameters": [
          {
            "name": "period_type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Period type: hour, day, month",
              "default": "day",
              "title": "Period Type"
            },
            "description": "Period type: hour, day, month"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date",
              "title": "Start Date"
            },
            "description": "Start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date",
              "title": "End Date"
            },
            "description": "End date"
          },
          {
            "name": "api_key_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by API key",
              "title": "Api Key Id"
            },
            "description": "Filter by API key"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/plan": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Plan Usage",
        "description": "Get detailed plan utilization and subscription information.\n\nReturns comprehensive plan usage data including current utilization,\nbilling period information, and optimization recommendations.\nRequires VIEW permission on the tenant.",
        "operationId": "get_plan_usage_api_v2_usage_plan_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Billing period: month, quarter, year",
              "default": "month",
              "title": "Period"
            },
            "description": "Billing period: month, quarter, year"
          },
          {
            "name": "include_projections",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include usage projections and recommendations",
              "default": true,
              "title": "Include Projections"
            },
            "description": "Include usage projections and recommendations"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/top-endpoints": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Top Endpoints",
        "description": "Get top endpoints by usage count.\n\nReturns the most frequently used endpoints for analytics.\nRequires VIEW permission on the tenant.",
        "operationId": "get_top_endpoints_api_v2_usage_top_endpoints_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Number of top endpoints",
              "default": 10,
              "title": "Limit"
            },
            "description": "Number of top endpoints"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date",
              "title": "Start Date"
            },
            "description": "Start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date",
              "title": "End Date"
            },
            "description": "End date"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/breakdown": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Usage Breakdown",
        "description": "Get detailed breakdown of credit usage by verification level and operation type.\n\nProvides visibility into how credits are being consumed across different\nverification levels (quick, standard, thorough, critical) and operation\ntypes (describe, verify, batch operations).\n\nThis helps understand usage patterns and optimize verification level selection.",
        "operationId": "get_usage_breakdown_api_v2_usage_breakdown_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageBreakdownResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/tokens/monthly": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Monthly Token Usage",
        "description": "Get monthly token usage breakdown for the authenticated tenant.\n\nReturns token counts split by operation type (describe, chat, verify)\nfor the specified month.",
        "operationId": "get_monthly_token_usage_api_v2_usage_tokens_monthly_get",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Year to query (defaults to current)",
              "title": "Year"
            },
            "description": "Year to query (defaults to current)"
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 12,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Month to query (defaults to current)",
              "title": "Month"
            },
            "description": "Month to query (defaults to current)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonthlyTokenUsageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/tokens/files": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get File Token Usage",
        "description": "Get per-file token usage for the authenticated tenant.\n\nReturns token usage for each file that has been processed with auto-describe,\nsorted by most recent first.",
        "operationId": "get_file_token_usage_api_v2_usage_tokens_files_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum files to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum files to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileTokenUsageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/tokens/conversations": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Conversation Token Usage",
        "description": "Get per-conversation token usage for the authenticated tenant.\n\nReturns token usage aggregated by chat session, sorted by most recent first.",
        "operationId": "get_conversation_token_usage_api_v2_usage_tokens_conversations_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum conversations to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum conversations to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationTokenUsageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/usage/dashboard-analytics": {
      "get": {
        "tags": [
          "Usage Analytics"
        ],
        "summary": "Get Dashboard Analytics",
        "description": "Get dashboard analytics from real activity data.\n\nQueries processing_history, chat_messages, images, chat_sessions,\nand image_descriptions to build a comprehensive activity overview.",
        "operationId": "get_dashboard_analytics_api_v2_usage_dashboard_analytics_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "week",
                "month",
                "year"
              ],
              "type": "string",
              "description": "Period: week, month, year",
              "default": "month",
              "title": "Period"
            },
            "description": "Period: week, month, year"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardAnalyticsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/profile": {
      "get": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Get User Profile",
        "description": "Get current user profile information.\n\nReturns the authenticated user's profile data including preferences.",
        "operationId": "get_user_profile_api_v2_user_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Update User Profile",
        "description": "Update user profile information.\n\nAllows updating name and preferences.",
        "operationId": "update_user_profile_api_v2_user_profile_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserProfileUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/change-password": {
      "post": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Change Password",
        "description": "Change user password.\n\nRequires current password for verification.\nRate limited to prevent brute force attacks.",
        "operationId": "change_password_api_v2_user_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Change Password Api V2 User Change Password Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/change-email": {
      "post": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Change Email",
        "description": "Request email change.\n\nRequires password verification and sends confirmation email to new address.",
        "operationId": "change_email_api_v2_user_change_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailChangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/sessions": {
      "get": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Get User Sessions",
        "description": "Get all active sessions for the current user.\n\nReturns a list of all active sessions with device and location info.",
        "operationId": "get_user_sessions_api_v2_user_sessions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SessionResponse"
                  },
                  "type": "array",
                  "title": "Response Get User Sessions Api V2 User Sessions Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/sessions/{session_id}": {
      "delete": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Revoke Session",
        "description": "Revoke a specific session.\n\nMarks the session as inactive, effectively logging out that device.",
        "operationId": "revoke_session_api_v2_user_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/revoke-all-sessions": {
      "post": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Revoke All Sessions",
        "description": "Revoke all sessions except the current one.\n\nUseful for security purposes when user suspects account compromise.",
        "operationId": "revoke_all_sessions_api_v2_user_revoke_all_sessions_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/api/v2/user/set-initial-password": {
      "post": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Set Initial Password",
        "description": "Allow OAuth users to add password authentication.\n\nThis endpoint enables users who signed up with OAuth (Google, GitHub, etc.)\nto set a password, allowing them to sign in with either method.\n\nReturns:\n    Dict with success status and updated auth_provider\n\nRaises:\n    400: If user already has a password set\n    401: If not authenticated\n    500: Server error",
        "operationId": "set_initial_password_api_v2_user_set_initial_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "minLength": 8,
                "title": "New Password",
                "description": "Password must be at least 8 characters"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Set Initial Password Api V2 User Set Initial Password Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user/account/delete": {
      "post": {
        "tags": [
          "User Settings",
          "User Settings"
        ],
        "summary": "Delete Account",
        "description": "Permanently delete the authenticated user's account.\n\nDeletes all owned tenants (cascading to API keys, members, etc.),\ncancels active Stripe subscriptions, and creates an audit record.\n\nRequires the user to type 'delete my account' as confirmation.\nRate limited to 3 attempts per day.",
        "operationId": "delete_account_api_v2_user_account_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteAccountRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/settings": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Tenant Settings",
        "description": "Get current tenant settings.\n\nReturns configuration and usage information for the tenant.\nRequires VIEW permission on the tenant.",
        "operationId": "get_tenant_settings_api_v2_tenant_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSettingsResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Update Tenant Settings",
        "description": "Update tenant settings.\n\nRequires ADMIN role on the tenant.",
        "operationId": "update_tenant_settings_api_v2_tenant_settings_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantSettingsUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/limits": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Tenant Limits",
        "description": "Get tenant usage limits and current usage.\n\nReturns limits, current usage, and remaining quota.\nRequires VIEW permission on the tenant.",
        "operationId": "get_tenant_limits_api_v2_tenant_limits_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantLimitsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/members": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Tenant Members",
        "description": "Get tenant members.\n\nReturns list of users who have access to this tenant.\nRequires VIEW permission on the tenant.",
        "operationId": "get_tenant_members_api_v2_tenant_members_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/app__api__v2__models__tenant_models__TenantMemberResponse"
                  },
                  "type": "array",
                  "title": "Response Get Tenant Members Api V2 Tenant Members Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/members/invite": {
      "post": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Invite Tenant Member",
        "description": "Invite a user to join the tenant.\n\nRequires ADMIN role on the tenant (OWNER check will be done within the function).\nCreates a new user account if the email doesn't exist.",
        "operationId": "invite_tenant_member_api_v2_tenant_members_invite_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InviteMemberRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v2__models__tenant_models__TenantMemberResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/members/{user_id}/role": {
      "patch": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Update Member Role",
        "description": "Update a tenant member's role.\n\nRequires ADMIN role on the tenant. Permission validation is handled by the use case.\nCannot change the owner's role.",
        "operationId": "update_member_role_api_v2_tenant_members__user_id__role_patch",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/app__api__v2__models__tenant_models__UpdateMemberRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v2__models__tenant_models__TenantMemberResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/members/{user_id}": {
      "delete": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Remove Tenant Member",
        "description": "Remove a member from the tenant.\n\nRequires ADMIN role on the tenant (OWNER check will be done within the function).\nCannot remove the owner.",
        "operationId": "remove_tenant_member_api_v2_tenant_members__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/s3-config": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Custom S3 Status",
        "description": "Get status of custom S3 configuration.\n\nReturns configuration status without exposing sensitive credentials.\nRequires VIEW permission on the tenant.",
        "operationId": "get_custom_s3_status_api_v2_tenant_s3_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/S3ConfigStatusResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Configure Custom S3",
        "description": "Configure custom S3 bucket for the tenant.\n\nThe tenant's S3 credentials are validated by testing bucket access,\nthen encrypted and stored securely. Once configured, uploads can\nspecify storage_target='custom' to use this bucket.\n\nRequires ADMIN permission on the tenant.",
        "operationId": "configure_custom_s3_api_v2_tenant_s3_config_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfigureS3Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/S3ConfigStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Remove Custom S3",
        "description": "Remove custom S3 configuration.\n\nAfter removal, all uploads will use the default Aionvision bucket.\nRequires ADMIN permission on the tenant.",
        "operationId": "remove_custom_s3_api_v2_tenant_s3_config_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/s3-config/validate": {
      "post": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Validate Custom S3",
        "description": "Validate that custom S3 configuration is still working.\n\nTests bucket access using stored credentials without modifying anything.\nUseful for health checks and debugging.",
        "operationId": "validate_custom_s3_api_v2_tenant_s3_config_validate_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/S3ValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/audit-logs": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Audit Logs",
        "description": "Get audit logs for the tenant.\n\nReturns a paginated list of audit log entries with filtering options.\nRequires ADMIN role on the tenant.",
        "operationId": "get_audit_logs_api_v2_tenant_audit_logs_get",
        "parameters": [
          {
            "name": "event_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by event type",
              "title": "Event Type"
            },
            "description": "Filter by event type"
          },
          {
            "name": "severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by severity",
              "title": "Severity"
            },
            "description": "Filter by severity"
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by user ID",
              "title": "User Id"
            },
            "description": "Filter by user ID"
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter from date (inclusive)",
              "title": "Date From"
            },
            "description": "Filter from date (inclusive)"
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter to date (inclusive)",
              "title": "Date To"
            },
            "description": "Filter to date (inclusive)"
          },
          {
            "name": "result",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by result (success, failure, denied)",
              "title": "Result"
            },
            "description": "Filter by result (success, failure, denied)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of entries to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Number of entries to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditLogListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/tenant/audit-logs/{log_id}": {
      "get": {
        "tags": [
          "Tenant Settings",
          "Tenant Settings"
        ],
        "summary": "Get Audit Log",
        "description": "Get a single audit log entry.\n\nRequires ADMIN role on the tenant.",
        "operationId": "get_audit_log_api_v2_tenant_audit_logs__log_id__get",
        "parameters": [
          {
            "name": "log_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Log Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditLogResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/checkout": {
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Create Checkout Session",
        "description": "Create a Stripe checkout session for subscription upgrade.",
        "operationId": "create_checkout_session_api_v2_payment_checkout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/billing-portal": {
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Create Billing Portal Session",
        "description": "Create a Stripe billing portal session for subscription management.",
        "operationId": "create_billing_portal_session_api_v2_payment_billing_portal_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingPortalResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/subscription/status": {
      "get": {
        "tags": [
          "Payment"
        ],
        "summary": "Get Subscription Status",
        "description": "Get current subscription status for user.",
        "operationId": "get_subscription_status_api_v2_payment_subscription_status_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tenant UUID. If omitted, uses primary owned tenant (deprecated)",
              "title": "Tenant Id"
            },
            "description": "Tenant UUID. If omitted, uses primary owned tenant (deprecated)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/subscription/update": {
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Update Subscription",
        "description": "Update existing subscription (upgrade, downgrade, cancel, or resume).",
        "operationId": "update_subscription_api_v2_payment_subscription_update_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubscriptionUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionUpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/webhooks/stripe": {
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Handle Stripe Webhook",
        "description": "Handle Stripe webhook events.",
        "operationId": "handle_stripe_webhook_api_v2_payment_webhooks_stripe_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/credit-packs/checkout": {
      "post": {
        "tags": [
          "Payment"
        ],
        "summary": "Purchase Credit Pack",
        "description": "Purchase a prepaid credit pack.",
        "operationId": "purchase_credit_pack_api_v2_payment_credit_packs_checkout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreditPackCheckoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditPackCheckoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/payment/credit-balance": {
      "get": {
        "tags": [
          "Payment"
        ],
        "summary": "Get Credit Balance",
        "description": "Get prepaid credit balance and purchase history.",
        "operationId": "get_credit_balance_api_v2_payment_credit_balance_get",
        "parameters": [
          {
            "name": "tenant_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Tenant UUID to get credit balance for",
              "title": "Tenant Id"
            },
            "description": "Tenant UUID to get credit balance for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditBalanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/share": {
      "post": {
        "tags": [
          "Sharing"
        ],
        "summary": "Share Ruleset",
        "description": "Share a ruleset with another tenant or user.\n\nRequires SHARE permission on the tenant.",
        "operationId": "share_ruleset_api_v2_sharing_share_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShareRuleSetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/share/public": {
      "post": {
        "tags": [
          "Sharing"
        ],
        "summary": "Create Public Share",
        "description": "Create a public share link for a ruleset.\n\nRequires SHARE permission on the tenant.",
        "operationId": "create_public_share_api_v2_sharing_share_public_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePublicShareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/share/accept": {
      "post": {
        "tags": [
          "Sharing"
        ],
        "summary": "Accept Share",
        "description": "Accept a share invitation.",
        "operationId": "accept_share_api_v2_sharing_share_accept_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptShareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/share/{share_id}": {
      "delete": {
        "tags": [
          "Sharing"
        ],
        "summary": "Revoke Share",
        "description": "Revoke a share.\n\nRequires SHARE permission on the tenant.",
        "operationId": "revoke_share_api_v2_sharing_share__share_id__delete",
        "parameters": [
          {
            "name": "share_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Share Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/shares/sent": {
      "get": {
        "tags": [
          "Sharing"
        ],
        "summary": "List Sent Shares",
        "description": "List all shares sent by the tenant.\n\nRequires VIEW permission on the tenant.",
        "operationId": "list_sent_shares_api_v2_sharing_shares_sent_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ShareResponse"
                  },
                  "type": "array",
                  "title": "Response List Sent Shares Api V2 Sharing Shares Sent Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/shares/received": {
      "get": {
        "tags": [
          "Sharing"
        ],
        "summary": "List Received Shares",
        "description": "List all shares received by the tenant.\n\nRequires VIEW permission on the tenant.",
        "operationId": "list_received_shares_api_v2_sharing_shares_received_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ShareResponse"
                  },
                  "type": "array",
                  "title": "Response List Received Shares Api V2 Sharing Shares Received Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/members": {
      "get": {
        "tags": [
          "Sharing"
        ],
        "summary": "List Tenant Members",
        "description": "List all members of the tenant.\n\nRequires VIEW permission on the tenant.",
        "operationId": "list_tenant_members_api_v2_sharing_members_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/app__api__v2__models__sharing_models__TenantMemberResponse"
                  },
                  "type": "array",
                  "title": "Response List Tenant Members Api V2 Sharing Members Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Sharing"
        ],
        "summary": "Add Tenant Member",
        "description": "Add a new member to the tenant.\n\nRequires MANAGE_MEMBERS permission on the tenant.",
        "operationId": "add_tenant_member_api_v2_sharing_members_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddTenantMemberRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v2__models__sharing_models__TenantMemberResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/members/{user_id}/role": {
      "patch": {
        "tags": [
          "Sharing"
        ],
        "summary": "Update Member Role",
        "description": "Update a member's role.\n\nRequires MANAGE_MEMBERS permission on the tenant.",
        "operationId": "update_member_role_api_v2_sharing_members__user_id__role_patch",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/app__api__v2__models__sharing_models__UpdateMemberRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/app__api__v2__models__sharing_models__TenantMemberResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/members/{user_id}": {
      "delete": {
        "tags": [
          "Sharing"
        ],
        "summary": "Remove Tenant Member",
        "description": "Remove a member from the tenant.\n\nRequires MANAGE_MEMBERS permission on the tenant.",
        "operationId": "remove_tenant_member_api_v2_sharing_members__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sharing/shared/{share_token}": {
      "get": {
        "tags": [
          "Sharing"
        ],
        "summary": "Get Shared Ruleset",
        "description": "Get a shared ruleset by share token.\nThis endpoint supports both authenticated and unauthenticated access.",
        "operationId": "get_shared_ruleset_api_v2_sharing_shared__share_token__get",
        "parameters": [
          {
            "name": "share_token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Share Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Create Chat Session",
        "description": "Create a new chat session for image-informed conversations.\n\n    Optionally provide initial images to include in the context.\n    The session will track token usage and manage conversation history.",
        "operationId": "create_chat_session_api_v2_chat_sessions_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChatSessionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateChatSessionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "List Chat Sessions",
        "description": "Get a list of user's chat sessions with metadata. Optionally search by title or message content.",
        "operationId": "list_chat_sessions_api_v2_chat_sessions_get",
        "parameters": [
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by active status",
              "title": "Is Active"
            },
            "description": "Filter by active status"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 200
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search sessions by title or message content",
              "title": "Search"
            },
            "description": "Search sessions by title or message content"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of sessions to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of sessions to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of sessions to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of sessions to skip"
          },
          {
            "name": "min_messages",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter sessions with at least this many messages",
              "title": "Min Messages"
            },
            "description": "Filter sessions with at least this many messages"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListChatSessionsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}": {
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "Get Chat Session",
        "description": "Get a chat session with all messages and context.",
        "operationId": "get_chat_session_api_v2_chat_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "include_messages",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include messages in response",
              "default": true,
              "title": "Include Messages"
            },
            "description": "Include messages in response"
          },
          {
            "name": "message_limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 1000,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Limit number of messages",
              "title": "Message Limit"
            },
            "description": "Limit number of messages"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetChatSessionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Chat"
        ],
        "summary": "Close Chat Session",
        "description": "Close an active chat session and release resources.",
        "operationId": "close_chat_session_api_v2_chat_sessions__session_id__delete",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloseChatSessionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/messages": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Send Chat Message",
        "description": "Send a message in a chat session and receive an AI response.\n\n    The AI will have access to the context of selected images and\n    previous conversation history. Token usage is tracked and limited.",
        "operationId": "send_chat_message_api_v2_chat_sessions__session_id__messages_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "429": {
            "description": "Token limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/images": {
      "put": {
        "tags": [
          "Chat"
        ],
        "summary": "Update Session Images",
        "description": "Update the selected images for a chat session.\n\n    This changes the context available to the AI for subsequent messages.\n    Maximum 1000 images can be selected at once.",
        "operationId": "update_session_images_api_v2_chat_sessions__session_id__images_put",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateImagesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateImagesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/documents": {
      "put": {
        "tags": [
          "Chat"
        ],
        "summary": "Update Session Documents",
        "description": "Update the selected documents for a chat session.\n\n    This sets which documents are available in the chat context.\n    Maximum 100 documents can be selected at once.",
        "operationId": "update_session_documents_api_v2_chat_sessions__session_id__documents_put",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDocumentsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDocumentsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Session Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/mode": {
      "patch": {
        "tags": [
          "Chat"
        ],
        "summary": "Update Session Mode",
        "description": "Update the session mode (all images vs selected images).\n\n    This endpoint allows toggling between:\n    - All images mode: Uses all available images in context\n    - Selected images mode: Uses only specifically selected images",
        "operationId": "update_session_mode_api_v2_chat_sessions__session_id__mode_patch",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSessionModeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateSessionModeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Session Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/plans/{plan_id}/action": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Execute Plan Action",
        "description": "Approve or cancel an execution plan.\n\n    When a complex multi-topic request is made, the system may return a plan\n    requiring approval. Use this endpoint to approve or cancel that plan.\n\n    For 'approve' action, include the plan_data from the original response.",
        "operationId": "execute_plan_action_api_v2_chat_sessions__session_id__plans__plan_id__action_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlanActionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan completed synchronously (fast path)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanActionResponse"
                }
              }
            }
          },
          "202": {
            "description": "Plan execution accepted, progress streamed via WebSocket"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Plan or session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "409": {
            "description": "Plan is currently being processed"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/images/search": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Search Images",
        "description": "Search for images using natural language queries.\n\n    Examples:\n    - \"red cars from last week\"\n    - \"images with dogs and cats\"\n    - \"high confidence detections of people\"\n\n    The search engine understands context, synonyms, and filters.",
        "operationId": "search_images_api_v2_chat_images_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchImagesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/title": {
      "patch": {
        "tags": [
          "Chat"
        ],
        "summary": "Rename Chat Session",
        "description": "Update the title of an existing chat session",
        "operationId": "rename_chat_session_api_v2_chat_sessions__session_id__title_patch",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameSessionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Rename Chat Session Api V2 Chat Sessions  Session Id  Title Patch"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/export": {
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "Export Chat Session",
        "description": "Export a chat session in various formats.\n\n    Supported formats:\n    - json: Complete session data with metadata\n    - markdown: Human-readable markdown format\n    - text: Plain text format",
        "operationId": "export_chat_session_api_v2_chat_sessions__session_id__export_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Export format: json, markdown, or text",
              "default": "markdown",
              "title": "Format"
            },
            "description": "Export format: json, markdown, or text"
          },
          {
            "name": "include_metadata",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include metadata in export",
              "default": false,
              "title": "Include Metadata"
            },
            "description": "Include metadata in export"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/sessions/{session_id}/messages/stream": {
      "post": {
        "tags": [
          "Chat"
        ],
        "summary": "Send Message with Streaming",
        "description": "Send a message to the chat session and receive streaming response.\n\n    Uses Server-Sent Events (SSE) to stream the response token by token.",
        "operationId": "send_message_stream_api_v2_chat_sessions__session_id__messages_stream_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/chat/images/all": {
      "get": {
        "tags": [
          "Chat"
        ],
        "summary": "Get all user images",
        "description": "Get all images for the authenticated user for chat context",
        "operationId": "get_all_user_images_api_v2_chat_images_all_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 1,
              "description": "Maximum number of images to return",
              "default": 5000,
              "title": "Limit"
            },
            "description": "Maximum number of images to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of images to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of images to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetAllUserImagesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files": {
      "get": {
        "tags": [
          "User Files"
        ],
        "summary": "List User Files",
        "description": "List user's uploaded files with filtering and search capabilities.\n\n    Supports:\n    - Full-text search with multiple modes (all, metadata, visible text)\n    - Filtering by tags\n    - Date range filtering\n    - Pagination",
        "operationId": "list_user_files_api_v2_user_files_get",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search in titles and descriptions",
              "title": "Search"
            },
            "description": "Search in titles and descriptions"
          },
          {
            "name": "search_mode",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/SearchMode",
              "description": "Search mode: all, metadata, or visible_text",
              "default": "all"
            },
            "description": "Search mode: all, metadata, or visible_text"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tags",
              "title": "Tags"
            },
            "description": "Filter by tags"
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by date from",
              "title": "Date From"
            },
            "description": "Filter by date from"
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by date to",
              "title": "Date To"
            },
            "description": "Filter by date to"
          },
          {
            "name": "has_description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by description status",
              "title": "Has Description"
            },
            "description": "Filter by description status"
          },
          {
            "name": "ids",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "uuid"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by specific file IDs (max 500)",
              "title": "Ids"
            },
            "description": "Filter by specific file IDs (max 500)"
          },
          {
            "name": "media_types",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by media types: image, video, document",
              "title": "Media Types"
            },
            "description": "Filter by media types: image, video, document"
          },
          {
            "name": "folder_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by folder ID (returns files in this folder only)",
              "title": "Folder Id"
            },
            "description": "Filter by folder ID (returns files in this folder only)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of files to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of files to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of files to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of files to skip"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sort field: created_at, content_created_at, title, size_bytes",
              "default": "content_created_at",
              "title": "Sort By"
            },
            "description": "Sort field: created_at, content_created_at, title, size_bytes"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sort order: asc or desc",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "Sort order: asc or desc"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListUserFilesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/upload/initiate": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Initiate File Upload",
        "description": "Initiate file upload by returning presigned URL(s) for direct S3 upload.\n\n    This endpoint follows the direct-to-storage pattern:\n    1. Client sends only metadata (filename, size, type)\n    2. Server returns presigned URL(s) for direct S3 upload\n    3. Client uploads directly to S3\n    4. Client confirms upload completion\n\n    NO FILE DATA is sent to or processed by the API tier.\n    Maximum file size: 50MB",
        "operationId": "initiate_upload_api_v2_user_files_upload_initiate_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_initiate_upload_api_v2_user_files_upload_initiate_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InitiateUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "413": {
            "description": "File too large",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/upload/confirm": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Confirm File Upload",
        "description": "Confirm that a file upload completed successfully.\n\n    Triggers auto-description if enabled.",
        "operationId": "confirm_upload_api_v2_user_files_upload_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfirmUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Image not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/upload/stream": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Stream Upload File (Direct Upload)",
        "description": "Upload file directly via streaming (bypasses presigned URL flow).\n\n    Benefits:\n    - Eliminates S3 download bottleneck (2-5 second savings per file)\n    - Processes file in-memory while uploading to S3 (parallel execution)\n    - Suitable for files <100MB",
        "operationId": "stream_upload_file_api_v2_user_files_upload_stream_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_stream_upload_file_api_v2_user_files_upload_stream_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StreamingUploadResponse"
                }
              }
            }
          },
          "201": {
            "description": "Upload successful"
          },
          "413": {
            "description": "File too large"
          },
          "429": {
            "description": "Memory limit exceeded"
          },
          "501": {
            "description": "Streaming uploads not enabled"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/{image_id}": {
      "get": {
        "tags": [
          "User Files"
        ],
        "summary": "Get File Details",
        "description": "Get detailed information about a specific user file.\n\n    Accepts either:\n    - Full UUID (e.g., 67d1d598-1234-5678-9abc-def012345678)\n    - 8-character prefix (e.g., 67d1d598) - will resolve to full ID\n\n    Includes:\n    - Full metadata\n    - All descriptions\n    - Processing history\n    - URLs for different sizes",
        "operationId": "get_user_file_api_v2_user_files__image_id__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFileDetails"
                }
              }
            }
          },
          "404": {
            "description": "File not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "User Files"
        ],
        "summary": "Update File Metadata",
        "description": "Update file metadata (title and tags).\n\n    Only provided fields will be updated.",
        "operationId": "update_user_file_api_v2_user_files__image_id__patch",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFileRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateFileResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "404": {
            "description": "File not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Files"
        ],
        "summary": "Delete File",
        "description": "Soft delete a user file.\n\n    The file can be recovered within 30 days.",
        "operationId": "delete_user_file_api_v2_user_files__image_id__delete",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteFileResponse"
                }
              }
            }
          },
          "404": {
            "description": "File not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/batch-delete": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Batch Delete Files",
        "description": "Delete multiple user files in a single operation.\n\n    **Performance Benefits:**\n    - Single API call instead of N individual calls\n    - Batch S3 deletion (up to 1000 objects per request)\n    - Single cache invalidation at the end\n\n    **Behavior:**\n    - Files currently processing are skipped (not failed)\n    - Successfully processes as many files as possible\n    - Returns detailed results for each file\n\n    **Limits:**\n    - Maximum 100 files per batch\n    - All files must belong to the authenticated user",
        "operationId": "batch_delete_user_files_api_v2_user_files_batch_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchDeleteFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Batch delete completed (check individual results)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchDeleteFilesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/links": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Add Website Link",
        "description": "Save a website link for later reference.\n\n    The link will be crawled asynchronously to extract:\n    - Open Graph metadata (title, description, image)\n    - Page favicon\n    - Page content for search\n\n    Duplicate URLs are detected but allowed (with warning).",
        "operationId": "create_link_api_v2_user_files_links_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLinkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Link created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateLinkResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/{link_id}/recrawl": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Recrawl Link",
        "description": "Manually trigger a recrawl of a link to refresh its metadata.\n\n    The link will be re-fetched and Open Graph data, favicon, and page\n    content will be extracted again.\n\n    Rate limited to once per hour per link.",
        "operationId": "recrawl_link_api_v2_user_files__link_id__recrawl_post",
        "parameters": [
          {
            "name": "link_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Link Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Link recrawl queued",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Recrawl Link Api V2 User Files  Link Id  Recrawl Post"
                }
              }
            }
          },
          "400": {
            "description": "Not a link or already processing",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "404": {
            "description": "Link not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "429": {
            "description": "Recrawl too frequent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/{image_id}/variant/{variant_type}": {
      "get": {
        "tags": [
          "User Files"
        ],
        "summary": "Get Image Variant",
        "description": "Get a specific variant of a user file image.\n\n    Returns a redirect to a presigned URL for direct download from S3.\n\n    Available variants:\n    - original: Original uploaded image\n    - tiny_64: 64px max dimension\n    - small_256: 256px max dimension\n    - medium_750: 750px max dimension\n    - large_1024: 1024px max dimension",
        "operationId": "get_user_file_variant_api_v2_user_files__image_id__variant__variant_type__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          },
          {
            "name": "variant_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Variant Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "302": {
            "description": "Redirect to presigned URL"
          },
          "404": {
            "description": "Image or variant not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/{image_id}/download": {
      "get": {
        "tags": [
          "User Files"
        ],
        "summary": "Download User File",
        "description": "Download the original user file.\n\n    Returns a redirect to a presigned URL for direct download from S3\n    with proper Content-Disposition headers for file download.",
        "operationId": "download_user_file_api_v2_user_files__image_id__download_get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "302": {
            "description": "Redirect to presigned download URL"
          },
          "404": {
            "description": "Image not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserFilesError"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/{image_id}/trigger-variants": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Trigger Variant Generation",
        "description": "Manually trigger variant generation for an image.\n\nThis endpoint is useful for:\n- Recovering stuck images\n- Retrying failed variant generation\n- Debugging variant generation issues",
        "operationId": "trigger_variant_generation_api_v2_user_files__image_id__trigger_variants_post",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Trigger Variant Generation Api V2 User Files  Image Id  Trigger Variants Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/user-files/upload/stream-batch": {
      "post": {
        "tags": [
          "User Files"
        ],
        "summary": "Stream Batch Upload Files",
        "description": "Upload multiple files in a single request with server-managed concurrency.\n\n    **Limits:**\n    - Maximum files per request: Based on subscription tier (10-50)\n    - Maximum file size: 100MB per file\n    - Files processed with server-managed concurrency\n\n    **Features:**\n    - Returns session_id for progress tracking\n    - Real-time updates via WebSocket\n    - Automatic duplicate detection (optional)\n\n    **Response:**\n    - For small batches (<=5 files): Immediate results included\n    - For larger batches: Poll status_url for progress",
        "operationId": "stream_batch_upload_api_v2_user_files_upload_stream_batch_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_stream_batch_upload_api_v2_user_files_upload_stream_batch_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StreamBatchUploadResponse"
                }
              }
            }
          },
          "201": {
            "description": "Batch upload accepted"
          },
          "400": {
            "description": "Invalid request"
          },
          "413": {
            "description": "Too many files or total size exceeds limit"
          },
          "429": {
            "description": "Concurrent upload limit exceeded"
          },
          "501": {
            "description": "Streaming uploads not enabled"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/sessions/{session_id}/status": {
      "get": {
        "tags": [
          "Upload Sessions"
        ],
        "summary": "Get Upload Session Status",
        "description": "Get current status of an upload session.\n\n    Returns:\n    - Overall status (pending, processing, completed, etc.)\n    - Progress counts (completed, failed, pending)\n    - Progress percentage\n    - List of recent completions and errors\n    - Estimated time remaining (if processing)",
        "operationId": "get_session_status_api_v2_uploads_sessions__session_id__status_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadSessionStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/sessions/{session_id}/results": {
      "get": {
        "tags": [
          "Upload Sessions"
        ],
        "summary": "Get Session Results",
        "description": "Get paginated results from an upload session.\n\n    Returns:\n    - List of file results with image_id, status, description, etc.\n    - Pagination info\n    - Summary statistics",
        "operationId": "get_session_results_api_v2_uploads_sessions__session_id__results_get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "include_failed",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include failed files in results",
              "default": true,
              "title": "Include Failed"
            },
            "description": "Include failed files in results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Pagination offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "Pagination offset"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Results per page",
              "default": 100,
              "title": "Limit"
            },
            "description": "Results per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadSessionResultsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/sessions/{session_id}/cancel": {
      "post": {
        "tags": [
          "Upload Sessions"
        ],
        "summary": "Cancel Upload Session",
        "description": "Cancel a pending or processing upload session.\n\n    - Stops processing of remaining files\n    - Already-processed files keep their results\n    - Credits rolled back for unprocessed files",
        "operationId": "cancel_session_api_v2_uploads_sessions__session_id__cancel_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadSessionStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Session not found"
          },
          "400": {
            "description": "Session cannot be cancelled"
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/uploads/sessions": {
      "get": {
        "tags": [
          "Upload Sessions"
        ],
        "summary": "List Upload Sessions",
        "description": "List upload sessions for the authenticated tenant.\n\n    - Filter by status\n    - Paginated\n    - Ordered by created_at desc",
        "operationId": "list_sessions_api_v2_uploads_sessions_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          },
          {
            "name": "upload_method",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by upload_method: presigned or streaming",
              "title": "Upload Method"
            },
            "description": "Filter by upload_method: presigned or streaming"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of sessions to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Number of sessions to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Pagination offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "Pagination offset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadSessionListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/colors/images/{image_id}/extract": {
      "post": {
        "tags": [
          "Colors",
          "Colors"
        ],
        "summary": "Re-extract Colors",
        "description": "Re-run color extraction with custom settings. Colors are extracted automatically on upload  use this only to force a refresh or change the number of colors.",
        "operationId": "extract_colors_api_v2_colors_images__image_id__extract_post",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force re-extraction",
              "default": false,
              "title": "Force"
            },
            "description": "Force re-extraction"
          },
          {
            "name": "n_colors",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 16,
              "minimum": 3,
              "description": "Number of colors to extract (up to 16)",
              "default": 16,
              "title": "N Colors"
            },
            "description": "Number of colors to extract (up to 16)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColorAnalysisResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/colors/images/{image_id}": {
      "get": {
        "tags": [
          "Colors",
          "Colors"
        ],
        "summary": "Get Image Colors",
        "description": "Get extracted colors for an image.\n\nReturns the color analysis if available, or status if pending/processing.",
        "operationId": "get_image_colors_api_v2_colors_images__image_id__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColorAnalysisResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/colors/search": {
      "post": {
        "tags": [
          "Colors",
          "Colors"
        ],
        "summary": "Search By Color",
        "description": "Search images by color.\n\nSupports:\n- Hex code with Delta-E tolerance\n- Color name matching\n- Color family search",
        "operationId": "search_by_color_api_v2_colors_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ColorSearchRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ColorSearchResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/colors/families": {
      "get": {
        "tags": [
          "Colors",
          "Colors"
        ],
        "summary": "List Color Families",
        "description": "List available color families with descriptions and examples.\n\nColor families are semantic groupings useful for color-based searches.",
        "operationId": "list_color_families_api_v2_colors_families_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ColorFamilyDTO"
                  },
                  "type": "array",
                  "title": "Response List Color Families Api V2 Colors Families Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/colors/batch/extract": {
      "post": {
        "tags": [
          "Colors",
          "Colors"
        ],
        "summary": "Batch Re-extract Colors",
        "description": "Re-run color extraction for multiple images with custom settings. Colors are extracted automatically on upload.",
        "operationId": "batch_extract_colors_api_v2_colors_batch_extract_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchColorExtractionRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchColorExtractionResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/materials/images/{image_id}/classify": {
      "post": {
        "tags": [
          "Materials",
          "Materials"
        ],
        "summary": "Classify Materials",
        "description": "Trigger material classification for an image.\n\nUses VLM providers to detect material types, surface finishes,\ntextures, and patterns.",
        "operationId": "classify_materials_api_v2_materials_images__image_id__classify_post",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Force re-classification",
              "default": false,
              "title": "Force"
            },
            "description": "Force re-classification"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialClassificationResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/materials/images/{image_id}": {
      "get": {
        "tags": [
          "Materials",
          "Materials"
        ],
        "summary": "Get Image Materials",
        "description": "Get material classification for an image.\n\nReturns the classification if available, or status if pending/processing.",
        "operationId": "get_image_materials_api_v2_materials_images__image_id__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialClassificationResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/materials/search": {
      "post": {
        "tags": [
          "Materials",
          "Materials"
        ],
        "summary": "Search By Material",
        "description": "Search images by material classification.\n\nSupports filtering by:\n- Material type (wood, stone, metal, etc.)\n- Surface finish (matte, glossy, brushed, etc.)\n- Texture (smooth, rough, grained, etc.)\n- Pattern (solid, striped, geometric, etc.)",
        "operationId": "search_by_material_api_v2_materials_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MaterialSearchRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MaterialSearchResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/materials/types": {
      "get": {
        "tags": [
          "Materials",
          "Materials"
        ],
        "summary": "List Material Types",
        "description": "List available material types with descriptions.\n\nThese are the material categories detected by the classification system.",
        "operationId": "list_material_types_api_v2_materials_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MaterialTypeDTO"
                  },
                  "type": "array",
                  "title": "Response List Material Types Api V2 Materials Types Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/materials/batch/classify": {
      "post": {
        "tags": [
          "Materials",
          "Materials"
        ],
        "summary": "Batch Classify Materials",
        "description": "Queue batch material classification for multiple images.",
        "operationId": "batch_classify_materials_api_v2_materials_batch_classify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchMaterialClassificationRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchMaterialClassificationResponseDTO"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/auth/{provider}": {
      "post": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Initiate Auth",
        "description": "Initiate OAuth flow for cloud storage connection.\n\nReturns authorization URL to redirect user to.",
        "operationId": "initiate_auth_api_v2_cloud_storage_auth__provider__post",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateAuthRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InitiateAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/auth/{provider}/callback": {
      "get": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Oauth Callback Redirect",
        "description": "Handle OAuth callback redirect from Google.\n\nGoogle redirects here with GET after user authorizes.\nReturns HTML that posts a message to the popup opener.",
        "operationId": "oauth_callback_redirect_api_v2_cloud_storage_auth__provider__callback_get",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          },
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Authorization code from OAuth provider",
              "title": "Code"
            },
            "description": "Authorization code from OAuth provider"
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "State parameter for CSRF verification",
              "title": "State"
            },
            "description": "State parameter for CSRF verification"
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Error from OAuth provider",
              "title": "Error"
            },
            "description": "Error from OAuth provider"
          },
          {
            "name": "error_description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Error description",
              "title": "Error Description"
            },
            "description": "Error description"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Complete Auth",
        "description": "Complete OAuth flow and create connection.\n\nCalled after user authorizes the application.",
        "operationId": "complete_auth_api_v2_cloud_storage_auth__provider__callback_post",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteAuthRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompleteAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/connections": {
      "get": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "List Connections",
        "description": "List user's cloud storage connections.",
        "operationId": "list_connections_api_v2_cloud_storage_connections_get",
        "parameters": [
          {
            "name": "provider",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by provider",
              "title": "Provider"
            },
            "description": "Filter by provider"
          },
          {
            "name": "active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return active connections",
              "default": true,
              "title": "Active Only"
            },
            "description": "Only return active connections"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListConnectionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/connections/{connection_id}": {
      "delete": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Disconnect",
        "description": "Disconnect a cloud storage account.",
        "operationId": "disconnect_api_v2_cloud_storage_connections__connection_id__delete",
        "parameters": [
          {
            "name": "connection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Connection Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DisconnectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/connections/{connection_id}/picker-token": {
      "get": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Get Picker Token",
        "description": "Get picker session for Google Picker API.\n\nReturns a session ID that can be used with the picker proxy endpoint.\nThis keeps access tokens server-side for security (prevents XSS exposure).",
        "operationId": "get_picker_token_api_v2_cloud_storage_connections__connection_id__picker_token_get",
        "parameters": [
          {
            "name": "connection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Connection Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PickerTokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/picker-proxy": {
      "post": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Picker Proxy",
        "description": "Proxy API calls for the Google Picker.\n\nReceives a session ID and makes the actual API call server-side,\nkeeping access tokens secure and not exposed to the frontend.",
        "operationId": "picker_proxy_api_v2_cloud_storage_picker_proxy_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PickerProxyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PickerProxyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/import": {
      "post": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Import Files",
        "description": "Import files from cloud storage.\n\nAll imports are processed asynchronously via the job queue.",
        "operationId": "import_files_api_v2_cloud_storage_import_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/export": {
      "post": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Export Files",
        "description": "Export files to cloud storage.\n\nUploads images to the user's connected cloud storage account.",
        "operationId": "export_files_api_v2_cloud_storage_export_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExportFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/cloud-storage/jobs/{job_id}": {
      "get": {
        "tags": [
          "Cloud Storage",
          "Cloud Storage"
        ],
        "summary": "Get Job Status",
        "description": "Get status of a cloud storage job.\n\nUse this endpoint to track progress of async import/export operations.",
        "operationId": "get_job_status_api_v2_cloud_storage_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JobStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/folders": {
      "get": {
        "tags": [
          "Folders"
        ],
        "summary": "Get Folder Tree",
        "description": "Get all folders for the current user as a flat list. Client builds the tree using parent_id relationships.",
        "operationId": "get_folder_tree_api_v2_folders_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderTreeResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Folders"
        ],
        "summary": "Create Folder",
        "description": "Create a new folder at the specified location.",
        "operationId": "create_folder_api_v2_folders_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFolderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/folders/{folder_id}": {
      "get": {
        "tags": [
          "Folders"
        ],
        "summary": "Get Folder Contents",
        "description": "Get the contents of a folder including subfolders and file count.",
        "operationId": "get_folder_contents_api_v2_folders__folder_id__get",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Folder Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max files to count",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max files to count"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "File offset",
              "default": 0,
              "title": "Offset"
            },
            "description": "File offset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderContentsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Folders"
        ],
        "summary": "Rename Folder",
        "description": "Rename an existing folder.",
        "operationId": "rename_folder_api_v2_folders__folder_id__patch",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Folder Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameFolderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Folders"
        ],
        "summary": "Delete Folder",
        "description": "Delete a folder. Mode 'move_to_parent' moves contents up, 'delete_all' removes everything.",
        "operationId": "delete_folder_api_v2_folders__folder_id__delete",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Folder Id"
            }
          },
          {
            "name": "mode",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "move_to_parent",
                "delete_all"
              ],
              "type": "string",
              "description": "Deletion mode: 'move_to_parent' or 'delete_all'",
              "default": "move_to_parent",
              "title": "Mode"
            },
            "description": "Deletion mode: 'move_to_parent' or 'delete_all'"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteFolderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/folders/{folder_id}/breadcrumbs": {
      "get": {
        "tags": [
          "Folders"
        ],
        "summary": "Get Folder Breadcrumbs",
        "description": "Get the ancestor chain for a folder for breadcrumb navigation.",
        "operationId": "get_folder_breadcrumbs_api_v2_folders__folder_id__breadcrumbs_get",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Folder Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderBreadcrumbsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/folders/{folder_id}/move": {
      "post": {
        "tags": [
          "Folders"
        ],
        "summary": "Move Folder",
        "description": "Move a folder to a new parent location.",
        "operationId": "move_folder_api_v2_folders__folder_id__move_post",
        "parameters": [
          {
            "name": "folder_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Folder Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveFolderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FolderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/folders/move-files": {
      "post": {
        "tags": [
          "Folders"
        ],
        "summary": "Move Files to Folder",
        "description": "Move one or more files to a target folder (or root if folder_id is null).",
        "operationId": "move_files_to_folder_api_v2_folders_move_files_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MoveFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/search/images": {
      "post": {
        "tags": [
          "Agent Search",
          "Agent Search"
        ],
        "summary": "Search Images With Agent",
        "description": "Execute AI-powered image search using the ImageSearchAgent.\n\nThis endpoint provides direct access to the search agent without requiring\na chat session. The agent uses ReAct reasoning to interpret your query\nand find relevant images.\n\nReturns self-contained results with:\n- `results`: Full image objects with metadata\n- `summary`: Human-readable summary (refs resolved)\n- `summary_raw`: Original summary with [[ref:X]] patterns\n- `result_refs`: For building interactive UIs",
        "operationId": "search_images_with_agent_api_v2_agents_search_images_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageSearchAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImageSearchAgentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/search/documents": {
      "post": {
        "tags": [
          "Agent Search",
          "Agent Search"
        ],
        "summary": "Search Documents With Agent",
        "description": "Execute AI-powered document search using the DocumentSearchAgent.\n\nThis endpoint provides direct access to the document search agent without\nrequiring a chat session. The agent uses ReAct reasoning to interpret your\nquery and find relevant document sections.\n\nReturns self-contained results with:\n- `results`: Full chunk objects with text and metadata\n- `document_ids`: Unique documents found\n- `summary`: Human-readable summary (refs resolved)\n- `result_refs`: For building interactive UIs",
        "operationId": "search_documents_with_agent_api_v2_agents_search_documents_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentSearchAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentSearchAgentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/synthesize": {
      "post": {
        "tags": [
          "Agent Operations",
          "Agent Operations"
        ],
        "summary": "Synthesize Report",
        "description": "Generate a report or summary from given files using the AssistantAgent.\n\nThis endpoint provides direct access to the synthesis agent without\nrequiring a chat session. The agent analyzes provided images and/or\ndocuments to produce a structured markdown report.\n\nReturns:\n- `report`: Full markdown report content\n- `summary`: Brief summary\n- `saved_document_id`: If auto_save was enabled",
        "operationId": "synthesize_report_api_v2_agents_synthesize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SynthesizeAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SynthesizeAgentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/analyze/documents": {
      "post": {
        "tags": [
          "Agent Operations",
          "Agent Operations"
        ],
        "summary": "Analyze Documents",
        "description": "Perform deep analysis on documents using the DocumentAnalysisAgent.\n\nThis endpoint provides direct access to the document analysis agent without\nrequiring a chat session. The agent can summarize, compare, and categorize\ndocuments.\n\nReturns:\n- `analysis`: Full markdown analysis content\n- `summary`: Brief summary\n- `categorization`: Document categorization if produced\n- `chunk_references`: Document chunks cited in the analysis",
        "operationId": "analyze_documents_api_v2_agents_analyze_documents_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentAnalysisAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentAnalysisAgentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/organize": {
      "post": {
        "tags": [
          "Agent Operations",
          "Agent Operations"
        ],
        "summary": "Organize Files",
        "description": "Organize files into folders using the FolderAgent.\n\nThis endpoint provides direct access to the folder organization agent\nwithout requiring a chat session. The agent creates folders and moves\nfiles based on AI-driven categorization.\n\nReturns:\n- `summary`: Human-readable summary of actions taken\n- `actions`: Detailed list of folder operations performed\n- `folders_created`: Count of new folders\n- `files_moved`: Count of files moved",
        "operationId": "organize_files_api_v2_agents_organize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrganizeAgentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrganizeAgentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/agents/pipeline": {
      "post": {
        "tags": [
          "Agent Pipeline",
          "Agent Pipeline"
        ],
        "summary": "Execute Pipeline",
        "description": "Execute a multi-step agent pipeline.\n\nAccepts a list of agent steps with optional explicit dependencies.\nSteps are auto-wired by data type when dependencies are not specified.\nExecution is parallelized within waves where possible.",
        "operationId": "execute_pipeline_api_v2_agents_pipeline_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PipelineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PipelineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/support/contact": {
      "post": {
        "tags": [
          "Support"
        ],
        "summary": "Contact Support",
        "description": "Send a support contact message. Public endpoint, no auth required.",
        "operationId": "contact_support_api_v2_support_contact_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sdk/simple/": {
      "get": {
        "tags": [
          "SDK"
        ],
        "summary": "Simple Index",
        "description": "PEP 503 root: list available packages.",
        "operationId": "simple_index_api_v2_sdk_simple__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sdk/simple/aion/": {
      "get": {
        "tags": [
          "SDK"
        ],
        "summary": "Package Index",
        "description": "PEP 503 package page: list available wheel files with hashes.",
        "operationId": "package_index_api_v2_sdk_simple_aion__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sdk/simple/aion/{filename}": {
      "get": {
        "tags": [
          "SDK"
        ],
        "summary": "Download Wheel",
        "description": "Serve a wheel file for pip download.",
        "operationId": "download_wheel_api_v2_sdk_simple_aion__filename__get",
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/health/{path}": {
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Health",
        "description": "Redirect v1 health endpoints to v2.",
        "operationId": "redirect_health_api_v1_health__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/health/": {
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Health",
        "description": "Redirect v1 health endpoints to v2.",
        "operationId": "redirect_health_api_v1_health__get",
        "parameters": [
          {
            "name": "path",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/{path}": {
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Auth",
        "description": "Redirect v1 auth endpoints to v2.",
        "operationId": "redirect_auth_api_v1_auth__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Auth",
        "description": "Redirect v1 auth endpoints to v2.",
        "operationId": "redirect_auth_api_v1_auth__path__post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/verify/{path}": {
      "post": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Verify",
        "description": "Redirect v1 verify endpoints to v2.",
        "operationId": "redirect_verify_api_v1_verify__path__post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Verify",
        "description": "Redirect v1 verify endpoints to v2.",
        "operationId": "redirect_verify_api_v1_verify__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/describe/{path}": {
      "post": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Describe",
        "description": "Redirect v1 describe endpoints to v2.",
        "operationId": "redirect_describe_api_v1_describe__path__post",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect Describe",
        "description": "Redirect v1 describe endpoints to v2.",
        "operationId": "redirect_describe_api_v1_describe__path__get",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/{path}": {
      "patch": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect All",
        "description": "Redirect all other v1 endpoints to v2.",
        "operationId": "redirect_all_api_v1__path__patch",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect All",
        "description": "Redirect all other v1 endpoints to v2.",
        "operationId": "redirect_all_api_v1__path__patch",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect All",
        "description": "Redirect all other v1 endpoints to v2.",
        "operationId": "redirect_all_api_v1__path__patch",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect All",
        "description": "Redirect all other v1 endpoints to v2.",
        "operationId": "redirect_all_api_v1__path__patch",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V1 Compatibility"
        ],
        "summary": "Redirect All",
        "description": "Redirect all other v1 endpoints to v2.",
        "operationId": "redirect_all_api_v1__path__patch",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Application health check.\n\nThis endpoint performs a basic health check and should be used by load balancers.\nFor detailed health information, use the authenticated endpoints.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/metrics": {
      "get": {
        "summary": "Get Metrics",
        "description": "Get Prometheus metrics (requires authentication).",
        "operationId": "get_metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "APIKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier of the API key"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Name of the API key"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description of the API key"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix",
            "description": "First few characters of the API key for identification",
            "example": "aion_live_1234"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the API key was created"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At",
            "description": "Timestamp of last API key usage"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Expiration date, null if key never expires"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the API key is currently active"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "List of permissions/scopes assigned to this API key"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Custom metadata associated with the API key"
          },
          "usage_count": {
            "type": "integer",
            "title": "Usage Count",
            "description": "Number of times this API key has been used",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "created_at",
          "is_active",
          "scopes",
          "metadata"
        ],
        "title": "APIKeyResponse",
        "description": "Response model for API key information (without the raw key)."
      },
      "AcceptShareRequest": {
        "properties": {
          "invitation_code": {
            "type": "string",
            "title": "Invitation Code",
            "description": "The invitation code from the share link or email"
          }
        },
        "type": "object",
        "required": [
          "invitation_code"
        ],
        "title": "AcceptShareRequest",
        "description": "Request to accept a share invitation."
      },
      "AddTenantMemberRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address of the user to add as a tenant member"
          },
          "role": {
            "$ref": "#/components/schemas/Role",
            "description": "Role to assign to the new member (viewer, editor, admin)",
            "default": "viewer"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "AddTenantMemberRequest",
        "description": "Request to add a new member to a tenant."
      },
      "AuditLogListResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/AuditLogResponse"
            },
            "type": "array",
            "title": "Entries",
            "description": "List of audit log entries"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of entries matching the filter"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether there are more entries to fetch"
          }
        },
        "type": "object",
        "required": [
          "entries",
          "total_count",
          "has_more"
        ],
        "title": "AuditLogListResponse",
        "description": "Response model for paginated audit log list."
      },
      "AuditLogResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique audit log entry ID"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "Type of event (e.g., auth.login, api_key.created)"
          },
          "event_timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Event Timestamp",
            "description": "When the event occurred"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Severity level (info, warning, error, critical)"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "ID of the user who performed the action"
          },
          "api_key_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key Id",
            "description": "ID of the API key used (if applicable)"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action performed (create, read, update, delete, login, etc.)"
          },
          "result": {
            "type": "string",
            "title": "Result",
            "description": "Result of the action (success, failure, denied)"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address",
            "description": "IP address of the request"
          },
          "resource_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Type",
            "description": "Type of resource affected (api_key, rule_set, etc.)"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id",
            "description": "ID of the affected resource"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if action failed"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional event context"
          }
        },
        "type": "object",
        "required": [
          "id",
          "event_type",
          "event_timestamp",
          "severity",
          "action",
          "result"
        ],
        "title": "AuditLogResponse",
        "description": "Response model for a single audit log entry."
      },
      "AutoRecoveryResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID"
          },
          "recovered_files": {
            "type": "integer",
            "title": "Recovered Files",
            "description": "Number of files recovered from S3"
          },
          "failed_files": {
            "type": "integer",
            "title": "Failed Files",
            "description": "Number of files not found in S3"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Recovery status: 'recovered', 'nothing_to_recover', 'already_processed', 'not_found'"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "recovered_files",
          "failed_files",
          "status",
          "message"
        ],
        "title": "AutoRecoveryResponse",
        "description": "Response from auto-recovery operation."
      },
      "BatchColorExtractionRequestDTO": {
        "properties": {
          "image_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Image Ids"
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          },
          "n_colors": {
            "type": "integer",
            "maximum": 16.0,
            "minimum": 3.0,
            "title": "N Colors",
            "default": 16
          }
        },
        "type": "object",
        "required": [
          "image_ids"
        ],
        "title": "BatchColorExtractionRequestDTO",
        "description": "Request for batch color extraction."
      },
      "BatchColorExtractionResponseDTO": {
        "properties": {
          "queued_count": {
            "type": "integer",
            "title": "Queued Count"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "queued_count",
          "message"
        ],
        "title": "BatchColorExtractionResponseDTO",
        "description": "Response for batch color extraction."
      },
      "BatchDeleteDocumentResult": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Document ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: deleted, skipped, or failed"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Additional details"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Deletion timestamp if deleted"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status"
        ],
        "title": "BatchDeleteDocumentResult",
        "description": "Result for a single document in batch delete operation."
      },
      "BatchDeleteDocumentsRequest": {
        "properties": {
          "document_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Document Ids",
            "description": "List of document IDs to delete (max 100)"
          }
        },
        "type": "object",
        "required": [
          "document_ids"
        ],
        "title": "BatchDeleteDocumentsRequest",
        "description": "Request for batch deleting documents."
      },
      "BatchDeleteDocumentsResponse": {
        "properties": {
          "deleted": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteDocumentResult"
            },
            "type": "array",
            "title": "Deleted",
            "description": "Successfully deleted documents"
          },
          "skipped": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteDocumentResult"
            },
            "type": "array",
            "title": "Skipped",
            "description": "Documents skipped (processing or other reasons)"
          },
          "failed": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteDocumentResult"
            },
            "type": "array",
            "title": "Failed",
            "description": "Documents that failed to delete"
          },
          "summary": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Summary",
            "description": "Summary statistics: total, deleted, skipped, failed"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "BatchDeleteDocumentsResponse",
        "description": "Response for batch delete operation."
      },
      "BatchDeleteFileResult": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "File ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: deleted, skipped, or failed"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Additional details"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At",
            "description": "Deletion timestamp if deleted"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status"
        ],
        "title": "BatchDeleteFileResult",
        "description": "Result for a single file in batch delete operation."
      },
      "BatchDeleteFilesRequest": {
        "properties": {
          "file_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "File Ids",
            "description": "List of file IDs to delete (max 100)"
          }
        },
        "type": "object",
        "required": [
          "file_ids"
        ],
        "title": "BatchDeleteFilesRequest",
        "description": "Request for batch deleting user files."
      },
      "BatchDeleteFilesResponse": {
        "properties": {
          "deleted": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteFileResult"
            },
            "type": "array",
            "title": "Deleted",
            "description": "Successfully deleted files"
          },
          "skipped": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteFileResult"
            },
            "type": "array",
            "title": "Skipped",
            "description": "Files skipped (processing or other reasons)"
          },
          "failed": {
            "items": {
              "$ref": "#/components/schemas/BatchDeleteFileResult"
            },
            "type": "array",
            "title": "Failed",
            "description": "Files that failed to delete"
          },
          "summary": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Summary",
            "description": "Summary statistics: total, deleted, skipped, failed"
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "BatchDeleteFilesResponse",
        "description": "Response for batch delete operation."
      },
      "BatchDescribeRequest": {
        "properties": {
          "images": {
            "items": {
              "$ref": "#/components/schemas/ImageData"
            },
            "type": "array",
            "minItems": 1,
            "title": "Images",
            "description": "List of images to process"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "Custom prompt for all images (optional)"
          },
          "providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers",
            "description": "List of VLM providers to use"
          },
          "consensus_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Consensus Threshold",
            "description": "Minimum consensus score required",
            "default": 0.7
          },
          "max_parallel": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Max Parallel",
            "description": "Maximum number of images to process in parallel",
            "default": 5
          },
          "timeout_per_item": {
            "type": "integer",
            "maximum": 300.0,
            "minimum": 5.0,
            "title": "Timeout Per Item",
            "description": "Timeout in seconds per image",
            "default": 30
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "URL to call when batch processing completes"
          },
          "rule_set_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Set Id",
            "description": "ID of rule set to apply during batch processing"
          },
          "rules": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rules",
            "description": "Inline rules to apply during batch processing"
          },
          "create_dataset": {
            "type": "boolean",
            "title": "Create Dataset",
            "description": "Automatically create a dataset when batch completes",
            "default": false
          },
          "dataset_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Name",
            "description": "Name for the dataset (required if create_dataset is true)"
          },
          "dataset_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dataset Description",
            "description": "Description for the dataset"
          },
          "verification_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(quick|standard|thorough|critical)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verification Level",
            "description": "Verification level for all images (affects credit usage)",
            "default": "standard"
          }
        },
        "type": "object",
        "required": [
          "images"
        ],
        "title": "BatchDescribeRequest",
        "description": "Request model for batch image description."
      },
      "BatchDescriptionCountsResponse": {
        "properties": {
          "pending": {
            "type": "integer",
            "title": "Pending",
            "default": 0
          },
          "processing": {
            "type": "integer",
            "title": "Processing",
            "default": 0
          },
          "completed": {
            "type": "integer",
            "title": "Completed",
            "default": 0
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "default": 0
          },
          "skipped": {
            "type": "integer",
            "title": "Skipped",
            "default": 0
          }
        },
        "type": "object",
        "title": "BatchDescriptionCountsResponse",
        "description": "Description status counts for a batch."
      },
      "BatchErrorSummaryResponse": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "default": 0
          },
          "messages": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Messages"
          }
        },
        "type": "object",
        "title": "BatchErrorSummaryResponse",
        "description": "Error summary for a batch."
      },
      "BatchItemResult": {
        "properties": {
          "item_id": {
            "type": "string",
            "format": "uuid",
            "title": "Item Id",
            "description": "Unique item ID"
          },
          "item_index": {
            "type": "integer",
            "title": "Item Index",
            "description": "Index of the item in the batch"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Item processing status"
          },
          "input_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Data",
            "description": "Original input data for the item"
          },
          "output_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Data",
            "description": "Processing result if successful"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if failed"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms",
            "description": "Processing time in milliseconds"
          },
          "stored_image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stored Image Url",
            "description": "Direct URL to retrieve stored image if available"
          }
        },
        "type": "object",
        "required": [
          "item_id",
          "item_index",
          "status"
        ],
        "title": "BatchItemResult",
        "description": "Result for a single batch item."
      },
      "BatchMaterialClassificationRequestDTO": {
        "properties": {
          "image_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Image Ids"
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "image_ids"
        ],
        "title": "BatchMaterialClassificationRequestDTO",
        "description": "Request for batch material classification."
      },
      "BatchMaterialClassificationResponseDTO": {
        "properties": {
          "queued_count": {
            "type": "integer",
            "title": "Queued Count"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "queued_count",
          "message"
        ],
        "title": "BatchMaterialClassificationResponseDTO",
        "description": "Response for batch material classification."
      },
      "BatchOperationResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "format": "uuid",
            "title": "Batch Id",
            "description": "Unique batch operation ID"
          },
          "status": {
            "$ref": "#/components/schemas/BatchStatus",
            "description": "Current batch status"
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items",
            "description": "Total number of items in batch"
          },
          "processed_items": {
            "type": "integer",
            "title": "Processed Items",
            "description": "Number of processed items",
            "default": 0
          },
          "failed_items": {
            "type": "integer",
            "title": "Failed Items",
            "description": "Number of failed items",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Batch creation timestamp"
          },
          "estimated_completion_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Completion Time",
            "description": "Estimated completion time"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "status",
          "total_items",
          "created_at"
        ],
        "title": "BatchOperationResponse",
        "description": "Response model for batch operation creation."
      },
      "BatchPresignedUrl": {
        "properties": {
          "file_index": {
            "type": "integer",
            "title": "File Index",
            "description": "Index in original files array"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "Presigned URL for upload"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "HTTP method (POST or PUT)"
          },
          "upload_fields": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Fields",
            "description": "Form fields for POST"
          },
          "upload_headers": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Headers",
            "description": "Headers for PUT"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "URL expiration timestamp"
          },
          "image_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Id",
            "description": "Pre-created image ID for immediate display"
          }
        },
        "type": "object",
        "required": [
          "file_index",
          "filename",
          "upload_url",
          "upload_method",
          "object_key",
          "expires_at"
        ],
        "title": "BatchPresignedUrl",
        "description": "Presigned URL with metadata for batch upload."
      },
      "BatchResultsResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "format": "uuid",
            "title": "Batch Id",
            "description": "Unique batch operation ID"
          },
          "status": {
            "$ref": "#/components/schemas/BatchStatus",
            "description": "Current batch status"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/BatchItemResult"
            },
            "type": "array",
            "title": "Results",
            "description": "List of item results"
          },
          "pagination": {
            "type": "object",
            "title": "Pagination",
            "description": "Pagination information"
          },
          "summary": {
            "type": "object",
            "title": "Summary",
            "description": "Summary statistics"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "status",
          "results",
          "pagination",
          "summary"
        ],
        "title": "BatchResultsResponse",
        "description": "Response model for batch results query."
      },
      "BatchStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed",
          "cancelled",
          "partially_completed"
        ],
        "title": "BatchStatus",
        "description": "Status of a batch operation."
      },
      "BatchStatusCountsResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "default": 0
          },
          "uploading": {
            "type": "integer",
            "title": "Uploading",
            "default": 0
          },
          "confirming": {
            "type": "integer",
            "title": "Confirming",
            "default": 0
          },
          "queued": {
            "type": "integer",
            "title": "Queued",
            "default": 0
          },
          "processing": {
            "type": "integer",
            "title": "Processing",
            "default": 0
          },
          "completed": {
            "type": "integer",
            "title": "Completed",
            "default": 0
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "default": 0
          },
          "partially_completed": {
            "type": "integer",
            "title": "Partially Completed",
            "default": 0
          },
          "stuck": {
            "type": "integer",
            "title": "Stuck",
            "default": 0
          }
        },
        "type": "object",
        "title": "BatchStatusCountsResponse",
        "description": "Status counts for a batch."
      },
      "BatchStatusResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "format": "uuid",
            "title": "Batch Id",
            "description": "Unique batch operation ID"
          },
          "status": {
            "$ref": "#/components/schemas/BatchStatus",
            "description": "Current batch status"
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items",
            "description": "Total number of items"
          },
          "processed_items": {
            "type": "integer",
            "title": "Processed Items",
            "description": "Number of processed items"
          },
          "successful_items": {
            "type": "integer",
            "title": "Successful Items",
            "description": "Number of successful items"
          },
          "failed_items": {
            "type": "integer",
            "title": "Failed Items",
            "description": "Number of failed items"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate (0-1)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Batch creation timestamp"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "Processing start timestamp"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "Processing completion timestamp"
          },
          "estimated_completion_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Completion Time",
            "description": "Estimated completion time"
          },
          "progress_percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress Percentage",
            "description": "Processing progress percentage",
            "default": 0.0
          },
          "avg_processing_time_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Processing Time Ms",
            "description": "Average processing time per item in milliseconds"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "status",
          "total_items",
          "processed_items",
          "successful_items",
          "failed_items",
          "success_rate",
          "created_at"
        ],
        "title": "BatchStatusResponse",
        "description": "Response model for batch status query."
      },
      "BatchStatusSummaryResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "overall_status": {
            "type": "string",
            "title": "Overall Status"
          },
          "completion_percentage": {
            "type": "number",
            "title": "Completion Percentage"
          },
          "counts": {
            "$ref": "#/components/schemas/BatchStatusCountsResponse"
          },
          "description_counts": {
            "$ref": "#/components/schemas/BatchDescriptionCountsResponse"
          },
          "error_summary": {
            "$ref": "#/components/schemas/BatchErrorSummaryResponse"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "last_activity_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Activity At"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "tenant_id",
          "overall_status",
          "completion_percentage",
          "counts",
          "error_summary"
        ],
        "title": "BatchStatusSummaryResponse",
        "description": "Unified status summary for a batch."
      },
      "BatchUploadConfirmRequest": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID from prepare step"
          },
          "confirmations": {
            "items": {
              "$ref": "#/components/schemas/UploadConfirmation"
            },
            "type": "array",
            "minItems": 1,
            "title": "Confirmations",
            "description": "Upload confirmations for all files"
          },
          "auto_process": {
            "type": "boolean",
            "title": "Auto Process",
            "description": "Whether to auto-trigger processing after confirmation",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "confirmations"
        ],
        "title": "BatchUploadConfirmRequest",
        "description": "Request to confirm batch uploads and trigger processing."
      },
      "BatchUploadConfirmResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID"
          },
          "successful_uploads": {
            "type": "integer",
            "title": "Successful Uploads",
            "description": "Number of successful uploads"
          },
          "failed_uploads": {
            "type": "integer",
            "title": "Failed Uploads",
            "description": "Number of failed uploads"
          },
          "processing_status": {
            "type": "string",
            "title": "Processing Status",
            "description": "Processing status: queued, partial, or failed"
          },
          "failed_files": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failed Files",
            "description": "List of failed filenames"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          },
          "stored_images": {
            "items": {
              "$ref": "#/components/schemas/StoredImageInfo"
            },
            "type": "array",
            "title": "Stored Images",
            "description": "Information about successfully stored images"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "successful_uploads",
          "failed_uploads",
          "processing_status",
          "message"
        ],
        "title": "BatchUploadConfirmResponse",
        "description": "Response after confirming batch uploads."
      },
      "BatchUploadPrepareRequest": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileInfo"
            },
            "type": "array",
            "maxItems": 5,
            "minItems": 1,
            "title": "Files",
            "description": "List of files to upload (max 5 for presigned URL workflow)"
          },
          "intent": {
            "type": "string",
            "pattern": "^(describe|verify|rules|document_extraction)$",
            "title": "Intent",
            "description": "Processing intent: describe, verify, rules, or document_extraction"
          },
          "verification_level": {
            "type": "string",
            "pattern": "^(quick|standard|thorough|critical)$",
            "title": "Verification Level",
            "description": "Verification level for processing",
            "default": "standard"
          },
          "additional_params": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Params",
            "description": "Additional parameters for processing (prompt, rule_set_id, etc.)"
          }
        },
        "type": "object",
        "required": [
          "files",
          "intent"
        ],
        "title": "BatchUploadPrepareRequest",
        "description": "Request to prepare batch upload with presigned URLs.\n\nNote: Presigned URL batch upload is limited to 5 files maximum.\nFor larger batches, use streaming upload which supports up to 500 files."
      },
      "BatchUploadPrepareResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID for tracking"
          },
          "upload_plan": {
            "$ref": "#/components/schemas/UploadPlan",
            "description": "Upload strategy and configuration"
          },
          "presigned_urls": {
            "items": {
              "$ref": "#/components/schemas/BatchPresignedUrl"
            },
            "type": "array",
            "title": "Presigned Urls",
            "description": "Presigned URLs for all files"
          },
          "total_size_bytes": {
            "type": "integer",
            "title": "Total Size Bytes",
            "description": "Total size of all files"
          },
          "estimated_time_seconds": {
            "type": "integer",
            "title": "Estimated Time Seconds",
            "description": "Estimated upload time"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "upload_plan",
          "presigned_urls",
          "total_size_bytes",
          "estimated_time_seconds"
        ],
        "title": "BatchUploadPrepareResponse",
        "description": "Response with batch upload plan and presigned URLs."
      },
      "BatchVerifyRequest": {
        "properties": {
          "image_text_pairs": {
            "items": {
              "$ref": "#/components/schemas/ImageTextPair"
            },
            "type": "array",
            "minItems": 1,
            "title": "Image Text Pairs",
            "description": "List of image-text pairs to verify"
          },
          "providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers",
            "description": "List of VLM providers to use"
          },
          "consensus_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Consensus Threshold",
            "description": "Minimum consensus score required",
            "default": 0.7
          },
          "max_parallel": {
            "type": "integer",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Max Parallel",
            "description": "Maximum number of pairs to process in parallel",
            "default": 5
          },
          "timeout_per_item": {
            "type": "integer",
            "maximum": 300.0,
            "minimum": 5.0,
            "title": "Timeout Per Item",
            "description": "Timeout in seconds per pair",
            "default": 30
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "URL to call when batch processing completes"
          },
          "rule_set_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Set Id",
            "description": "ID of rule set to apply during batch verification"
          },
          "rules": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rules",
            "description": "Inline rules to apply during batch verification"
          },
          "verification_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(quick|standard|thorough|critical)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verification Level",
            "description": "Default verification level for all pairs (can be overridden per pair)",
            "default": "standard"
          }
        },
        "type": "object",
        "required": [
          "image_text_pairs"
        ],
        "title": "BatchVerifyRequest",
        "description": "Request model for batch image-text verification."
      },
      "BillingPortalResponse": {
        "properties": {
          "portal_url": {
            "type": "string",
            "title": "Portal Url",
            "description": "Stripe billing portal URL for subscription management"
          }
        },
        "type": "object",
        "required": [
          "portal_url"
        ],
        "title": "BillingPortalResponse",
        "description": "Response model for billing portal session."
      },
      "Body_initiate_upload_api_v2_user_files_upload_initiate_post": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the file"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Optional title for the file"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags"
          },
          "auto_describe": {
            "type": "boolean",
            "title": "Auto Describe",
            "description": "Whether to auto-generate description",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "filename",
          "content_type",
          "size_bytes"
        ],
        "title": "Body_initiate_upload_api_v2_user_files_upload_initiate_post"
      },
      "Body_stream_batch_upload_api_v2_user_files_upload_stream_batch_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files",
            "description": "Files to upload"
          },
          "auto_describe": {
            "type": "boolean",
            "title": "Auto Describe",
            "description": "Auto-generate descriptions",
            "default": true
          },
          "skip_duplicates": {
            "type": "boolean",
            "title": "Skip Duplicates",
            "description": "Skip files that already exist",
            "default": false
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags for all files"
          },
          "intent": {
            "type": "string",
            "title": "Intent",
            "description": "Processing intent: describe, verify, rules",
            "default": "describe"
          },
          "verification_level": {
            "type": "string",
            "title": "Verification Level",
            "description": "Verification level: default, quick, standard, thorough, critical",
            "default": "default"
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "description": "Storage target: 'default' or 'custom'",
            "default": "default"
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "Body_stream_batch_upload_api_v2_user_files_upload_stream_batch_post"
      },
      "Body_stream_upload_file_api_v2_user_files_upload_stream_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "File to upload"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags"
          },
          "auto_describe": {
            "type": "boolean",
            "title": "Auto Describe",
            "default": true
          },
          "skip_duplicates": {
            "type": "boolean",
            "title": "Skip Duplicates",
            "description": "Skip if file already exists (by content hash)",
            "default": false
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "description": "Storage target: 'default' or 'custom'",
            "default": "default"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_stream_upload_file_api_v2_user_files_upload_stream_post"
      },
      "ChangePasswordRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password",
            "description": "Current password for verification",
            "example": "CurrentPassword123!"
          },
          "new_password": {
            "type": "string",
            "minLength": 8,
            "title": "New Password",
            "description": "New password must be at least 8 characters long and meet security requirements",
            "example": "NewSecurePassword123!"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "ChangePasswordRequest",
        "description": "Request model for changing user password."
      },
      "ChatErrorResponse": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error"
          },
          "error_code": {
            "type": "string",
            "title": "Error Code"
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "error",
          "error_code"
        ],
        "title": "ChatErrorResponse",
        "description": "Error response for chat operations."
      },
      "ChatMessageResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "token_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Count"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "image_context": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/MessageImageInfo"
                },
                "type": "array"
              },
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Context"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata including vision_used, offers_detailed_analysis flags"
          }
        },
        "type": "object",
        "required": [
          "id",
          "role",
          "content",
          "token_count",
          "provider",
          "model",
          "processing_time_ms",
          "created_at"
        ],
        "title": "ChatMessageResponse",
        "description": "Response for a chat message."
      },
      "ChatSessionSummaryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "remaining_tokens": {
            "type": "integer",
            "title": "Remaining Tokens"
          },
          "remaining_messages": {
            "type": "integer",
            "title": "Remaining Messages"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "use_all_images": {
            "type": "boolean",
            "title": "Use All Images",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_message_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Message At"
          },
          "last_message_preview": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Message Preview"
          },
          "last_user_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last User Message"
          },
          "selected_image_count": {
            "type": "integer",
            "title": "Selected Image Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "total_messages",
          "total_tokens",
          "remaining_tokens",
          "remaining_messages",
          "is_active",
          "created_at",
          "updated_at",
          "last_message_at",
          "selected_image_count"
        ],
        "title": "ChatSessionSummaryResponse",
        "description": "Summary response for a chat session."
      },
      "CheckoutRequest": {
        "properties": {
          "plan": {
            "type": "string",
            "pattern": "^(starter|professional|enterprise)$",
            "title": "Plan",
            "description": "Subscription plan tier",
            "example": "professional"
          },
          "tenant_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tenant Id",
            "description": "UUID of the tenant to associate with the subscription"
          }
        },
        "type": "object",
        "required": [
          "plan",
          "tenant_id"
        ],
        "title": "CheckoutRequest",
        "description": "Request model for creating Stripe checkout session."
      },
      "CheckoutResponse": {
        "properties": {
          "checkout_url": {
            "type": "string",
            "title": "Checkout Url",
            "description": "Stripe checkout session URL to redirect the user to"
          }
        },
        "type": "object",
        "required": [
          "checkout_url"
        ],
        "title": "CheckoutResponse",
        "description": "Response model for checkout session creation."
      },
      "ChunkReference": {
        "properties": {
          "chunk_id": {
            "type": "string",
            "title": "Chunk Id"
          },
          "document_id": {
            "type": "string",
            "title": "Document Id"
          },
          "document_filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Filename"
          },
          "page_numbers": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Numbers"
          }
        },
        "type": "object",
        "required": [
          "chunk_id",
          "document_id"
        ],
        "title": "ChunkReference",
        "description": "Reference to a document chunk cited in the analysis."
      },
      "ChunkResult": {
        "properties": {
          "chunk_id": {
            "type": "string",
            "title": "Chunk Id",
            "description": "Chunk unique identifier"
          },
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Parent document ID"
          },
          "document_filename": {
            "type": "string",
            "title": "Document Filename",
            "description": "Original document filename"
          },
          "chunk_index": {
            "type": "integer",
            "title": "Chunk Index",
            "description": "Position within document"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Chunk text content"
          },
          "page_numbers": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Numbers",
            "description": "Pages this chunk spans"
          },
          "heading_hierarchy": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Heading Hierarchy",
            "description": "Section headings"
          },
          "similarity_score": {
            "type": "number",
            "title": "Similarity Score",
            "description": "Similarity to query (0-1)"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "chunk_id",
          "document_id",
          "document_filename",
          "chunk_index",
          "content",
          "similarity_score"
        ],
        "title": "ChunkResult",
        "description": "A single chunk result from search."
      },
      "CleanupStaleBatchesResponse": {
        "properties": {
          "cleaned_count": {
            "type": "integer",
            "title": "Cleaned Count",
            "description": "Number of stale batches that were cleaned up"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable summary"
          }
        },
        "type": "object",
        "required": [
          "cleaned_count",
          "message"
        ],
        "title": "CleanupStaleBatchesResponse",
        "description": "Response for cleanup-stale-batches endpoint."
      },
      "CloseChatSessionResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "closed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Closed At"
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "closed_at",
          "total_messages",
          "total_tokens"
        ],
        "title": "CloseChatSessionResponse",
        "description": "Response from closing a chat session."
      },
      "CloudFileRequest": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type"
          },
          "size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size Bytes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "CloudFileRequest",
        "description": "Cloud file for import."
      },
      "CloudStorageJobDetail": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "connection_id": {
            "type": "string",
            "title": "Connection Id"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files"
          },
          "completed_files": {
            "type": "integer",
            "title": "Completed Files"
          },
          "failed_files": {
            "type": "integer",
            "title": "Failed Files"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "type",
          "status",
          "connection_id",
          "provider",
          "total_files",
          "completed_files",
          "failed_files",
          "created_at",
          "updated_at"
        ],
        "title": "CloudStorageJobDetail",
        "description": "Individual job details matching frontend CloudStorageJob type."
      },
      "ColorAnalysisResponseDTO": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "color_analysis": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Analysis"
          },
          "extracted_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted At"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "status"
        ],
        "title": "ColorAnalysisResponseDTO",
        "description": "Response for color analysis."
      },
      "ColorFamilyDTO": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "example_colors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Example Colors"
          }
        },
        "type": "object",
        "required": [
          "name",
          "display_name",
          "description",
          "example_colors"
        ],
        "title": "ColorFamilyDTO",
        "description": "A color family with example colors."
      },
      "ColorSearchRequestDTO": {
        "properties": {
          "hex_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hex Code",
            "description": "Hex color code (e.g., #C4A87C)"
          },
          "color_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Name",
            "description": "Color name (e.g., walnut, brass)"
          },
          "color_family": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Family",
            "description": "Color family (e.g., earth_tone, warm)"
          },
          "delta_e_threshold": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Delta E Threshold",
            "description": "Color tolerance (Delta-E)",
            "default": 15.0
          },
          "min_percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Min Percentage",
            "description": "Minimum color coverage",
            "default": 5.0
          },
          "limit": {
            "type": "integer",
            "maximum": 200.0,
            "minimum": 1.0,
            "title": "Limit",
            "default": 50
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "default": 0
          }
        },
        "type": "object",
        "title": "ColorSearchRequestDTO",
        "description": "Request for color-based search."
      },
      "ColorSearchResponseDTO": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ColorSearchResultDTO"
            },
            "type": "array",
            "title": "Results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_count",
          "limit",
          "offset"
        ],
        "title": "ColorSearchResponseDTO",
        "description": "Response for color search."
      },
      "ColorSearchResultDTO": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "color_analysis": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Analysis"
          },
          "match_score": {
            "type": "number",
            "title": "Match Score",
            "default": 1.0
          },
          "matched_hex": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Matched Hex"
          },
          "matched_percentage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Matched Percentage"
          }
        },
        "type": "object",
        "required": [
          "image_id"
        ],
        "title": "ColorSearchResultDTO",
        "description": "A single search result."
      },
      "CompleteAuthRequest": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "Authorization code from callback"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "State parameter for CSRF verification"
          },
          "redirect_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Redirect Uri",
            "description": "Redirect URI used in auth"
          }
        },
        "type": "object",
        "required": [
          "code",
          "state"
        ],
        "title": "CompleteAuthRequest",
        "description": "Request to complete OAuth flow."
      },
      "CompleteAuthResponse": {
        "properties": {
          "connection": {
            "$ref": "#/components/schemas/ConnectionResponse"
          },
          "is_new": {
            "type": "boolean",
            "title": "Is New"
          }
        },
        "type": "object",
        "required": [
          "connection",
          "is_new"
        ],
        "title": "CompleteAuthResponse",
        "description": "Response after completing OAuth."
      },
      "CompletePasswordResetRequest": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token",
            "description": "Password reset token received via email"
          },
          "new_password": {
            "type": "string",
            "title": "New Password",
            "description": "New password to set for the account",
            "example": "NewSecurePassword123!"
          }
        },
        "type": "object",
        "required": [
          "token",
          "new_password"
        ],
        "title": "CompletePasswordResetRequest",
        "description": "Complete password reset request model."
      },
      "ComponentStatusesResponse": {
        "properties": {
          "variant_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Status"
          },
          "description_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Status"
          },
          "upload_intent_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Intent Status"
          },
          "task_intent_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Intent Status"
          }
        },
        "type": "object",
        "title": "ComponentStatusesResponse",
        "description": "Component-level status details for debugging."
      },
      "ConfigureS3Request": {
        "properties": {
          "access_key_id": {
            "type": "string",
            "maxLength": 128,
            "minLength": 16,
            "title": "Access Key Id",
            "description": "AWS access key ID"
          },
          "secret_access_key": {
            "type": "string",
            "maxLength": 128,
            "minLength": 20,
            "title": "Secret Access Key",
            "description": "AWS secret access key"
          },
          "bucket_name": {
            "type": "string",
            "maxLength": 63,
            "minLength": 3,
            "title": "Bucket Name",
            "description": "S3 bucket name"
          },
          "region": {
            "type": "string",
            "title": "Region",
            "description": "AWS region (e.g., 'us-east-1')"
          }
        },
        "type": "object",
        "required": [
          "access_key_id",
          "secret_access_key",
          "bucket_name",
          "region"
        ],
        "title": "ConfigureS3Request",
        "description": "Request model for configuring custom S3 bucket."
      },
      "ConfirmUploadRequest": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3/Spaces object key"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "Actual uploaded file size"
          },
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id",
            "description": "Image ID from initiate response"
          },
          "auto_describe": {
            "type": "boolean",
            "title": "Auto Describe",
            "description": "Whether to trigger auto-description",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "size_bytes",
          "image_id"
        ],
        "title": "ConfirmUploadRequest",
        "description": "Request for confirming file upload."
      },
      "ConfirmUploadResponse": {
        "properties": {
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id",
            "description": "Image identifier"
          },
          "description_status": {
            "type": "string",
            "title": "Description Status",
            "description": "Status of auto-description"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "File title"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "File tags"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "description_status"
        ],
        "title": "ConfirmUploadResponse",
        "description": "Response for confirming upload."
      },
      "ConnectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "provider_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Email"
          },
          "provider_display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Display Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "last_used_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "provider",
          "provider_email",
          "provider_display_name",
          "is_active",
          "created_at",
          "last_used_at"
        ],
        "title": "ConnectionResponse",
        "description": "Cloud storage connection details."
      },
      "ContactRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "subject": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Subject"
          },
          "message": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 10,
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "subject",
          "message"
        ],
        "title": "ContactRequest"
      },
      "ContactResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "ContactResponse"
      },
      "ConversationTokenUsageItem": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens"
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "title",
          "input_tokens",
          "output_tokens",
          "total_tokens",
          "message_count",
          "created_at"
        ],
        "title": "ConversationTokenUsageItem",
        "description": "Token usage for a single conversation."
      },
      "ConversationTokenUsageResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationTokenUsageItem"
            },
            "type": "array",
            "title": "Conversations"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "total_input_tokens": {
            "type": "integer",
            "title": "Total Input Tokens"
          },
          "total_output_tokens": {
            "type": "integer",
            "title": "Total Output Tokens"
          }
        },
        "type": "object",
        "required": [
          "conversations",
          "total_count",
          "total_input_tokens",
          "total_output_tokens"
        ],
        "title": "ConversationTokenUsageResponse",
        "description": "Response for per-conversation token usage."
      },
      "CreateAPIKeyRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Descriptive name for the API key",
            "example": "Production API Key"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the API key's purpose",
            "example": "Used for production environment rule verifications"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Optional scopes/permissions. Examples:\n        - 'read': Read-only access (VIEWER role)\n        - 'write': Read/write access (EDITOR role)\n        - 'admin': Administrative access (ADMIN role)\n        - 'rules:read': Read access to rules only\n        - 'rules:write': Write access to rules\n        - 'api_keys:read': Read API keys\n        - 'usage:read': View usage statistics",
            "default": [],
            "example": [
              "rules:read",
              "rules:write"
            ]
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata for tracking or custom properties",
            "default": {},
            "example": {
              "environment": "production",
              "team": "backend"
            }
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Optional expiration date for the API key (ISO 8601). If not set, key never expires."
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateAPIKeyRequest",
        "description": "Request model for creating a new API key.\n\nScopes define the permissions for the API key:\n- Role-based scopes: 'read', 'write', 'admin'\n- Resource-specific scopes: 'resource:permission' format\n  Examples: 'rules:read', 'rules:write', 'api_keys:read', 'usage:read'\n\nIf no scopes are specified, the API key inherits the creator's permissions (capped at admin)."
      },
      "CreateAPIKeyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier of the created API key"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Name of the API key"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Description of the API key"
          },
          "key_prefix": {
            "type": "string",
            "title": "Key Prefix",
            "description": "First few characters of the API key for identification",
            "example": "aion_live_1234"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the API key was created"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Expiration date, null if key never expires"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the API key is active (always true for new keys)",
            "default": true
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "List of permissions/scopes assigned to this API key"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Custom metadata associated with the API key"
          },
          "api_key": {
            "type": "string",
            "title": "Api Key",
            "description": "The raw API key - store this securely as it won't be shown again!",
            "example": "aion_live_1234567890abcdef..."
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "created_at",
          "scopes",
          "metadata",
          "api_key"
        ],
        "title": "CreateAPIKeyResponse",
        "description": "Response model when creating a new API key (includes the raw key)."
      },
      "CreateChatSessionRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Optional title for the chat session"
          },
          "initial_image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Initial Image Ids",
            "description": "Optional list of initial image IDs to include in context"
          },
          "use_all_images": {
            "type": "boolean",
            "title": "Use All Images",
            "description": "Whether to use all user images (default) or selected images only",
            "default": true
          }
        },
        "type": "object",
        "title": "CreateChatSessionRequest",
        "description": "Request to create a new chat session."
      },
      "CreateChatSessionResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "title",
          "created_at"
        ],
        "title": "CreateChatSessionResponse",
        "description": "Response from creating a chat session."
      },
      "CreateDatasetRequest": {
        "properties": {
          "batch_id": {
            "type": "string",
            "format": "uuid",
            "title": "Batch Id",
            "description": "ID of the batch operation to create dataset from"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Name for the dataset"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the dataset"
          },
          "format_config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Format Config",
            "description": "Export format configuration preferences"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "name"
        ],
        "title": "CreateDatasetRequest",
        "description": "Request model for creating a dataset from a batch operation."
      },
      "CreateFolderRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Folder name"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id",
            "description": "Parent folder ID (null for root level)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateFolderRequest",
        "description": "Request body for creating a folder."
      },
      "CreateLinkRequest": {
        "properties": {
          "url": {
            "type": "string",
            "maxLength": 2048,
            "title": "Url",
            "description": "Website URL to save"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Optional title override"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 40
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Optional tags for organization"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id",
            "description": "Optional folder to save the link to"
          },
          "auto_crawl": {
            "type": "boolean",
            "title": "Auto Crawl",
            "description": "Whether to automatically crawl the link for metadata",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "CreateLinkRequest",
        "description": "Request for adding a website link."
      },
      "CreateLinkResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique link identifier"
          },
          "source_url": {
            "type": "string",
            "title": "Source Url",
            "description": "Original URL"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Link title"
          },
          "domain": {
            "type": "string",
            "title": "Domain",
            "description": "Extracted domain (e.g., github.com)"
          },
          "crawl_status": {
            "type": "string",
            "title": "Crawl Status",
            "description": "Crawl status: pending, queued, processing, completed, failed"
          },
          "is_duplicate": {
            "type": "boolean",
            "title": "Is Duplicate",
            "description": "Whether this URL already exists for the tenant",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "source_url",
          "domain",
          "crawl_status",
          "created_at"
        ],
        "title": "CreateLinkResponse",
        "description": "Response for creating a link."
      },
      "CreatePublicShareRequest": {
        "properties": {
          "ruleset_id": {
            "type": "string",
            "format": "uuid",
            "title": "Ruleset Id",
            "description": "UUID of the ruleset to create a public share for"
          },
          "access_level": {
            "$ref": "#/components/schemas/ShareAccessLevel",
            "description": "Access level for the public share (view_only, view_and_copy)",
            "default": "view_only"
          },
          "expires_in_days": {
            "type": "integer",
            "maximum": 365.0,
            "minimum": 1.0,
            "title": "Expires In Days",
            "description": "Number of days until the share link expires",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "ruleset_id"
        ],
        "title": "CreatePublicShareRequest",
        "description": "Request to create a public share link for a ruleset."
      },
      "CreateRuleSetRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Name of the rule set",
            "example": "Production Image Validation"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "Description of the rule set's purpose",
            "example": "Comprehensive validation rules for production images"
          },
          "rules": {
            "items": {
              "$ref": "#/components/schemas/RuleConfigRequest"
            },
            "type": "array",
            "minItems": 1,
            "title": "Rules",
            "description": "List of rules to include in the rule set"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the rule set is active upon creation",
            "default": true
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata for the rule set",
            "example": {
              "category": "image_validation",
              "version": "1.0"
            }
          },
          "reference_image_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reference Image Url",
            "description": "URL of reference image for visual memory",
            "example": "https://example.com/reference.jpg"
          },
          "user_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Description",
            "description": "User-provided description for visual memory context",
            "example": "Product should match this reference style"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "rules"
        ],
        "title": "CreateRuleSetRequest",
        "description": "Request to create a new rule set."
      },
      "CreditBalanceResponse": {
        "properties": {
          "prepaid_balance": {
            "type": "integer",
            "title": "Prepaid Balance",
            "description": "Current prepaid credit balance"
          },
          "included_remaining": {
            "type": "integer",
            "title": "Included Remaining",
            "description": "Remaining included credits for this billing period (-1 = unlimited)"
          },
          "total_available": {
            "type": "integer",
            "title": "Total Available",
            "description": "Total available credits (included + prepaid, -1 = unlimited)"
          },
          "recent_purchases": {
            "items": {},
            "type": "array",
            "title": "Recent Purchases",
            "description": "Recent credit pack purchases"
          }
        },
        "type": "object",
        "required": [
          "prepaid_balance",
          "included_remaining",
          "total_available"
        ],
        "title": "CreditBalanceResponse",
        "description": "Response model for credit balance information."
      },
      "CreditPackCheckoutRequest": {
        "properties": {
          "pack_type": {
            "type": "string",
            "pattern": "^(pack_250|pack_1000|pack_2500)$",
            "title": "Pack Type",
            "description": "Credit pack type",
            "example": "pack_1000"
          },
          "tenant_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tenant Id",
            "description": "UUID of the tenant to add credits to"
          }
        },
        "type": "object",
        "required": [
          "pack_type",
          "tenant_id"
        ],
        "title": "CreditPackCheckoutRequest",
        "description": "Request model for purchasing a prepaid credit pack."
      },
      "CreditPackCheckoutResponse": {
        "properties": {
          "checkout_url": {
            "type": "string",
            "title": "Checkout Url",
            "description": "Stripe checkout session URL for the credit pack purchase"
          }
        },
        "type": "object",
        "required": [
          "checkout_url"
        ],
        "title": "CreditPackCheckoutResponse",
        "description": "Response model for credit pack checkout session."
      },
      "DailyActivityPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "files_uploaded": {
            "type": "integer",
            "title": "Files Uploaded"
          },
          "chat_messages": {
            "type": "integer",
            "title": "Chat Messages"
          }
        },
        "type": "object",
        "required": [
          "date",
          "files_uploaded",
          "chat_messages"
        ],
        "title": "DailyActivityPoint"
      },
      "DashboardAnalyticsResponse": {
        "properties": {
          "period": {
            "type": "string",
            "title": "Period"
          },
          "start_date": {
            "type": "string",
            "title": "Start Date"
          },
          "end_date": {
            "type": "string",
            "title": "End Date"
          },
          "daily_activity": {
            "items": {
              "$ref": "#/components/schemas/DailyActivityPoint"
            },
            "type": "array",
            "title": "Daily Activity"
          },
          "total_chat_messages": {
            "type": "integer",
            "title": "Total Chat Messages"
          },
          "total_files_uploaded": {
            "type": "integer",
            "title": "Total Files Uploaded"
          },
          "total_chat_sessions": {
            "type": "integer",
            "title": "Total Chat Sessions"
          },
          "avg_processing_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Processing Time Ms"
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate"
          },
          "processing_tokens": {
            "type": "integer",
            "title": "Processing Tokens"
          },
          "chat_tokens": {
            "type": "integer",
            "title": "Chat Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "current_month_chat_tokens": {
            "type": "integer",
            "title": "Current Month Chat Tokens",
            "default": 0
          },
          "max_monthly_chat_tokens": {
            "type": "integer",
            "title": "Max Monthly Chat Tokens",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "period",
          "start_date",
          "end_date",
          "daily_activity",
          "total_chat_messages",
          "total_files_uploaded",
          "total_chat_sessions",
          "avg_processing_time_ms",
          "success_rate",
          "processing_tokens",
          "chat_tokens",
          "total_tokens"
        ],
        "title": "DashboardAnalyticsResponse"
      },
      "DataExportType": {
        "type": "string",
        "enum": [
          "descriptions",
          "verifications"
        ],
        "title": "DataExportType",
        "description": "Type of data to export."
      },
      "DatasetListResponse": {
        "properties": {
          "datasets": {
            "items": {
              "$ref": "#/components/schemas/DatasetResponse"
            },
            "type": "array",
            "title": "Datasets",
            "description": "List of datasets"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of datasets"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Maximum number of results returned"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of results skipped"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether more results are available"
          }
        },
        "type": "object",
        "required": [
          "datasets",
          "total_count",
          "limit",
          "offset",
          "has_more"
        ],
        "title": "DatasetListResponse",
        "description": "Response model for paginated dataset list."
      },
      "DatasetResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Dataset ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Dataset name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Dataset description"
          },
          "batch_id": {
            "type": "string",
            "format": "uuid",
            "title": "Batch Id",
            "description": "Associated batch operation ID"
          },
          "status": {
            "$ref": "#/components/schemas/DatasetStatus",
            "description": "Current dataset status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "batch_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Batch Status",
            "description": "Current batch status"
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items",
            "description": "Total items in batch",
            "default": 0
          },
          "successful_items": {
            "type": "integer",
            "title": "Successful Items",
            "description": "Successfully processed items",
            "default": 0
          },
          "export_count": {
            "type": "integer",
            "title": "Export Count",
            "description": "Number of exports created",
            "default": 0
          },
          "supported_formats": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Supported Formats",
            "description": "Supported export formats"
          },
          "latest_export": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Export",
            "description": "Information about the most recent export"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "batch_id",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "DatasetResponse",
        "description": "Response model for dataset information."
      },
      "DatasetStatisticsResponse": {
        "properties": {
          "dataset_statistics": {
            "type": "object",
            "title": "Dataset Statistics",
            "description": "Dataset creation and usage statistics"
          },
          "export_statistics": {
            "type": "object",
            "title": "Export Statistics",
            "description": "Export operation statistics"
          },
          "popular_formats": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Popular Formats",
            "description": "Most popular export formats"
          },
          "period": {
            "type": "object",
            "title": "Period",
            "description": "Time period for statistics"
          }
        },
        "type": "object",
        "required": [
          "dataset_statistics",
          "export_statistics",
          "popular_formats",
          "period"
        ],
        "title": "DatasetStatisticsResponse",
        "description": "Response model for dataset statistics."
      },
      "DatasetStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "ready",
          "failed"
        ],
        "title": "DatasetStatus",
        "description": "Status of a dataset."
      },
      "DeleteAccountRequest": {
        "properties": {
          "confirmation": {
            "type": "string",
            "title": "Confirmation",
            "description": "Must be exactly 'delete my account' to confirm deletion"
          }
        },
        "type": "object",
        "required": [
          "confirmation"
        ],
        "title": "DeleteAccountRequest",
        "description": "Request model for permanent account deletion."
      },
      "DeleteFileResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Deleted file ID"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time",
            "title": "Deleted At",
            "description": "Deletion timestamp"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Confirmation message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "deleted_at",
          "message"
        ],
        "title": "DeleteFileResponse",
        "description": "Response for deleting a file."
      },
      "DeleteFolderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "files_affected": {
            "type": "integer",
            "title": "Files Affected"
          },
          "subfolders_affected": {
            "type": "integer",
            "title": "Subfolders Affected"
          },
          "mode": {
            "type": "string",
            "title": "Mode"
          }
        },
        "type": "object",
        "required": [
          "id",
          "files_affected",
          "subfolders_affected",
          "mode"
        ],
        "title": "DeleteFolderResponse",
        "description": "Folder deletion response."
      },
      "DescribeImageRequest": {
        "properties": {
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL of the image to process",
            "example": "https://example.com/image.jpg"
          },
          "image_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Base64",
            "description": "Base64-encoded image data",
            "example": "data:image/jpeg;base64,..."
          },
          "object_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Object Key",
            "description": "S3/Spaces object key for previously uploaded image",
            "example": "images/abc-123/2025/01/19/a1b2c3d4_143025123456.jpeg"
          },
          "verification_level": {
            "type": "string",
            "pattern": "^(quick|standard|thorough|critical)$",
            "title": "Verification Level",
            "description": "Verification level: quick, standard, thorough, or critical",
            "default": "standard",
            "example": "standard"
          },
          "include_metadata": {
            "type": "boolean",
            "title": "Include Metadata",
            "description": "Whether to include metadata in the response",
            "default": true
          },
          "include_tags": {
            "type": "boolean",
            "title": "Include Tags",
            "description": "Whether to generate tags along with the description",
            "default": true
          },
          "providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers",
            "description": "Specific VLM providers to use",
            "example": [
              "openai",
              "anthropic"
            ]
          },
          "rule_set_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Set Id",
            "description": "UUID of the rule set to apply during description",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "rules": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rules",
            "description": "Inline rules to apply during description"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "Custom prompt for image description",
            "example": "Describe this image focusing on safety hazards"
          }
        },
        "type": "object",
        "title": "DescribeImageRequest",
        "description": "Request model for image description."
      },
      "DescriptionHistoryResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ProcessingResultResponse"
            },
            "type": "array",
            "title": "Results",
            "description": "List of description results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of results matching filters"
          },
          "statistics": {
            "$ref": "#/components/schemas/ProcessingStatisticsResponse",
            "description": "Aggregated statistics"
          },
          "filters_applied": {
            "$ref": "#/components/schemas/FiltersAppliedResponse",
            "description": "Summary of applied filters"
          },
          "page_info": {
            "$ref": "#/components/schemas/PageInfoResponse",
            "description": "Pagination information"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_count",
          "statistics",
          "filters_applied",
          "page_info"
        ],
        "title": "DescriptionHistoryResponse",
        "description": "Response model for description history."
      },
      "DescriptionResponse": {
        "properties": {
          "operation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Operation Id",
            "description": "Unique identifier for this operation"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Generated description of the image"
          },
          "visible_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visible Text",
            "description": "Extracted visible text from the image",
            "example": "[STOP] (road sign); [Coffee Shop] (storefront); [10:30 AM] (clock)"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Generated tags/keywords for the image",
            "example": [
              "outdoor",
              "mountain",
              "landscape",
              "sunset"
            ]
          },
          "features": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Features",
            "description": "Structured features/objects extracted from the image with counts",
            "example": [
              {
                "items": [
                  {
                    "confidence": 0.95,
                    "count": 1,
                    "description": "person in blue jacket"
                  },
                  {
                    "confidence": 0.92,
                    "count": 2,
                    "description": "person with backpack"
                  }
                ],
                "name": "people"
              },
              {
                "items": [
                  {
                    "confidence": 0.98,
                    "count": 1,
                    "description": "red sedan"
                  }
                ],
                "name": "vehicles"
              }
            ]
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata about the description process"
          },
          "structured_output": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Structured Output",
            "description": "Structured output if rules were applied"
          },
          "verification_level": {
            "type": "string",
            "title": "Verification Level",
            "description": "Verification level used",
            "example": "standard"
          },
          "providers_used": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Providers Used",
            "description": "VLM providers that were used",
            "example": [
              "openai",
              "anthropic"
            ]
          },
          "consensus_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Consensus Score",
            "description": "Consensus score among providers",
            "example": 0.95
          },
          "processing_time_ms": {
            "type": "integer",
            "title": "Processing Time Ms",
            "description": "Time taken to process in milliseconds",
            "example": 1250
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO 8601 timestamp of the operation",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "type": "object",
        "required": [
          "operation_id",
          "description",
          "verification_level",
          "providers_used",
          "processing_time_ms",
          "timestamp"
        ],
        "title": "DescriptionResponse",
        "description": "Response model for image description."
      },
      "DisconnectResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "DisconnectResponse",
        "description": "Response after disconnecting."
      },
      "DocumentAnalysisAgentRequest": {
        "properties": {
          "intent": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Intent",
            "description": "Analysis intent, e.g. 'Summarize and compare these contracts'"
          },
          "document_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 1,
            "title": "Document Ids",
            "description": "Documents to analyze (at least one required)"
          }
        },
        "type": "object",
        "required": [
          "intent",
          "document_ids"
        ],
        "title": "DocumentAnalysisAgentRequest",
        "description": "Request for AI-powered document analysis."
      },
      "DocumentAnalysisAgentResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "analysis": {
            "type": "string",
            "title": "Analysis",
            "description": "Markdown analysis content"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Brief summary of the analysis"
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count"
          },
          "categorization": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Categorization",
            "description": "Document categorization if produced"
          },
          "chunk_references": {
            "items": {
              "$ref": "#/components/schemas/ChunkReference"
            },
            "type": "array",
            "title": "Chunk References",
            "description": "Document chunks cited"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "iterations": {
            "type": "integer",
            "title": "Iterations",
            "description": "Number of ReAct iterations performed"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage",
            "description": "LLM token usage for billing"
          }
        },
        "type": "object",
        "required": [
          "success",
          "analysis",
          "summary",
          "document_count",
          "execution_time_ms",
          "iterations"
        ],
        "title": "DocumentAnalysisAgentResponse",
        "description": "Response from AI-powered document analysis."
      },
      "DocumentBatchConfirmRequest": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID from prepare step"
          },
          "confirmations": {
            "items": {
              "$ref": "#/components/schemas/DocumentUploadConfirmation"
            },
            "type": "array",
            "minItems": 1,
            "title": "Confirmations",
            "description": "Upload confirmations for all documents"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "confirmations"
        ],
        "title": "DocumentBatchConfirmRequest",
        "description": "Request to confirm batch document uploads and trigger processing."
      },
      "DocumentBatchConfirmResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID"
          },
          "successful_uploads": {
            "type": "integer",
            "title": "Successful Uploads",
            "description": "Number of successful uploads"
          },
          "failed_uploads": {
            "type": "integer",
            "title": "Failed Uploads",
            "description": "Number of failed uploads"
          },
          "processing_status": {
            "type": "string",
            "title": "Processing Status",
            "description": "Processing status: queued, partial, or failed"
          },
          "failed_files": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failed Files",
            "description": "List of failed filenames"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          },
          "documents": {
            "items": {
              "$ref": "#/components/schemas/app__api__v2__endpoints__document_uploads__DocumentInfo"
            },
            "type": "array",
            "title": "Documents",
            "description": "Information about successfully stored documents"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "successful_uploads",
          "failed_uploads",
          "processing_status",
          "message"
        ],
        "title": "DocumentBatchConfirmResponse",
        "description": "Response after confirming batch document uploads."
      },
      "DocumentBatchPrepareRequest": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/DocumentFileInfo"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "Files",
            "description": "List of documents to upload (1-100 files)"
          },
          "additional_params": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Params",
            "description": "Additional parameters for document extraction (language, output_format, etc.)"
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "DocumentBatchPrepareRequest",
        "description": "Request to prepare batch document upload with presigned URLs."
      },
      "DocumentBatchPrepareResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID for tracking"
          },
          "upload_plan": {
            "$ref": "#/components/schemas/DocumentUploadPlan",
            "description": "Upload strategy and configuration"
          },
          "presigned_urls": {
            "items": {
              "$ref": "#/components/schemas/DocumentBatchPresignedUrl"
            },
            "type": "array",
            "title": "Presigned Urls",
            "description": "Presigned URLs for all documents"
          },
          "total_size_bytes": {
            "type": "integer",
            "title": "Total Size Bytes",
            "description": "Total size of all documents"
          },
          "estimated_time_seconds": {
            "type": "integer",
            "title": "Estimated Time Seconds",
            "description": "Estimated upload time"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "Batch expiration timestamp"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "upload_plan",
          "presigned_urls",
          "total_size_bytes",
          "estimated_time_seconds",
          "expires_at"
        ],
        "title": "DocumentBatchPrepareResponse",
        "description": "Response with batch upload plan and presigned URLs for documents."
      },
      "DocumentBatchPresignedUrl": {
        "properties": {
          "file_index": {
            "type": "integer",
            "title": "File Index",
            "description": "Index in original files array"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "Presigned URL for upload"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "HTTP method (POST or PUT)"
          },
          "upload_fields": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Fields",
            "description": "Form fields for POST"
          },
          "upload_headers": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Headers",
            "description": "Headers for PUT"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "URL expiration timestamp"
          },
          "upload_intent_id": {
            "type": "string",
            "title": "Upload Intent Id",
            "description": "UploadIntent ID for tracking"
          }
        },
        "type": "object",
        "required": [
          "file_index",
          "filename",
          "upload_url",
          "upload_method",
          "object_key",
          "expires_at",
          "upload_intent_id"
        ],
        "title": "DocumentBatchPresignedUrl",
        "description": "Presigned URL with metadata for batch document upload."
      },
      "DocumentBatchStatusResponse": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Batch status: pending, uploading, processing, completed, failed"
          },
          "total_documents": {
            "type": "integer",
            "title": "Total Documents",
            "description": "Total documents in batch"
          },
          "confirmed_documents": {
            "type": "integer",
            "title": "Confirmed Documents",
            "description": "Number of confirmed documents"
          },
          "processed_documents": {
            "type": "integer",
            "title": "Processed Documents",
            "description": "Number of fully processed documents"
          },
          "failed_documents": {
            "type": "integer",
            "title": "Failed Documents",
            "description": "Number of failed documents"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Batch creation timestamp"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "documents": {
            "items": {
              "$ref": "#/components/schemas/app__api__v2__endpoints__document_uploads__DocumentInfo"
            },
            "type": "array",
            "title": "Documents",
            "description": "Individual document statuses"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "status",
          "total_documents",
          "confirmed_documents",
          "processed_documents",
          "failed_documents",
          "created_at"
        ],
        "title": "DocumentBatchStatusResponse",
        "description": "Response with batch document processing status."
      },
      "DocumentChunkResultItem": {
        "properties": {
          "chunk_id": {
            "type": "string",
            "title": "Chunk Id"
          },
          "document_id": {
            "type": "string",
            "title": "Document Id"
          },
          "document_filename": {
            "type": "string",
            "title": "Document Filename"
          },
          "text": {
            "type": "string",
            "title": "Text"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "description": "Relevance score (0-1)"
          },
          "page_numbers": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Numbers"
          },
          "chunk_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Index"
          }
        },
        "type": "object",
        "required": [
          "chunk_id",
          "document_id",
          "document_filename",
          "text",
          "score"
        ],
        "title": "DocumentChunkResultItem",
        "description": "Individual document chunk result from agent search."
      },
      "DocumentChunksResponseAPI": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Document ID"
          },
          "chunks": {
            "items": {
              "$ref": "#/components/schemas/ChunkResult"
            },
            "type": "array",
            "title": "Chunks",
            "description": "Document chunks"
          },
          "total_chunks": {
            "type": "integer",
            "title": "Total Chunks",
            "description": "Total number of chunks"
          },
          "status_counts": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Counts",
            "description": "Counts by embedding status"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "chunks",
          "total_chunks"
        ],
        "title": "DocumentChunksResponseAPI",
        "description": "Response with document chunks."
      },
      "DocumentConfirmationRequest": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key of uploaded file"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "Actual uploaded file size"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the document"
          },
          "checksum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checksum",
            "description": "File checksum for verification"
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "size_bytes",
          "content_type"
        ],
        "title": "DocumentConfirmationRequest",
        "description": "Request to confirm a completed document upload."
      },
      "DocumentConfirmationResponse": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Document ID (same as image_id)"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type",
            "description": "Document type (pdf, docx, txt, md)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "confirmed": {
            "type": "boolean",
            "title": "Confirmed",
            "description": "Whether upload was confirmed"
          },
          "deduplicated": {
            "type": "boolean",
            "title": "Deduplicated",
            "description": "True if existing document was returned",
            "default": false
          },
          "is_idempotent_retry": {
            "type": "boolean",
            "title": "Is Idempotent Retry",
            "description": "True if this was an idempotent retry of same upload",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "object_key",
          "filename",
          "document_type",
          "status",
          "confirmed"
        ],
        "title": "DocumentConfirmationResponse",
        "description": "Response confirming the document upload was recorded."
      },
      "DocumentFileInfo": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the document"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 1,
                "pattern": "^[a-zA-Z0-9_\\-\\.]+$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key",
            "description": "Optional idempotency key for retry handling (1-128 chars)"
          },
          "storage_target": {
            "type": "string",
            "pattern": "^(default|custom)$",
            "title": "Storage Target",
            "description": "Storage target: 'default' for platform storage or 'custom' for tenant's S3 bucket",
            "default": "default"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "size_bytes",
          "content_type"
        ],
        "title": "DocumentFileInfo",
        "description": "Information about a document file to upload in a batch."
      },
      "DocumentListResponseAPI": {
        "properties": {
          "documents": {
            "items": {
              "$ref": "#/components/schemas/app__api__v2__endpoints__documents__DocumentInfo"
            },
            "type": "array",
            "title": "Documents",
            "description": "List of documents"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total documents"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Items per page"
          }
        },
        "type": "object",
        "required": [
          "documents",
          "total_count",
          "page",
          "page_size"
        ],
        "title": "DocumentListResponseAPI",
        "description": "Response from document list."
      },
      "DocumentPresignedUploadRequest": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the document"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "storage_target": {
            "type": "string",
            "pattern": "^(default|custom)$",
            "title": "Storage Target",
            "description": "Storage target: 'default' or 'custom'",
            "default": "default"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 1,
                "pattern": "^[a-zA-Z0-9_\\-\\.]+$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key",
            "description": "Optional idempotency key for retry handling (1-128 chars)"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "content_type",
          "size_bytes"
        ],
        "title": "DocumentPresignedUploadRequest",
        "description": "Request for generating a presigned upload URL for documents."
      },
      "DocumentPresignedUploadResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "Presigned URL for upload"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "HTTP method to use (POST or PUT)"
          },
          "upload_fields": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Fields",
            "description": "Additional fields for POST uploads"
          },
          "upload_headers": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Headers",
            "description": "Headers for PUT uploads"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key for the uploaded file"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "URL expiration timestamp"
          },
          "max_size_bytes": {
            "type": "integer",
            "title": "Max Size Bytes",
            "description": "Maximum allowed file size"
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "description": "Storage used",
            "default": "default"
          },
          "bucket_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket Name",
            "description": "Bucket name (for custom storage)"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "upload_method",
          "object_key",
          "expires_at",
          "max_size_bytes"
        ],
        "title": "DocumentPresignedUploadResponse",
        "description": "Response containing presigned upload URL for documents."
      },
      "DocumentSearchAgentRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Query",
            "description": "Natural language search query"
          },
          "limit": {
            "type": "integer",
            "maximum": 500.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum results to return",
            "default": 50
          },
          "document_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Types",
            "description": "Filter by type: pdf, docx, txt"
          },
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Restrict search to specific documents"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "DocumentSearchAgentRequest",
        "description": "Request for AI-powered document search."
      },
      "DocumentSearchAgentResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/DocumentChunkResultItem"
            },
            "type": "array",
            "title": "Results",
            "description": "Full chunk results with metadata"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Total chunks found"
          },
          "chunk_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Chunk Ids",
            "description": "Flat list of all chunk IDs"
          },
          "document_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Document Ids",
            "description": "Unique document IDs in results"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary with refs resolved"
          },
          "summary_raw": {
            "type": "string",
            "title": "Summary Raw",
            "description": "Original summary with [[ref:X]] patterns"
          },
          "result_refs": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ResultRefData"
            },
            "type": "object",
            "title": "Result Refs",
            "description": "Ref data for clients building interactive UIs"
          },
          "search_mode": {
            "type": "string",
            "title": "Search Mode",
            "description": "Search mode used: text, vector, hybrid, or browse"
          },
          "search_strategy": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Strategy",
            "description": "Search strategy used"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "iterations": {
            "type": "integer",
            "title": "Iterations",
            "description": "Number of ReAct iterations performed"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage",
            "description": "LLM token usage for billing"
          }
        },
        "type": "object",
        "required": [
          "success",
          "results",
          "count",
          "chunk_ids",
          "document_ids",
          "summary",
          "summary_raw",
          "search_mode",
          "execution_time_ms",
          "iterations"
        ],
        "title": "DocumentSearchAgentResponse",
        "description": "Response from AI-powered document search."
      },
      "DocumentSearchRequestAPI": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Query",
            "description": "Search query"
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum results",
            "default": 20
          },
          "similarity_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Threshold",
            "description": "Minimum similarity score",
            "default": 0.3
          },
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Optional list of document IDs to search within"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "DocumentSearchRequestAPI",
        "description": "Request for document search."
      },
      "DocumentSearchResponseAPI": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Original search query"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/ChunkResult"
            },
            "type": "array",
            "title": "Results",
            "description": "Matching chunks"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total matching chunks"
          },
          "search_time_ms": {
            "type": "integer",
            "title": "Search Time Ms",
            "description": "Search execution time"
          }
        },
        "type": "object",
        "required": [
          "query",
          "results",
          "total_count",
          "search_time_ms"
        ],
        "title": "DocumentSearchResponseAPI",
        "description": "Response from document search."
      },
      "DocumentStatusResponse": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Document ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type",
            "description": "Document type"
          },
          "text_extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Extraction Status",
            "description": "Text extraction status"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count",
            "description": "Number of pages"
          },
          "chunk_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Count",
            "description": "Number of chunks created"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Upload timestamp"
          },
          "processing_started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Started At",
            "description": "When processing started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When processing completed"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "filename",
          "created_at"
        ],
        "title": "DocumentStatusResponse",
        "description": "Response with document processing status."
      },
      "DocumentTextResponseAPI": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Document ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Full extracted text"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count",
            "description": "Number of pages"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Document metadata"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "filename",
          "text"
        ],
        "title": "DocumentTextResponseAPI",
        "description": "Full document text response."
      },
      "DocumentUploadConfirmation": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether upload succeeded"
          },
          "file_size": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "File Size",
            "description": "Actual file size uploaded"
          },
          "checksum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checksum",
            "description": "File checksum"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if failed"
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "success",
          "file_size"
        ],
        "title": "DocumentUploadConfirmation",
        "description": "Confirmation for a single uploaded document in a batch."
      },
      "DocumentUploadPlan": {
        "properties": {
          "strategy": {
            "type": "string",
            "title": "Strategy",
            "description": "Upload strategy: parallel or sequential"
          },
          "max_concurrent": {
            "type": "integer",
            "title": "Max Concurrent",
            "description": "Maximum concurrent uploads"
          },
          "retry_policy": {
            "type": "object",
            "title": "Retry Policy",
            "description": "Retry configuration"
          },
          "timeout_per_upload": {
            "type": "integer",
            "title": "Timeout Per Upload",
            "description": "Timeout per upload in seconds"
          }
        },
        "type": "object",
        "required": [
          "strategy",
          "max_concurrent",
          "retry_policy",
          "timeout_per_upload"
        ],
        "title": "DocumentUploadPlan",
        "description": "Upload strategy and configuration for document batch."
      },
      "DuplicateCheckRequest": {
        "properties": {
          "hashes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 500,
            "minItems": 1,
            "title": "Hashes",
            "description": "SHA-256 hashes of files to check"
          }
        },
        "type": "object",
        "required": [
          "hashes"
        ],
        "title": "DuplicateCheckRequest",
        "description": "Request to check which file hashes already exist."
      },
      "DuplicateCheckResponse": {
        "properties": {
          "duplicates": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Duplicates",
            "description": "Hashes that already exist for this tenant"
          },
          "unique": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Unique",
            "description": "Hashes that do not exist yet"
          }
        },
        "type": "object",
        "required": [
          "duplicates",
          "unique"
        ],
        "title": "DuplicateCheckResponse",
        "description": "Response indicating which hashes are duplicates."
      },
      "EmailChangeRequest": {
        "properties": {
          "new_email": {
            "type": "string",
            "format": "email",
            "title": "New Email",
            "description": "New email address to change to",
            "example": "newemail@example.com"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Current password for security verification",
            "example": "CurrentPassword123!"
          }
        },
        "type": "object",
        "required": [
          "new_email",
          "password"
        ],
        "title": "EmailChangeRequest",
        "description": "Request model for changing user email address."
      },
      "EmailVerificationRequest": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token",
            "description": "Email verification token received via email"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationRequest",
        "description": "Email verification request model."
      },
      "ErrorResponse": {
        "properties": {
          "error_code": {
            "type": "string",
            "title": "Error Code",
            "description": "Error type or code",
            "example": "INVALID_IMAGE_URL"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable error message",
            "example": "The provided image URL is not accessible"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional error details",
            "example": {
              "status_code": 404,
              "url": "https://example.com/broken.jpg"
            }
          },
          "request_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Id",
            "description": "Request ID for tracking",
            "example": "req_12345"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO 8601 timestamp of the error",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "type": "object",
        "required": [
          "error_code",
          "message",
          "timestamp"
        ],
        "title": "ErrorResponse",
        "description": "Response model for API errors.\n\nNote: The actual JSON response from the global error handler uses a nested\nformat: {\"error\": {\"code\": \"...\", \"message\": \"...\", \"details\": {}}, \"request_id\": \"...\"}\nThis model is used for endpoint-level error construction in unified_endpoints.py."
      },
      "ExportDatasetRequest": {
        "properties": {
          "format": {
            "$ref": "#/components/schemas/app__domain__entities__dataset__ExportFormat",
            "description": "Export format"
          },
          "options": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options",
            "description": "Format-specific export options"
          },
          "include_failed_items": {
            "type": "boolean",
            "title": "Include Failed Items",
            "description": "Whether to include failed batch items in export",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "format"
        ],
        "title": "ExportDatasetRequest",
        "description": "Request model for exporting a dataset."
      },
      "ExportDatasetResponse": {
        "properties": {
          "export_id": {
            "type": "string",
            "format": "uuid",
            "title": "Export Id",
            "description": "Export operation ID"
          },
          "dataset_id": {
            "type": "string",
            "format": "uuid",
            "title": "Dataset Id",
            "description": "Dataset ID"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Export format"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Export status"
          },
          "record_count": {
            "type": "integer",
            "title": "Record Count",
            "description": "Number of records exported"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Export content (for small exports)"
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path",
            "description": "File path (for file-based exports)"
          },
          "download_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Url",
            "description": "Download URL (for large exports)"
          },
          "file_size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size Bytes",
            "description": "Size of exported file in bytes"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "MIME type of exported content"
          },
          "exported_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exported At",
            "description": "Export completion timestamp"
          }
        },
        "type": "object",
        "required": [
          "export_id",
          "dataset_id",
          "format",
          "status",
          "record_count"
        ],
        "title": "ExportDatasetResponse",
        "description": "Response model for dataset export."
      },
      "ExportFilesRequest": {
        "properties": {
          "connection_id": {
            "type": "string",
            "title": "Connection Id",
            "description": "Connection UUID"
          },
          "image_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Image Ids",
            "description": "Image UUIDs to export"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id",
            "description": "Target folder in cloud"
          },
          "folder_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Name",
            "description": "Create new folder"
          }
        },
        "type": "object",
        "required": [
          "connection_id",
          "image_ids"
        ],
        "title": "ExportFilesRequest",
        "description": "Request to export files."
      },
      "ExportFilesResponse": {
        "properties": {
          "cloud_file_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cloud File Ids"
          },
          "job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id"
          },
          "job_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Status"
          },
          "is_async": {
            "type": "boolean",
            "title": "Is Async"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "is_async",
          "message"
        ],
        "title": "ExportFilesResponse",
        "description": "Response after export request."
      },
      "ExportRequest": {
        "properties": {
          "data_type": {
            "$ref": "#/components/schemas/DataExportType",
            "description": "Type of data to export",
            "example": "descriptions"
          },
          "format": {
            "$ref": "#/components/schemas/app__domain__enums__processing_enums__ExportFormat",
            "description": "Export format",
            "example": "csv"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "Filter by start date"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "Filter by end date"
          },
          "min_confidence": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Confidence",
            "description": "Minimum confidence score"
          },
          "max_confidence": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Confidence",
            "description": "Maximum confidence score"
          },
          "search_terms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Terms",
            "description": "Search terms for filtering"
          },
          "source_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Types",
            "description": "Filter by source types"
          },
          "include_metadata": {
            "type": "boolean",
            "title": "Include Metadata",
            "description": "Include metadata in export",
            "default": true
          },
          "include_failed": {
            "type": "boolean",
            "title": "Include Failed",
            "description": "Include failed/low confidence results",
            "default": false
          },
          "fields": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fields",
            "description": "Specific fields to include in export"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100000.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit",
            "description": "Maximum number of records to export"
          }
        },
        "type": "object",
        "required": [
          "data_type",
          "format"
        ],
        "title": "ExportRequest",
        "description": "Request model for exporting processing results."
      },
      "ExportResponse": {
        "properties": {
          "export_id": {
            "type": "string",
            "title": "Export Id",
            "description": "Export operation ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Export status"
          },
          "download_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Url",
            "description": "URL to download the export (when completed)"
          },
          "record_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Record Count",
            "description": "Number of records exported"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Export format"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Export creation timestamp"
          },
          "estimated_completion_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Completion Time",
            "description": "Estimated completion time (for pending exports)"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message (for failed exports)"
          }
        },
        "type": "object",
        "required": [
          "export_id",
          "status",
          "format",
          "created_at"
        ],
        "title": "ExportResponse",
        "description": "Response model for export operations."
      },
      "FileErrorSummary": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "index": {
            "type": "integer",
            "title": "Index"
          },
          "error": {
            "type": "string",
            "title": "Error"
          },
          "retryable": {
            "type": "boolean",
            "title": "Retryable"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "index",
          "error",
          "retryable"
        ],
        "title": "FileErrorSummary",
        "description": "Summary of a file processing error."
      },
      "FileInfo": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the file"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key",
            "description": "Optional idempotency key for retry handling"
          },
          "storage_target": {
            "type": "string",
            "pattern": "^(default|custom)$",
            "title": "Storage Target",
            "description": "Storage target: 'default' or 'custom'",
            "default": "default"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "size_bytes",
          "content_type"
        ],
        "title": "FileInfo",
        "description": "Information about a file to upload (images or documents)."
      },
      "FileRejection": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "index": {
            "type": "integer",
            "title": "Index",
            "description": "Position in the uploaded file list"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Reason for rejection"
          },
          "retryable": {
            "type": "boolean",
            "title": "Retryable",
            "description": "Whether the file can be retried"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "index",
          "reason",
          "retryable"
        ],
        "title": "FileRejection",
        "description": "Details about a rejected file in batch upload."
      },
      "FileResultSummary": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "failed",
              "skipped"
            ],
            "title": "Status"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "First 100 chars of description"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "image_id",
          "status"
        ],
        "title": "FileResultSummary",
        "description": "Summary of a processed file result."
      },
      "FileTokenUsageItem": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename"
          },
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens"
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "filename",
          "input_tokens",
          "output_tokens",
          "total_tokens",
          "provider",
          "model",
          "created_at"
        ],
        "title": "FileTokenUsageItem",
        "description": "Token usage for a single file."
      },
      "FileTokenUsageResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileTokenUsageItem"
            },
            "type": "array",
            "title": "Files"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "total_input_tokens": {
            "type": "integer",
            "title": "Total Input Tokens"
          },
          "total_output_tokens": {
            "type": "integer",
            "title": "Total Output Tokens"
          }
        },
        "type": "object",
        "required": [
          "files",
          "total_count",
          "total_input_tokens",
          "total_output_tokens"
        ],
        "title": "FileTokenUsageResponse",
        "description": "Response for per-file token usage."
      },
      "FiltersAppliedResponse": {
        "properties": {
          "date_range_applied": {
            "type": "boolean",
            "title": "Date Range Applied",
            "default": false
          },
          "confidence_range_applied": {
            "type": "boolean",
            "title": "Confidence Range Applied",
            "default": false
          },
          "search_applied": {
            "type": "boolean",
            "title": "Search Applied",
            "default": false
          },
          "source_types_filtered": {
            "type": "boolean",
            "title": "Source Types Filtered",
            "default": false
          },
          "filter_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter Summary"
          }
        },
        "type": "object",
        "title": "FiltersAppliedResponse",
        "description": "Summary of applied filters."
      },
      "FolderActionDetail": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Action type: create, move_files, create_and_move_files, etc."
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id"
          },
          "folder_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Name"
          },
          "file_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Count"
          }
        },
        "type": "object",
        "required": [
          "action"
        ],
        "title": "FolderActionDetail",
        "description": "Detail of a single folder operation performed."
      },
      "FolderBreadcrumbResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "depth": {
            "type": "integer",
            "title": "Depth"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "depth"
        ],
        "title": "FolderBreadcrumbResponse",
        "description": "Breadcrumb entry."
      },
      "FolderBreadcrumbsResponse": {
        "properties": {
          "breadcrumbs": {
            "items": {
              "$ref": "#/components/schemas/FolderBreadcrumbResponse"
            },
            "type": "array",
            "title": "Breadcrumbs"
          }
        },
        "type": "object",
        "required": [
          "breadcrumbs"
        ],
        "title": "FolderBreadcrumbsResponse",
        "description": "Breadcrumbs response."
      },
      "FolderContentsResponse": {
        "properties": {
          "folder": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FolderResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "breadcrumbs": {
            "items": {
              "$ref": "#/components/schemas/FolderBreadcrumbResponse"
            },
            "type": "array",
            "title": "Breadcrumbs"
          },
          "subfolders": {
            "items": {
              "$ref": "#/components/schemas/FolderResponse"
            },
            "type": "array",
            "title": "Subfolders"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files"
          },
          "has_more_files": {
            "type": "boolean",
            "title": "Has More Files"
          }
        },
        "type": "object",
        "required": [
          "folder",
          "breadcrumbs",
          "subfolders",
          "total_files",
          "has_more_files"
        ],
        "title": "FolderContentsResponse",
        "description": "Folder contents response with subfolders and file info."
      },
      "FolderResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id"
          },
          "depth": {
            "type": "integer",
            "title": "Depth"
          },
          "file_count": {
            "type": "integer",
            "title": "File Count"
          },
          "subfolder_count": {
            "type": "integer",
            "title": "Subfolder Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "parent_id",
          "depth",
          "file_count",
          "subfolder_count",
          "created_at",
          "updated_at"
        ],
        "title": "FolderResponse",
        "description": "Folder details response."
      },
      "FolderTreeResponse": {
        "properties": {
          "folders": {
            "items": {
              "$ref": "#/components/schemas/FolderResponse"
            },
            "type": "array",
            "title": "Folders"
          }
        },
        "type": "object",
        "required": [
          "folders"
        ],
        "title": "FolderTreeResponse",
        "description": "Full folder tree response (flat list with parent_ids)."
      },
      "FullDescription": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Description ID"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description text"
          },
          "visible_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visible Text",
            "description": "Extracted visible text from the image"
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Score",
            "description": "Confidence score"
          },
          "providers_used": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers Used",
            "description": "VLM providers used"
          },
          "verification_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verification Level",
            "description": "Verification level used"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms",
            "description": "Processing time"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "description",
          "created_at"
        ],
        "title": "FullDescription",
        "description": "Full description from processing."
      },
      "GetAllUserImagesResponse": {
        "properties": {
          "image_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Image Ids"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "image_ids",
          "total_count",
          "has_more"
        ],
        "title": "GetAllUserImagesResponse",
        "description": "Response from getting all user images."
      },
      "GetChatSessionResponse": {
        "properties": {
          "session": {
            "$ref": "#/components/schemas/ChatSessionSummaryResponse"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessageResponse"
            },
            "type": "array",
            "title": "Messages"
          },
          "selected_image_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Selected Image Ids"
          },
          "context_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Summary"
          }
        },
        "type": "object",
        "required": [
          "session",
          "messages",
          "selected_image_ids",
          "context_summary"
        ],
        "title": "GetChatSessionResponse",
        "description": "Response from getting a chat session."
      },
      "GoogleOAuthRequest": {
        "properties": {
          "id_token": {
            "type": "string",
            "title": "Id Token",
            "description": "Google OAuth ID token received from Google Sign-In"
          },
          "remember_me": {
            "type": "boolean",
            "title": "Remember Me",
            "description": "Whether to extend session duration for persistent login",
            "default": false
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Password for existing local account (used for smart account linking)"
          }
        },
        "type": "object",
        "required": [
          "id_token"
        ],
        "title": "GoogleOAuthRequest",
        "description": "Google OAuth login request model."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ImageData": {
        "properties": {
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL of the image",
            "example": "https://example.com/image.jpg"
          },
          "image_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Base64",
            "description": "Base64 encoded image data"
          },
          "object_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Object Key",
            "description": "S3/Spaces object key for previously uploaded image",
            "example": "images/tenant-id/2024/01/image-hash.jpg"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata for tracking"
          }
        },
        "type": "object",
        "title": "ImageData",
        "description": "Model for image data in batch requests."
      },
      "ImageSearchAgentRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Query",
            "description": "Natural language search query"
          },
          "limit": {
            "type": "integer",
            "maximum": 500.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum results to return",
            "default": 50
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id",
            "description": "Restrict search to specific folder"
          },
          "image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Ids",
            "description": "Restrict search to specific images"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ImageSearchAgentRequest",
        "description": "Request for AI-powered image search."
      },
      "ImageSearchAgentResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/ImageSearchResultItem"
            },
            "type": "array",
            "title": "Results",
            "description": "Full result objects with metadata"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Total results found"
          },
          "result_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Result Ids",
            "description": "Flat list of all image IDs"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary with refs resolved"
          },
          "summary_raw": {
            "type": "string",
            "title": "Summary Raw",
            "description": "Original summary with [[ref:X]] patterns"
          },
          "result_refs": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ResultRefData"
            },
            "type": "object",
            "title": "Result Refs",
            "description": "Ref data for clients building interactive UIs"
          },
          "search_strategy": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Strategy",
            "description": "Search strategy used (for debugging)"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "iterations": {
            "type": "integer",
            "title": "Iterations",
            "description": "Number of ReAct iterations performed"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage",
            "description": "LLM token usage for billing"
          }
        },
        "type": "object",
        "required": [
          "success",
          "results",
          "count",
          "result_ids",
          "summary",
          "summary_raw",
          "execution_time_ms",
          "iterations"
        ],
        "title": "ImageSearchAgentResponse",
        "description": "Response from AI-powered image search."
      },
      "ImageSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Query",
            "description": "Natural language search query"
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of results to return",
            "default": 50
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Number of results to skip",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ImageSearchRequest",
        "description": "Request to search for images using natural language."
      },
      "ImageSearchResultItem": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "description": "Relevance score (0-1)"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "features": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Features",
            "description": "Detected objects/features"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "score"
        ],
        "title": "ImageSearchResultItem",
        "description": "Individual image result from agent search."
      },
      "ImageSearchResultResponse": {
        "properties": {
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence"
          },
          "relevance_score": {
            "type": "number",
            "title": "Relevance Score"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "medium_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium Url"
          },
          "full_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Url"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "description",
          "confidence",
          "relevance_score"
        ],
        "title": "ImageSearchResultResponse",
        "description": "Response for an individual image search result."
      },
      "ImageTextPair": {
        "properties": {
          "image": {
            "$ref": "#/components/schemas/ImageData",
            "description": "Image data"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Text to verify against image"
          },
          "verification_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(quick|standard|thorough|critical)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Verification Level"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata for tracking"
          }
        },
        "type": "object",
        "required": [
          "image",
          "text"
        ],
        "title": "ImageTextPair",
        "description": "Model for image-text verification pair."
      },
      "ImportFilesRequest": {
        "properties": {
          "connection_id": {
            "type": "string",
            "title": "Connection Id",
            "description": "Connection UUID"
          },
          "files": {
            "items": {
              "$ref": "#/components/schemas/CloudFileRequest"
            },
            "type": "array",
            "title": "Files",
            "description": "Files to import"
          },
          "auto_describe": {
            "type": "boolean",
            "title": "Auto Describe",
            "description": "Auto-generate descriptions",
            "default": true
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags to apply"
          },
          "collection_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Id",
            "description": "Target collection"
          }
        },
        "type": "object",
        "required": [
          "connection_id",
          "files"
        ],
        "title": "ImportFilesRequest",
        "description": "Request to import files."
      },
      "ImportFilesResponse": {
        "properties": {
          "image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Ids"
          },
          "job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Id"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files",
            "default": 0
          },
          "is_async": {
            "type": "boolean",
            "title": "Is Async"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "is_async",
          "message"
        ],
        "title": "ImportFilesResponse",
        "description": "Response after import request."
      },
      "InitiateAuthRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "Provider type: google_drive"
          },
          "redirect_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Redirect Uri",
            "description": "Custom redirect URI"
          }
        },
        "type": "object",
        "required": [
          "provider"
        ],
        "title": "InitiateAuthRequest",
        "description": "Request to initiate OAuth flow."
      },
      "InitiateAuthResponse": {
        "properties": {
          "authorization_url": {
            "type": "string",
            "title": "Authorization Url"
          },
          "state": {
            "type": "string",
            "title": "State"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          }
        },
        "type": "object",
        "required": [
          "authorization_url",
          "state",
          "provider"
        ],
        "title": "InitiateAuthResponse",
        "description": "Response with authorization URL."
      },
      "InitiateUploadResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "URL of uploaded original image"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "Upload method used",
            "default": "DIRECT"
          },
          "upload_fields": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Fields",
            "description": "Not used in direct upload"
          },
          "upload_headers": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Headers",
            "description": "Not used in direct upload"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3/Spaces object key"
          },
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id",
            "description": "Unique image identifier"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "URL expiration time"
          },
          "max_size_bytes": {
            "type": "integer",
            "title": "Max Size Bytes",
            "description": "Maximum allowed file size"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url",
            "description": "URL to thumbnail variant"
          },
          "variant_urls": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Urls",
            "description": "URLs for all image variants"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "object_key",
          "image_id",
          "expires_at",
          "max_size_bytes"
        ],
        "title": "InitiateUploadResponse",
        "description": "Response for initiating upload."
      },
      "InviteMemberRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address of user to invite",
            "example": "newmember@example.com"
          },
          "role": {
            "type": "string",
            "pattern": "^(viewer|editor|admin)$",
            "title": "Role",
            "description": "Role to assign to the new member",
            "default": "viewer",
            "example": "editor"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "InviteMemberRequest",
        "description": "Request model for inviting a new tenant member."
      },
      "JobStatusResponse": {
        "properties": {
          "job": {
            "$ref": "#/components/schemas/CloudStorageJobDetail"
          }
        },
        "type": "object",
        "required": [
          "job"
        ],
        "title": "JobStatusResponse",
        "description": "Wrapped response for job status endpoint."
      },
      "ListAPIKeysResponse": {
        "properties": {
          "api_keys": {
            "items": {
              "$ref": "#/components/schemas/APIKeyResponse"
            },
            "type": "array",
            "title": "Api Keys",
            "description": "List of API keys for the tenant"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of API keys",
            "example": 5
          }
        },
        "type": "object",
        "required": [
          "api_keys",
          "total"
        ],
        "title": "ListAPIKeysResponse",
        "description": "Response model for listing API keys."
      },
      "ListChatSessionsResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/ChatSessionSummaryResponse"
            },
            "type": "array",
            "title": "Sessions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total_count",
          "has_more"
        ],
        "title": "ListChatSessionsResponse",
        "description": "Response from listing chat sessions."
      },
      "ListConnectionsResponse": {
        "properties": {
          "connections": {
            "items": {
              "$ref": "#/components/schemas/ConnectionResponse"
            },
            "type": "array",
            "title": "Connections"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "connections",
          "total_count"
        ],
        "title": "ListConnectionsResponse",
        "description": "Response with list of connections."
      },
      "ListUserFilesResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/UserFile"
            },
            "type": "array",
            "title": "Files",
            "description": "List of user files"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of files"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More",
            "description": "Whether more files exist"
          }
        },
        "type": "object",
        "required": [
          "files",
          "total_count",
          "has_more"
        ],
        "title": "ListUserFilesResponse",
        "description": "Response for listing user files."
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "User's password",
            "example": "SecurePassword123!"
          },
          "remember_me": {
            "type": "boolean",
            "title": "Remember Me",
            "description": "Whether to extend session duration for persistent login",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Login request model for session-based authentication."
      },
      "LoginResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "Unique identifier of the authenticated user"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User's display name"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether the user's email has been verified"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the user account is active"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Unique identifier of the created session"
          },
          "session_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Token",
            "description": "Session authentication token (for cookie-based auth)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message",
            "default": "Login successful"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "email_verified",
          "is_active",
          "session_id"
        ],
        "title": "LoginResponse",
        "description": "Login response model with user and session information."
      },
      "MaterialClassificationResponseDTO": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "material_classification": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Material Classification"
          },
          "classified_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Classified At"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "status"
        ],
        "title": "MaterialClassificationResponseDTO",
        "description": "Response for material classification."
      },
      "MaterialSearchRequestDTO": {
        "properties": {
          "material_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Material Type",
            "description": "Material type (wood, stone, metal, etc.)"
          },
          "surface_finish": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Surface Finish",
            "description": "Surface finish (matte, glossy, brushed, etc.)"
          },
          "texture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Texture",
            "description": "Texture (smooth, rough, grained, etc.)"
          },
          "pattern": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern",
            "description": "Pattern (solid, striped, geometric, etc.)"
          },
          "min_confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Min Confidence",
            "description": "Minimum classification confidence",
            "default": 0.5
          },
          "limit": {
            "type": "integer",
            "maximum": 200.0,
            "minimum": 1.0,
            "title": "Limit",
            "default": 50
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "default": 0
          }
        },
        "type": "object",
        "title": "MaterialSearchRequestDTO",
        "description": "Request for material-based search."
      },
      "MaterialSearchResponseDTO": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/MaterialSearchResultDTO"
            },
            "type": "array",
            "title": "Results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_count",
          "limit",
          "offset"
        ],
        "title": "MaterialSearchResponseDTO",
        "description": "Response for material search."
      },
      "MaterialSearchResultDTO": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "material_classification": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Material Classification"
          },
          "confidence_score": {
            "type": "number",
            "title": "Confidence Score",
            "default": 1.0
          }
        },
        "type": "object",
        "required": [
          "image_id"
        ],
        "title": "MaterialSearchResultDTO",
        "description": "A single search result."
      },
      "MaterialTypeDTO": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "common_finishes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Common Finishes"
          }
        },
        "type": "object",
        "required": [
          "type",
          "display_name",
          "description",
          "common_finishes"
        ],
        "title": "MaterialTypeDTO",
        "description": "A material type with description."
      },
      "MessageImageInfo": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "stored_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stored Url"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename"
          }
        },
        "type": "object",
        "required": [
          "image_id"
        ],
        "title": "MessageImageInfo",
        "description": "Information about an image in a message."
      },
      "MonthlyTokenUsageResponse": {
        "properties": {
          "year": {
            "type": "integer",
            "title": "Year"
          },
          "month": {
            "type": "integer",
            "title": "Month"
          },
          "describe_input_tokens": {
            "type": "integer",
            "title": "Describe Input Tokens"
          },
          "describe_output_tokens": {
            "type": "integer",
            "title": "Describe Output Tokens"
          },
          "describe_operations": {
            "type": "integer",
            "title": "Describe Operations"
          },
          "chat_input_tokens": {
            "type": "integer",
            "title": "Chat Input Tokens"
          },
          "chat_output_tokens": {
            "type": "integer",
            "title": "Chat Output Tokens"
          },
          "chat_messages": {
            "type": "integer",
            "title": "Chat Messages"
          },
          "verify_input_tokens": {
            "type": "integer",
            "title": "Verify Input Tokens"
          },
          "verify_output_tokens": {
            "type": "integer",
            "title": "Verify Output Tokens"
          },
          "verify_operations": {
            "type": "integer",
            "title": "Verify Operations"
          },
          "describe_cache_read_tokens": {
            "type": "integer",
            "title": "Describe Cache Read Tokens",
            "default": 0
          },
          "describe_cache_creation_tokens": {
            "type": "integer",
            "title": "Describe Cache Creation Tokens",
            "default": 0
          },
          "chat_cache_read_tokens": {
            "type": "integer",
            "title": "Chat Cache Read Tokens",
            "default": 0
          },
          "chat_cache_creation_tokens": {
            "type": "integer",
            "title": "Chat Cache Creation Tokens",
            "default": 0
          },
          "verify_cache_read_tokens": {
            "type": "integer",
            "title": "Verify Cache Read Tokens",
            "default": 0
          },
          "verify_cache_creation_tokens": {
            "type": "integer",
            "title": "Verify Cache Creation Tokens",
            "default": 0
          },
          "agent_input_tokens": {
            "type": "integer",
            "title": "Agent Input Tokens",
            "default": 0
          },
          "agent_output_tokens": {
            "type": "integer",
            "title": "Agent Output Tokens",
            "default": 0
          },
          "agent_operations": {
            "type": "integer",
            "title": "Agent Operations",
            "default": 0
          },
          "agent_cache_read_tokens": {
            "type": "integer",
            "title": "Agent Cache Read Tokens",
            "default": 0
          },
          "agent_cache_creation_tokens": {
            "type": "integer",
            "title": "Agent Cache Creation Tokens",
            "default": 0
          },
          "total_input_tokens": {
            "type": "integer",
            "title": "Total Input Tokens"
          },
          "total_output_tokens": {
            "type": "integer",
            "title": "Total Output Tokens"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens"
          },
          "total_cache_read_tokens": {
            "type": "integer",
            "title": "Total Cache Read Tokens",
            "default": 0
          },
          "total_cache_creation_tokens": {
            "type": "integer",
            "title": "Total Cache Creation Tokens",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "year",
          "month",
          "describe_input_tokens",
          "describe_output_tokens",
          "describe_operations",
          "chat_input_tokens",
          "chat_output_tokens",
          "chat_messages",
          "verify_input_tokens",
          "verify_output_tokens",
          "verify_operations",
          "total_input_tokens",
          "total_output_tokens",
          "total_tokens"
        ],
        "title": "MonthlyTokenUsageResponse",
        "description": "Response for monthly token usage."
      },
      "MoveFilesRequest": {
        "properties": {
          "file_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "maxItems": 100,
            "minItems": 1,
            "title": "File Ids",
            "description": "File IDs to move"
          },
          "folder_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder Id",
            "description": "Target folder ID (null for root)"
          }
        },
        "type": "object",
        "required": [
          "file_ids"
        ],
        "title": "MoveFilesRequest",
        "description": "Request body for moving files to a folder."
      },
      "MoveFilesResponse": {
        "properties": {
          "moved": {
            "type": "integer",
            "title": "Moved"
          },
          "total_requested": {
            "type": "integer",
            "title": "Total Requested"
          }
        },
        "type": "object",
        "required": [
          "moved",
          "total_requested"
        ],
        "title": "MoveFilesResponse",
        "description": "File move response."
      },
      "MoveFolderRequest": {
        "properties": {
          "new_parent_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Parent Id",
            "description": "Target parent folder ID (null for root)"
          }
        },
        "type": "object",
        "title": "MoveFolderRequest",
        "description": "Request body for moving a folder."
      },
      "OperationTypeBreakdown": {
        "properties": {
          "describe": {
            "type": "integer",
            "title": "Describe",
            "default": 0
          },
          "verify": {
            "type": "integer",
            "title": "Verify",
            "default": 0
          },
          "batch_describe": {
            "type": "integer",
            "title": "Batch Describe",
            "default": 0
          },
          "batch_verify": {
            "type": "integer",
            "title": "Batch Verify",
            "default": 0
          }
        },
        "type": "object",
        "title": "OperationTypeBreakdown",
        "description": "Breakdown of usage by operation type."
      },
      "OrganizeAgentRequest": {
        "properties": {
          "intent": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Intent",
            "description": "Organization intent, e.g. 'Sort these files by category'"
          },
          "image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Ids",
            "description": "Images to organize"
          },
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Documents to organize"
          },
          "parent_folder_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Folder Id",
            "description": "Parent folder for new folders"
          }
        },
        "type": "object",
        "required": [
          "intent"
        ],
        "title": "OrganizeAgentRequest",
        "description": "Request for AI-driven file organization."
      },
      "OrganizeAgentResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary of actions taken"
          },
          "actions": {
            "items": {
              "$ref": "#/components/schemas/FolderActionDetail"
            },
            "type": "array",
            "title": "Actions",
            "description": "Detailed list of folder operations"
          },
          "folders_created": {
            "type": "integer",
            "title": "Folders Created"
          },
          "files_moved": {
            "type": "integer",
            "title": "Files Moved"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "iterations": {
            "type": "integer",
            "title": "Iterations",
            "description": "Number of ReAct iterations performed"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage",
            "description": "LLM token usage for billing"
          }
        },
        "type": "object",
        "required": [
          "success",
          "summary",
          "folders_created",
          "files_moved",
          "execution_time_ms",
          "iterations"
        ],
        "title": "OrganizeAgentResponse",
        "description": "Response from AI-driven file organization."
      },
      "PageInfoResponse": {
        "properties": {
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Current offset"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Page size limit"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "description": "Whether there are more results"
          },
          "has_previous": {
            "type": "boolean",
            "title": "Has Previous",
            "description": "Whether there are previous results"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total number of pages"
          },
          "current_page": {
            "type": "integer",
            "title": "Current Page",
            "description": "Current page number (1-indexed)"
          }
        },
        "type": "object",
        "required": [
          "offset",
          "limit",
          "has_next",
          "has_previous",
          "total_pages",
          "current_page"
        ],
        "title": "PageInfoResponse",
        "description": "Pagination information."
      },
      "PasswordResetRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Email address of the account to reset password for",
            "example": "user@example.com"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordResetRequest",
        "description": "Password reset request model."
      },
      "PendingBatchInfo": {
        "properties": {
          "batch_id": {
            "type": "string",
            "title": "Batch Id",
            "description": "Batch ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current batch status"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files",
            "description": "Total files in batch"
          },
          "confirmed_count": {
            "type": "integer",
            "title": "Confirmed Count",
            "description": "Number of confirmed files"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO timestamp when batch was created"
          },
          "age_seconds": {
            "type": "integer",
            "title": "Age Seconds",
            "description": "Age of batch in seconds"
          }
        },
        "type": "object",
        "required": [
          "batch_id",
          "status",
          "total_files",
          "confirmed_count",
          "created_at",
          "age_seconds"
        ],
        "title": "PendingBatchInfo",
        "description": "Information about a pending batch that may need recovery."
      },
      "PendingBatchesResponse": {
        "properties": {
          "batches": {
            "items": {
              "$ref": "#/components/schemas/PendingBatchInfo"
            },
            "type": "array",
            "title": "Batches",
            "description": "List of pending batches"
          },
          "has_recoverable": {
            "type": "boolean",
            "title": "Has Recoverable",
            "description": "Whether there are batches that can be recovered"
          }
        },
        "type": "object",
        "required": [
          "has_recoverable"
        ],
        "title": "PendingBatchesResponse",
        "description": "Response containing pending batches that may need recovery."
      },
      "PickerProxyRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Picker session ID from get_picker_token"
          },
          "endpoint": {
            "type": "string",
            "title": "Endpoint",
            "description": "Google Drive API endpoint path (e.g., 'files/abc123')"
          },
          "params": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Params",
            "description": "Query parameters for the API call"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "endpoint"
        ],
        "title": "PickerProxyRequest",
        "description": "Request to proxy a picker API call."
      },
      "PickerProxyResponse": {
        "properties": {
          "data": {
            "type": "object",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "PickerProxyResponse",
        "description": "Response from proxied picker API call."
      },
      "PickerSessionData": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "app_id": {
            "type": "string",
            "title": "App Id"
          },
          "developer_key": {
            "type": "string",
            "title": "Developer Key"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "access_token",
          "app_id",
          "developer_key",
          "expires_at"
        ],
        "title": "PickerSessionData",
        "description": "Picker session data for Google Picker API."
      },
      "PickerTokenResponse": {
        "properties": {
          "session": {
            "$ref": "#/components/schemas/PickerSessionData"
          }
        },
        "type": "object",
        "required": [
          "session"
        ],
        "title": "PickerTokenResponse",
        "description": "Response with picker session."
      },
      "PipelineNodeResult": {
        "properties": {
          "node_id": {
            "type": "string",
            "title": "Node Id"
          },
          "agent": {
            "type": "string",
            "title": "Agent",
            "description": "Agent short name (same as request)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "pending | completed | failed | skipped"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "outputs": {
            "type": "object",
            "title": "Outputs"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "node_id",
          "agent",
          "status"
        ],
        "title": "PipelineNodeResult",
        "description": "Per-node execution result."
      },
      "PipelineRequest": {
        "properties": {
          "steps": {
            "items": {
              "$ref": "#/components/schemas/PipelineStep"
            },
            "type": "array",
            "maxItems": 10,
            "minItems": 1,
            "title": "Steps",
            "description": "Ordered list of agent steps to execute"
          },
          "image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Ids",
            "description": "Initial image IDs to seed the pipeline with"
          },
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Initial document IDs to seed the pipeline with"
          }
        },
        "type": "object",
        "required": [
          "steps"
        ],
        "title": "PipelineRequest",
        "description": "Request body for pipeline execution."
      },
      "PipelineResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/PipelineNodeResult"
            },
            "type": "array",
            "title": "Nodes",
            "description": "Per-node execution results in execution order"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "total_waves": {
            "type": "integer",
            "title": "Total Waves"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage"
          }
        },
        "type": "object",
        "required": [
          "success",
          "execution_time_ms",
          "total_waves"
        ],
        "title": "PipelineResponse",
        "description": "Response from pipeline execution."
      },
      "PipelineStep": {
        "properties": {
          "agent": {
            "type": "string",
            "title": "Agent",
            "description": "Agent name: 'image_search', 'document_search', 'analysis', 'document_analysis', 'assistant', 'folder', 'analytics', 'cross_reference', 'link_search', 'link_analysis', 'chat'"
          },
          "intent": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Intent",
            "description": "Natural language description of what this step should do"
          },
          "depends_on": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Depends On",
            "description": "Indices of prior steps this step depends on (0-based). If omitted, the graph engine auto-wires based on data type matching."
          }
        },
        "type": "object",
        "required": [
          "agent",
          "intent"
        ],
        "title": "PipelineStep",
        "description": "A single step in the pipeline workflow."
      },
      "PlanActionRequest": {
        "properties": {
          "action": {
            "type": "string",
            "pattern": "^(approve|cancel)$",
            "title": "Action",
            "description": "Action to take: 'approve' or 'cancel'"
          },
          "plan_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Data",
            "description": "[DEPRECATED] Plan data is now retrieved from Redis by plan_id. This field is kept for backward compatibility but is no longer used."
          }
        },
        "type": "object",
        "required": [
          "action"
        ],
        "title": "PlanActionRequest",
        "description": "Request to approve or cancel an execution plan."
      },
      "PlanActionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "plan_id": {
            "type": "string",
            "title": "Plan Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "action_taken": {
            "type": "string",
            "title": "Action Taken"
          },
          "results": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Results"
          },
          "agent_results": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Results"
          },
          "pending_actions": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pending Actions"
          }
        },
        "type": "object",
        "required": [
          "success",
          "plan_id",
          "message",
          "action_taken"
        ],
        "title": "PlanActionResponse",
        "description": "Response from a plan action."
      },
      "PresignedUploadRequest": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type of the file"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Purpose of upload",
            "default": "image_analysis"
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key",
            "description": "Optional idempotency key for retry handling"
          },
          "storage_target": {
            "type": "string",
            "pattern": "^(default|custom)$",
            "title": "Storage Target",
            "description": "Storage target: 'default' (Aionvision) or 'custom' (your S3 bucket)",
            "default": "default"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "content_type",
          "size_bytes"
        ],
        "title": "PresignedUploadRequest",
        "description": "Request for generating a presigned upload URL."
      },
      "PresignedUploadResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "Presigned URL for upload"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "HTTP method to use (POST or PUT)"
          },
          "upload_fields": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Fields",
            "description": "Additional fields for POST uploads"
          },
          "upload_headers": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Headers",
            "description": "Headers for PUT uploads"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key for the uploaded file"
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "URL expiration timestamp"
          },
          "max_size_bytes": {
            "type": "integer",
            "title": "Max Size Bytes",
            "description": "Maximum allowed file size"
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "description": "Storage used: 'default' or 'custom'",
            "default": "default"
          },
          "bucket_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket Name",
            "description": "Bucket name (for custom storage)"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "upload_method",
          "object_key",
          "expires_at",
          "max_size_bytes"
        ],
        "title": "PresignedUploadResponse",
        "description": "Response containing presigned upload URL and metadata."
      },
      "ProcessingHistory": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Entry ID"
          },
          "operation_type": {
            "type": "string",
            "title": "Operation Type",
            "description": "Type of operation"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Start timestamp"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "Completion timestamp"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error if failed"
          }
        },
        "type": "object",
        "required": [
          "id",
          "operation_type",
          "status",
          "created_at"
        ],
        "title": "ProcessingHistory",
        "description": "Processing history entry."
      },
      "ProcessingResultResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Result ID"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Result type (description/verification)"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "Source type (single/batch)"
          },
          "source_id": {
            "type": "string",
            "title": "Source Id",
            "description": "ID of the source operation"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Creation timestamp (ISO format)"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "Original URL of the processed image"
          },
          "stored_image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stored Image Url",
            "description": "URL to retrieve the stored image"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Generated description"
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Score",
            "description": "Confidence score (0-1)"
          },
          "verification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VerificationDetailsResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Verification details (only for verification results)"
          },
          "image_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Id",
            "description": "ID of the stored image"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url",
            "description": "URL to retrieve the image thumbnail"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "type",
          "source_type",
          "source_id",
          "created_at"
        ],
        "title": "ProcessingResultResponse",
        "description": "Response model for individual processing result."
      },
      "ProcessingStatisticsResponse": {
        "properties": {
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of results"
          },
          "average_confidence": {
            "type": "number",
            "title": "Average Confidence",
            "description": "Average confidence score"
          },
          "confidence_distribution": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Distribution",
            "description": "Distribution of confidence scores in buckets"
          },
          "providers_used": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers Used",
            "description": "Count of results by provider"
          },
          "daily_counts": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Counts",
            "description": "Daily result counts"
          },
          "source_distribution": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Distribution",
            "description": "Distribution by source type"
          }
        },
        "type": "object",
        "required": [
          "total_count",
          "average_confidence"
        ],
        "title": "ProcessingStatisticsResponse",
        "description": "Statistics about processing results."
      },
      "RegisterRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address for the new account",
            "example": "newuser@example.com"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "Password for the new account (min 8 chars, must include uppercase, lowercase, and number)",
            "example": "SecurePassword123!"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "User's full name",
            "example": "John Doe"
          },
          "organization_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Name",
            "description": "Name of the organization/tenant (defaults to personal workspace)",
            "example": "Acme Corporation"
          },
          "auto_login": {
            "type": "boolean",
            "title": "Auto Login",
            "description": "Whether to automatically log in after registration (disabled by default for security)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "email",
          "password",
          "name"
        ],
        "title": "RegisterRequest",
        "description": "Registration request model for new user signup."
      },
      "RegisterResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "Unique identifier of the created user"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User's display name"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "Unique identifier of the created tenant/organization"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Session ID if auto_login was enabled"
          },
          "session_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Token",
            "description": "Session authentication token if auto_login was enabled"
          },
          "email_verification_required": {
            "type": "boolean",
            "title": "Email Verification Required",
            "description": "Whether email verification is required before full access",
            "default": true
          },
          "email_sent": {
            "type": "boolean",
            "title": "Email Sent",
            "description": "Whether verification email was sent successfully",
            "default": true
          },
          "email_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email Error",
            "description": "Error message if email sending failed"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message",
            "default": "Registration successful"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "tenant_id"
        ],
        "title": "RegisterResponse",
        "description": "Registration response model with created user and tenant information."
      },
      "RenameFolderRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "New folder name"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "RenameFolderRequest",
        "description": "Request body for renaming a folder."
      },
      "RenameSessionRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Title",
            "description": "New title for the chat session"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "RenameSessionRequest",
        "description": "Request to rename a chat session."
      },
      "ResendVerificationByEmailRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Email address to resend verification email to",
            "example": "user@example.com"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResendVerificationByEmailRequest",
        "description": "Resend verification email request model."
      },
      "ResultRefData": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ids"
          },
          "image_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Image Ids",
            "description": "Backward compat: contains IDs when id_type='image', empty otherwise"
          },
          "id_type": {
            "type": "string",
            "enum": [
              "image",
              "document",
              "chunk"
            ],
            "title": "Id Type"
          },
          "label": {
            "type": "string",
            "title": "Label"
          }
        },
        "type": "object",
        "required": [
          "count",
          "ids",
          "id_type",
          "label"
        ],
        "title": "ResultRefData",
        "description": "Reference data for interactive UI resolution."
      },
      "Role": {
        "type": "string",
        "enum": [
          "owner",
          "admin",
          "editor",
          "viewer"
        ],
        "title": "Role",
        "description": "Roles for tenant members."
      },
      "RuleConfigRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Name of the rule",
            "example": "Image Quality Check"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "Detailed description of what the rule checks",
            "example": "Ensures images meet minimum quality standards"
          },
          "rule_type": {
            "type": "string",
            "title": "Rule Type",
            "description": "Type of rule (e.g., quality_check, content_filter, etc.)",
            "example": "quality_check"
          },
          "config": {
            "type": "object",
            "title": "Config",
            "description": "Rule-specific configuration parameters",
            "example": {
              "max_file_size": 5242880,
              "min_resolution": 1024
            }
          },
          "priority": {
            "type": "string",
            "pattern": "^(low|medium|high|critical)$",
            "title": "Priority",
            "description": "Rule priority level",
            "default": "medium",
            "example": "high"
          },
          "severity": {
            "type": "string",
            "pattern": "^(low|medium|high|critical)$",
            "title": "Severity",
            "description": "Severity level for rule violations",
            "default": "medium",
            "example": "high"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the rule is active",
            "default": true
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Custom error message for rule violations",
            "example": "Image resolution is below the required minimum"
          },
          "conditions": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conditions",
            "description": "Additional conditions for rule application",
            "example": [
              {
                "field": "file_type",
                "operator": "equals",
                "value": "jpeg"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "description",
          "rule_type",
          "config"
        ],
        "title": "RuleConfigRequest",
        "description": "Configuration for a verification rule."
      },
      "RuleConfigResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier of the rule"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Name of the rule"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of what the rule checks"
          },
          "rule_type": {
            "type": "string",
            "title": "Rule Type",
            "description": "Type of rule"
          },
          "config": {
            "type": "object",
            "title": "Config",
            "description": "Rule configuration parameters"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "Rule priority level"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Severity level for violations"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the rule is active"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Custom error message for violations"
          },
          "conditions": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conditions",
            "description": "Additional conditions for rule application"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 timestamp of rule creation"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 timestamp of last update"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "rule_type",
          "config",
          "priority",
          "severity",
          "enabled",
          "created_at",
          "updated_at"
        ],
        "title": "RuleConfigResponse",
        "description": "Response model for a rule configuration."
      },
      "RuleSetListResponse": {
        "properties": {
          "rule_sets": {
            "items": {
              "$ref": "#/components/schemas/RuleSetResponse"
            },
            "type": "array",
            "title": "Rule Sets",
            "description": "List of rule sets"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of rule sets",
            "example": 25
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page number",
            "example": 1
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "Number of items per page",
            "example": 10
          }
        },
        "type": "object",
        "required": [
          "rule_sets",
          "total",
          "page",
          "page_size"
        ],
        "title": "RuleSetListResponse",
        "description": "Response model for listing rule sets."
      },
      "RuleSetResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier of the rule set"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Name of the rule set"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Description of the rule set"
          },
          "rules": {
            "items": {
              "$ref": "#/components/schemas/RuleConfigResponse"
            },
            "type": "array",
            "title": "Rules",
            "description": "List of rules in the rule set"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the rule set is active"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional metadata"
          },
          "reference_image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reference Image Url",
            "description": "Reference image URL for visual memory"
          },
          "user_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Description",
            "description": "User description for visual memory"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 timestamp of creation"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 timestamp of last update"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "description": "User ID who created the rule set"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "Tenant ID that owns the rule set"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "rules",
          "enabled",
          "created_at",
          "updated_at",
          "created_by",
          "tenant_id"
        ],
        "title": "RuleSetResponse",
        "description": "Response model for a rule set."
      },
      "RuleTemplateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique template identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Template name",
            "example": "Image Quality Template"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Template description"
          },
          "rule_type": {
            "type": "string",
            "title": "Rule Type",
            "description": "Type of rule this template creates"
          },
          "default_config": {
            "type": "object",
            "title": "Default Config",
            "description": "Default configuration values"
          },
          "config_schema": {
            "type": "object",
            "title": "Config Schema",
            "description": "JSON schema for configuration validation"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Template category",
            "example": "image_validation"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "rule_type",
          "default_config",
          "config_schema",
          "category"
        ],
        "title": "RuleTemplateResponse",
        "description": "Response model for a rule template."
      },
      "RuleTestResultResponse": {
        "properties": {
          "rule_id": {
            "type": "string",
            "title": "Rule Id",
            "description": "ID of the tested rule"
          },
          "rule_name": {
            "type": "string",
            "title": "Rule Name",
            "description": "Name of the tested rule"
          },
          "passed": {
            "type": "boolean",
            "title": "Passed",
            "description": "Whether the rule passed"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if rule failed"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details about the test result"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms",
            "description": "Time taken to execute the rule in milliseconds"
          }
        },
        "type": "object",
        "required": [
          "rule_id",
          "rule_name",
          "passed",
          "execution_time_ms"
        ],
        "title": "RuleTestResultResponse",
        "description": "Response model for rule test results."
      },
      "S3ConfigStatusResponse": {
        "properties": {
          "configured": {
            "type": "boolean",
            "title": "Configured",
            "description": "Whether custom S3 is configured"
          },
          "bucket_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket Name",
            "description": "Configured bucket name"
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Region",
            "description": "Configured region"
          },
          "configured_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Configured At",
            "description": "When configuration was set up"
          },
          "is_validated": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Validated",
            "description": "Whether credentials have been validated"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if any"
          }
        },
        "type": "object",
        "required": [
          "configured"
        ],
        "title": "S3ConfigStatusResponse",
        "description": "Response model for S3 configuration status."
      },
      "S3ValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "Whether credentials are valid"
          },
          "bucket_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bucket Name",
            "description": "Bucket name if valid"
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Region",
            "description": "Region if valid"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if invalid"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "S3ValidationResponse",
        "description": "Response model for S3 validation result."
      },
      "SearchImagesResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ImageSearchResultResponse"
            },
            "type": "array",
            "title": "Results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "query_interpretation": {
            "type": "object",
            "title": "Query Interpretation"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_count",
          "query_interpretation"
        ],
        "title": "SearchImagesResponse",
        "description": "Response from searching images."
      },
      "SearchMode": {
        "type": "string",
        "enum": [
          "all",
          "metadata",
          "visible_text"
        ],
        "title": "SearchMode",
        "description": "Search mode for filtering user files."
      },
      "SendMessageRequest": {
        "properties": {
          "message": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Message",
            "description": "The message content to send"
          },
          "force_detailed_analysis": {
            "type": "boolean",
            "title": "Force Detailed Analysis",
            "description": "Force detailed VLM analysis with high-resolution images (user explicitly requested)",
            "default": false
          },
          "expected_image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Image Ids",
            "description": "Expected image IDs for validation. If provided and different from session, session will be auto-healed to match."
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "SendMessageRequest",
        "description": "Request to send a message in a chat session."
      },
      "SendMessageResponse": {
        "properties": {
          "message_id": {
            "type": "string",
            "format": "uuid",
            "title": "Message Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "token_count": {
            "type": "integer",
            "title": "Token Count"
          },
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "processing_time_ms": {
            "type": "integer",
            "title": "Processing Time Ms"
          },
          "remaining_tokens": {
            "type": "integer",
            "title": "Remaining Tokens"
          },
          "remaining_messages": {
            "type": "integer",
            "title": "Remaining Messages"
          }
        },
        "type": "object",
        "required": [
          "message_id",
          "content",
          "token_count",
          "provider",
          "model",
          "processing_time_ms",
          "remaining_tokens",
          "remaining_messages"
        ],
        "title": "SendMessageResponse",
        "description": "Response from sending a message."
      },
      "SessionInfo": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "Unique session identifier"
          },
          "device_name": {
            "type": "string",
            "title": "Device Name",
            "description": "Device or browser name extracted from user agent"
          },
          "ip_address": {
            "type": "string",
            "title": "Ip Address",
            "description": "IP address of the session"
          },
          "last_accessed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Last Accessed At",
            "description": "Timestamp of last activity in this session"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when session was created"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "Timestamp when session will expire"
          },
          "is_current": {
            "type": "boolean",
            "title": "Is Current",
            "description": "Whether this is the current active session",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "device_name",
          "ip_address",
          "last_accessed_at",
          "created_at",
          "expires_at"
        ],
        "title": "SessionInfo",
        "description": "Session information model for active sessions."
      },
      "SessionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique session identifier"
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent",
            "description": "Browser/device user agent string",
            "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address",
            "description": "IP address of the session",
            "example": "192.168.1.1"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the session was created"
          },
          "last_activity_at": {
            "type": "string",
            "format": "date-time",
            "title": "Last Activity At",
            "description": "Timestamp of last activity in this session"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "Timestamp when the session will expire"
          },
          "is_current": {
            "type": "boolean",
            "title": "Is Current",
            "description": "Whether this is the current active session"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created_at",
          "last_activity_at",
          "expires_at",
          "is_current"
        ],
        "title": "SessionResponse",
        "description": "Response model for user session information."
      },
      "SessionRotateResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "New session ID after rotation"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message",
            "default": "Session rotated successfully"
          }
        },
        "type": "object",
        "required": [
          "session_id"
        ],
        "title": "SessionRotateResponse",
        "description": "Session rotation response model."
      },
      "ShareAccessLevel": {
        "type": "string",
        "enum": [
          "view_only",
          "view_and_copy",
          "edit"
        ],
        "title": "ShareAccessLevel",
        "description": "Access levels for shared rulesets."
      },
      "ShareResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique identifier of the share"
          },
          "ruleset_id": {
            "type": "string",
            "format": "uuid",
            "title": "Ruleset Id",
            "description": "UUID of the shared ruleset"
          },
          "shared_by_tenant_id": {
            "type": "string",
            "format": "uuid",
            "title": "Shared By Tenant Id",
            "description": "UUID of the tenant that created the share"
          },
          "shared_with_tenant_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shared With Tenant Id",
            "description": "UUID of the tenant the ruleset is shared with (if applicable)"
          },
          "access_level": {
            "$ref": "#/components/schemas/ShareAccessLevel",
            "description": "Access level granted by this share"
          },
          "status": {
            "$ref": "#/components/schemas/ShareStatus",
            "description": "Current status of the share (pending, accepted, revoked, expired)"
          },
          "share_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Share Token",
            "description": "Share token for public shares"
          },
          "share_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Share Url",
            "description": "Full URL for accessing the shared content"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "ISO 8601 timestamp when the share expires"
          }
        },
        "type": "object",
        "required": [
          "id",
          "ruleset_id",
          "shared_by_tenant_id",
          "access_level",
          "status"
        ],
        "title": "ShareResponse",
        "description": "Response for share operations."
      },
      "ShareRuleSetRequest": {
        "properties": {
          "ruleset_id": {
            "type": "string",
            "format": "uuid",
            "title": "Ruleset Id",
            "description": "UUID of the ruleset to share"
          },
          "target_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Email",
            "description": "Email address of the user to share with (mutually exclusive with target_tenant_id)"
          },
          "target_tenant_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Tenant Id",
            "description": "UUID of the tenant to share with (mutually exclusive with target_email)"
          },
          "access_level": {
            "$ref": "#/components/schemas/ShareAccessLevel",
            "description": "Access level to grant (view_only, view_and_copy, full_access)",
            "default": "view_only"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about the share"
          },
          "expires_in_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Days",
            "description": "Number of days until the share expires (optional)"
          }
        },
        "type": "object",
        "required": [
          "ruleset_id"
        ],
        "title": "ShareRuleSetRequest",
        "description": "Request to share a ruleset with another user or tenant."
      },
      "ShareStatus": {
        "type": "string",
        "enum": [
          "pending",
          "active",
          "revoked",
          "expired"
        ],
        "title": "ShareStatus",
        "description": "Status of a share."
      },
      "StoredImageInfo": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id",
            "description": "Image ID in database"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url",
            "description": "Presigned URL for thumbnail variant"
          },
          "variant_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Status",
            "description": "Status of variant generation: pending, processing, completed, failed"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "ISO timestamp when file was created"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "object_key",
          "filename"
        ],
        "title": "StoredImageInfo",
        "description": "Information about a stored image after confirmation."
      },
      "StreamBatchFileResult": {
        "properties": {
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id",
            "description": "Unique image identifier"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "File status: completed, processing, failed, skipped"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms",
            "description": "Processing time in milliseconds"
          },
          "skipped": {
            "type": "boolean",
            "title": "Skipped",
            "description": "Whether file was skipped as duplicate",
            "default": false
          },
          "skipped_existing_image_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skipped Existing Image Id",
            "description": "Existing image ID if skipped"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if failed"
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "description": "Storage target: 'default' or 'custom'",
            "default": "default"
          },
          "media_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Type",
            "description": "Media type: 'image' or 'document'"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type",
            "description": "Document type: 'pdf', 'docx', 'txt', 'md'"
          },
          "text_extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Extraction Status",
            "description": "Text extraction status for documents"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "filename",
          "object_key",
          "status"
        ],
        "title": "StreamBatchFileResult",
        "description": "Result for a single file in a batch upload (for immediate results)."
      },
      "StreamBatchUploadResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id",
            "description": "Unique session ID for tracking"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files",
            "description": "Total files submitted"
          },
          "accepted_files": {
            "type": "integer",
            "title": "Accepted Files",
            "description": "Files accepted for processing"
          },
          "rejected_files": {
            "type": "integer",
            "title": "Rejected Files",
            "description": "Files rejected due to validation errors"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall status: processing, partial, rejected, completed"
          },
          "immediate_results": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/StreamBatchFileResult"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Immediate Results",
            "description": "Results for each file (only for small batches)"
          },
          "status_url": {
            "type": "string",
            "title": "Status Url",
            "description": "URL to poll for status updates"
          },
          "websocket_channel": {
            "type": "string",
            "title": "Websocket Channel",
            "description": "WebSocket channel for real-time updates"
          },
          "rejections": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FileRejection"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejections",
            "description": "Details of rejected files"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "total_files",
          "accepted_files",
          "rejected_files",
          "status",
          "status_url",
          "websocket_channel"
        ],
        "title": "StreamBatchUploadResponse",
        "description": "Response for multi-file streaming batch upload."
      },
      "StreamingUploadResponse": {
        "properties": {
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "processing_time_ms": {
            "type": "number",
            "title": "Processing Time Ms"
          },
          "s3_upload_completed": {
            "type": "boolean",
            "title": "S3 Upload Completed"
          },
          "variants_queued": {
            "type": "boolean",
            "title": "Variants Queued"
          },
          "description_queued": {
            "type": "boolean",
            "title": "Description Queued"
          },
          "skipped": {
            "type": "boolean",
            "title": "Skipped",
            "default": false
          },
          "skipped_existing_image_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skipped Existing Image Id"
          },
          "storage_target": {
            "type": "string",
            "title": "Storage Target",
            "default": "default"
          },
          "media_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Type"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type"
          },
          "text_extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Extraction Status"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "object_key",
          "upload_method",
          "status",
          "processing_time_ms",
          "s3_upload_completed",
          "variants_queued",
          "description_queued"
        ],
        "title": "StreamingUploadResponse",
        "description": "Response from streaming upload endpoint."
      },
      "StuckUploadsResponse": {
        "properties": {
          "stuck_count": {
            "type": "integer",
            "title": "Stuck Count"
          },
          "images": {
            "items": {
              "$ref": "#/components/schemas/UnifiedImageStatusResponse"
            },
            "type": "array",
            "title": "Images"
          }
        },
        "type": "object",
        "required": [
          "stuck_count",
          "images"
        ],
        "title": "StuckUploadsResponse",
        "description": "Response for stuck uploads query."
      },
      "SubscriptionStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current subscription status (active, trialing, past_due, canceled, none, etc.)"
          },
          "current_period_start": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period Start",
            "description": "ISO 8601 timestamp of current billing period start"
          },
          "current_period_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period End",
            "description": "ISO 8601 timestamp of current billing period end"
          },
          "cancel_at_period_end": {
            "type": "boolean",
            "title": "Cancel At Period End",
            "description": "Whether the subscription will be canceled at the end of the current period"
          },
          "trial_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial End",
            "description": "ISO 8601 timestamp of trial end date, if applicable"
          },
          "plan_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Name",
            "description": "Subscription plan name (e.g., Starter, Professional, Enterprise)"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "The tenant ID this status applies to"
          },
          "deprecation_warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deprecation Warning",
            "description": "Deprecation notice if tenant_id was not explicitly provided"
          },
          "has_billing_history": {
            "type": "boolean",
            "title": "Has Billing History",
            "description": "Whether the user has any past billing history (based on Stripe customer existence)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "status",
          "cancel_at_period_end",
          "tenant_id"
        ],
        "title": "SubscriptionStatusResponse",
        "description": "Response model for subscription status information."
      },
      "SubscriptionUpdateRequest": {
        "properties": {
          "action": {
            "type": "string",
            "pattern": "^(upgrade|downgrade|cancel|resume)$",
            "title": "Action",
            "description": "Action to perform on the subscription",
            "example": "upgrade"
          },
          "new_plan": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(starter|professional|enterprise)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Plan",
            "description": "New plan tier for upgrade/downgrade actions",
            "example": "professional"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "UUID of the tenant. If omitted, uses primary owned tenant (deprecated)"
          }
        },
        "type": "object",
        "required": [
          "action"
        ],
        "title": "SubscriptionUpdateRequest",
        "description": "Request model for subscription updates."
      },
      "SubscriptionUpdateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the subscription update was successful"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable message about the update result"
          },
          "subscription_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Id",
            "description": "Stripe subscription ID if applicable"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "The tenant ID that was updated"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "SubscriptionUpdateResponse",
        "description": "Response model for subscription updates."
      },
      "SynthesizeAgentRequest": {
        "properties": {
          "intent": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Intent",
            "description": "What to synthesize, e.g. 'Write a report on spending patterns'"
          },
          "image_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Ids",
            "description": "Images to include in synthesis"
          },
          "document_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Ids",
            "description": "Documents to include in synthesis"
          },
          "auto_save": {
            "type": "boolean",
            "title": "Auto Save",
            "description": "Auto-save the generated report as a document",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "intent"
        ],
        "title": "SynthesizeAgentRequest",
        "description": "Request for AI-powered report synthesis."
      },
      "SynthesizeAgentResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "report": {
            "type": "string",
            "title": "Report",
            "description": "Markdown report content"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Brief summary of the report"
          },
          "image_count": {
            "type": "integer",
            "title": "Image Count"
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count"
          },
          "saved_document_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved Document Id",
            "description": "Document ID if auto_save was true"
          },
          "execution_time_ms": {
            "type": "integer",
            "title": "Execution Time Ms"
          },
          "iterations": {
            "type": "integer",
            "title": "Iterations",
            "description": "Number of ReAct iterations performed"
          },
          "token_usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Usage",
            "description": "LLM token usage for billing"
          }
        },
        "type": "object",
        "required": [
          "success",
          "report",
          "summary",
          "image_count",
          "document_count",
          "execution_time_ms",
          "iterations"
        ],
        "title": "SynthesizeAgentResponse",
        "description": "Response from AI-powered report synthesis."
      },
      "TenantLimitsResponse": {
        "properties": {
          "limits": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Limits",
            "description": "Dictionary of limit names to values",
            "example": {
              "api_calls_per_minute": 100,
              "monthly_verifications": 1000
            }
          },
          "usage": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Usage",
            "description": "Dictionary of current usage values",
            "example": {
              "api_calls_per_minute": 45,
              "monthly_verifications": 250
            }
          },
          "remaining": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Remaining",
            "description": "Dictionary of remaining quota",
            "example": {
              "api_calls_per_minute": 55,
              "monthly_verifications": 750
            }
          },
          "subscription_tier": {
            "type": "string",
            "title": "Subscription Tier",
            "description": "Current subscription tier (free, starter, professional, enterprise)",
            "default": "free"
          }
        },
        "type": "object",
        "required": [
          "limits",
          "usage",
          "remaining"
        ],
        "title": "TenantLimitsResponse",
        "description": "Response model for tenant limits and usage information."
      },
      "TenantSettingsResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique tenant identifier"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Tenant/organization name"
          },
          "owner_user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner User Id",
            "description": "UUID of the tenant owner"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when tenant was created"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Timestamp of last update"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the tenant is active"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "Configured webhook URL"
          },
          "allowed_vlm_providers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Vlm Providers",
            "description": "List of allowed VLM providers"
          },
          "allowed_domains": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Allowed Domains",
            "description": "List of allowed domains for CORS"
          },
          "max_monthly_credits": {
            "type": "integer",
            "title": "Max Monthly Credits",
            "description": "Monthly credit limit"
          },
          "max_requests_per_minute": {
            "type": "integer",
            "title": "Max Requests Per Minute",
            "description": "Rate limit per minute"
          },
          "custom_config": {
            "type": "object",
            "title": "Custom Config",
            "description": "Custom configuration object"
          },
          "subscription_tier": {
            "type": "string",
            "title": "Subscription Tier",
            "description": "Current subscription tier (free, starter, professional, enterprise)"
          },
          "subscription_expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Expires At",
            "description": "Subscription expiration date"
          },
          "current_month_credits": {
            "type": "integer",
            "title": "Current Month Credits",
            "description": "Number of credits used this month"
          },
          "current_month_cost": {
            "type": "number",
            "title": "Current Month Cost",
            "description": "Total cost for current month"
          },
          "total_credits": {
            "type": "integer",
            "title": "Total Credits",
            "description": "Total credits consumed all time"
          },
          "total_cost": {
            "type": "number",
            "title": "Total Cost",
            "description": "Total cost all time"
          },
          "supports_overage": {
            "type": "boolean",
            "title": "Supports Overage",
            "description": "Deprecated: always False. Overage replaced by prepaid credits.",
            "default": false
          },
          "included_credits": {
            "type": "integer",
            "title": "Included Credits",
            "description": "Deprecated: use max_monthly_credits instead.",
            "default": 0
          },
          "overage_credits_used": {
            "type": "integer",
            "title": "Overage Credits Used",
            "description": "Deprecated: always 0. Overage replaced by prepaid credits.",
            "default": 0
          },
          "max_overage_credits": {
            "type": "integer",
            "title": "Max Overage Credits",
            "description": "Deprecated: always 0. Overage replaced by prepaid credits.",
            "default": 0
          },
          "overage_cost": {
            "type": "number",
            "title": "Overage Cost",
            "description": "Deprecated: always 0. Overage replaced by prepaid credits.",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at",
          "is_active",
          "allowed_vlm_providers",
          "allowed_domains",
          "max_monthly_credits",
          "max_requests_per_minute",
          "custom_config",
          "subscription_tier",
          "current_month_credits",
          "current_month_cost",
          "total_credits",
          "total_cost"
        ],
        "title": "TenantSettingsResponse",
        "description": "Response model for tenant settings and information."
      },
      "TenantSettingsUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Tenant/organization name"
          },
          "webhook_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Url",
            "description": "Webhook URL for notifications and events"
          },
          "allowed_vlm_providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Vlm Providers",
            "description": "List of allowed VLM providers (openai, anthropic, google, azure, aws)"
          },
          "allowed_domains": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Domains",
            "description": "Allowed domains for CORS configuration"
          },
          "custom_config": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Config",
            "description": "Custom configuration JSON object for tenant-specific settings"
          }
        },
        "type": "object",
        "title": "TenantSettingsUpdate",
        "description": "Request model for updating tenant settings."
      },
      "TestRuleSetRequest": {
        "properties": {
          "image_url": {
            "type": "string",
            "title": "Image Url",
            "description": "URL of the image to test",
            "example": "https://example.com/test-image.jpg"
          },
          "rule_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Ids",
            "description": "Specific rule IDs to test (tests all if not specified)",
            "example": [
              "rule_123",
              "rule_456"
            ]
          }
        },
        "type": "object",
        "required": [
          "image_url"
        ],
        "title": "TestRuleSetRequest",
        "description": "Request to test a rule set against an image."
      },
      "ToggleRuleSetRequest": {
        "properties": {
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "New enabled status for the rule set"
          }
        },
        "type": "object",
        "required": [
          "enabled"
        ],
        "title": "ToggleRuleSetRequest",
        "description": "Request to toggle a rule set's enabled status."
      },
      "UnifiedImageStatusResponse": {
        "properties": {
          "image_id": {
            "type": "string",
            "title": "Image Id"
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "batch_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Batch Id"
          },
          "unified_status": {
            "type": "string",
            "title": "Unified Status",
            "description": "One of: uploading, confirming, queued, processing, completed, failed, partially_completed"
          },
          "component_statuses": {
            "$ref": "#/components/schemas/ComponentStatusesResponse"
          },
          "task_intent_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Task Intent Ids"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "last_error_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error At"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "last_updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "retry_count": {
            "type": "integer",
            "title": "Retry Count",
            "default": 0
          },
          "processing_duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Duration Seconds"
          },
          "is_stuck": {
            "type": "boolean",
            "title": "Is Stuck",
            "default": false
          },
          "is_terminal": {
            "type": "boolean",
            "title": "Is Terminal",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "tenant_id",
          "unified_status",
          "component_statuses"
        ],
        "title": "UnifiedImageStatusResponse",
        "description": "Unified status for a single image."
      },
      "UpdateAPIKeyRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated descriptive name for the API key",
            "example": "Updated Production Key"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated description of the API key's purpose",
            "example": "Updated for new production environment requirements"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Updated metadata - will be merged with existing metadata",
            "example": {
              "environment": "production",
              "version": "2.0"
            }
          }
        },
        "type": "object",
        "title": "UpdateAPIKeyRequest",
        "description": "Request model for updating an existing API key.\n\nAll fields are optional - only provided fields will be updated."
      },
      "UpdateDocumentsRequest": {
        "properties": {
          "document_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Document Ids",
            "description": "List of document IDs to set as context for the session"
          }
        },
        "type": "object",
        "title": "UpdateDocumentsRequest",
        "description": "Request to update selected documents in a chat session."
      },
      "UpdateDocumentsResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "selected_document_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Selected Document Ids"
          },
          "document_count": {
            "type": "integer",
            "title": "Document Count"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "selected_document_ids",
          "document_count"
        ],
        "title": "UpdateDocumentsResponse",
        "description": "Response from updating session documents."
      },
      "UpdateFileRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "New title for the file"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 40
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "New tags for the file"
          }
        },
        "type": "object",
        "title": "UpdateFileRequest",
        "description": "Request for updating file metadata."
      },
      "UpdateFileResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "File identifier"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Updated title"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Updated tags"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "updated_at"
        ],
        "title": "UpdateFileResponse",
        "description": "Response for updating file metadata."
      },
      "UpdateImagesRequest": {
        "properties": {
          "image_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Image Ids",
            "description": "List of image IDs to set as context for the session"
          }
        },
        "type": "object",
        "required": [
          "image_ids"
        ],
        "title": "UpdateImagesRequest",
        "description": "Request to update selected images in a chat session."
      },
      "UpdateImagesResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "selected_image_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Selected Image Ids"
          },
          "context_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Summary"
          },
          "estimated_tokens": {
            "type": "integer",
            "title": "Estimated Tokens"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "selected_image_ids",
          "context_summary",
          "estimated_tokens"
        ],
        "title": "UpdateImagesResponse",
        "description": "Response from updating session images."
      },
      "UpdateRuleSetRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Updated name of the rule set",
            "example": "Updated Production Validation"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "Updated description of the rule set",
            "example": "Enhanced validation rules with new requirements"
          },
          "rules": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/RuleConfigRequest"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rules",
            "description": "Updated list of rules (replaces existing rules if provided)"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether the rule set should be active",
            "default": true
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Updated metadata for the rule set"
          },
          "reference_image_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reference Image Url",
            "description": "Updated reference image URL for visual memory"
          },
          "user_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Description",
            "description": "Updated user description for visual memory context"
          }
        },
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "title": "UpdateRuleSetRequest",
        "description": "Request to update an existing rule set."
      },
      "UpdateSessionModeRequest": {
        "properties": {
          "use_all_images": {
            "type": "boolean",
            "title": "Use All Images",
            "description": "Whether to use all images (True) or selected images (False)"
          }
        },
        "type": "object",
        "required": [
          "use_all_images"
        ],
        "title": "UpdateSessionModeRequest",
        "description": "Request to update the session mode (all images vs selected images)."
      },
      "UpdateSessionModeResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "use_all_images": {
            "type": "boolean",
            "title": "Use All Images"
          },
          "selected_image_count": {
            "type": "integer",
            "title": "Selected Image Count"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "use_all_images",
          "selected_image_count",
          "updated_at"
        ],
        "title": "UpdateSessionModeResponse",
        "description": "Response from updating session mode."
      },
      "UploadConfirmation": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether upload succeeded"
          },
          "file_size": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "File Size",
            "description": "Actual file size uploaded"
          },
          "checksum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checksum",
            "description": "File checksum"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if failed"
          },
          "media_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Type",
            "description": "Media type: 'image' or 'document'. Falls back to path-prefix detection if omitted."
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "success",
          "file_size"
        ],
        "title": "UploadConfirmation",
        "description": "Confirmation for a single uploaded file."
      },
      "UploadConfirmationRequest": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key of uploaded file"
          },
          "size_bytes": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Size Bytes",
            "description": "Actual uploaded file size"
          },
          "checksum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checksum",
            "description": "File checksum for verification"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "MIME type of uploaded file"
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "size_bytes"
        ],
        "title": "UploadConfirmationRequest",
        "description": "Request to confirm a completed upload."
      },
      "UploadConfirmationResponse": {
        "properties": {
          "upload_id": {
            "type": "string",
            "title": "Upload Id",
            "description": "Internal upload ID"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "storage_path": {
            "type": "string",
            "title": "Storage Path",
            "description": "Full storage path"
          },
          "confirmed": {
            "type": "boolean",
            "title": "Confirmed",
            "description": "Whether upload was confirmed"
          }
        },
        "type": "object",
        "required": [
          "upload_id",
          "object_key",
          "storage_path",
          "confirmed"
        ],
        "title": "UploadConfirmationResponse",
        "description": "Response confirming the upload was recorded."
      },
      "UploadPlan": {
        "properties": {
          "strategy": {
            "type": "string",
            "title": "Strategy",
            "description": "Upload strategy: parallel or sequential"
          },
          "max_concurrent": {
            "type": "integer",
            "title": "Max Concurrent",
            "description": "Maximum concurrent uploads"
          },
          "retry_policy": {
            "type": "object",
            "title": "Retry Policy",
            "description": "Retry configuration"
          },
          "timeout_per_upload": {
            "type": "integer",
            "title": "Timeout Per Upload",
            "description": "Timeout per upload in seconds"
          }
        },
        "type": "object",
        "required": [
          "strategy",
          "max_concurrent",
          "retry_policy",
          "timeout_per_upload"
        ],
        "title": "UploadPlan",
        "description": "Upload strategy and configuration."
      },
      "UploadSessionListItem": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files"
          },
          "completed_files": {
            "type": "integer",
            "title": "Completed Files"
          },
          "failed_files": {
            "type": "integer",
            "title": "Failed Files"
          },
          "skipped_files": {
            "type": "integer",
            "title": "Skipped Files"
          },
          "progress_percentage": {
            "type": "number",
            "title": "Progress Percentage"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "status",
          "upload_method",
          "total_files",
          "completed_files",
          "failed_files",
          "skipped_files",
          "progress_percentage",
          "created_at"
        ],
        "title": "UploadSessionListItem",
        "description": "Summary of an upload session for listing."
      },
      "UploadSessionListResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/UploadSessionListItem"
            },
            "type": "array",
            "title": "Sessions"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total_count",
          "offset",
          "limit",
          "has_more"
        ],
        "title": "UploadSessionListResponse",
        "description": "Response for listing upload sessions."
      },
      "UploadSessionResultItem": {
        "properties": {
          "image_id": {
            "type": "string",
            "format": "uuid",
            "title": "Image Id"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "failed",
              "skipped"
            ],
            "title": "Status"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "visible_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visible Text"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "processing_time_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Ms"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "image_id",
          "filename",
          "object_key",
          "status",
          "created_at"
        ],
        "title": "UploadSessionResultItem",
        "description": "A single file result in the session."
      },
      "UploadSessionResultsResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/UploadSessionResultItem"
            },
            "type": "array",
            "title": "Results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          },
          "summary": {
            "type": "object",
            "title": "Summary"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "results",
          "total_count",
          "offset",
          "limit",
          "has_more",
          "summary"
        ],
        "title": "UploadSessionResultsResponse",
        "description": "Paginated results from an upload session."
      },
      "UploadSessionStatusResponse": {
        "properties": {
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "uploading",
              "processing",
              "completed",
              "failed",
              "expired",
              "cancelled"
            ],
            "title": "Status"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files"
          },
          "completed_files": {
            "type": "integer",
            "title": "Completed Files"
          },
          "failed_files": {
            "type": "integer",
            "title": "Failed Files"
          },
          "skipped_files": {
            "type": "integer",
            "title": "Skipped Files"
          },
          "pending_files": {
            "type": "integer",
            "title": "Pending Files"
          },
          "progress_percentage": {
            "type": "number",
            "title": "Progress Percentage"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "estimated_completion_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Completion Time"
          },
          "recent_completions": {
            "items": {
              "$ref": "#/components/schemas/FileResultSummary"
            },
            "type": "array",
            "title": "Recent Completions"
          },
          "recent_errors": {
            "items": {
              "$ref": "#/components/schemas/FileErrorSummary"
            },
            "type": "array",
            "title": "Recent Errors"
          },
          "results_url": {
            "type": "string",
            "title": "Results Url"
          },
          "websocket_channel": {
            "type": "string",
            "title": "Websocket Channel"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "status",
          "total_files",
          "completed_files",
          "failed_files",
          "skipped_files",
          "pending_files",
          "progress_percentage",
          "created_at",
          "results_url",
          "websocket_channel"
        ],
        "title": "UploadSessionStatusResponse",
        "description": "Response for session status with progress."
      },
      "UsageBreakdownResponse": {
        "properties": {
          "current_month": {
            "type": "string",
            "title": "Current Month"
          },
          "total_credits_used": {
            "type": "integer",
            "title": "Total Credits Used"
          },
          "monthly_limit": {
            "type": "integer",
            "title": "Monthly Limit"
          },
          "remaining_credits": {
            "type": "integer",
            "title": "Remaining Credits"
          },
          "usage_percentage": {
            "type": "number",
            "title": "Usage Percentage"
          },
          "by_verification_level": {
            "$ref": "#/components/schemas/VerificationLevelBreakdown"
          },
          "by_operation_type": {
            "$ref": "#/components/schemas/OperationTypeBreakdown"
          },
          "recent_operations": {
            "items": {},
            "type": "array",
            "title": "Recent Operations",
            "default": []
          },
          "reset_date": {
            "type": "string",
            "title": "Reset Date"
          }
        },
        "type": "object",
        "required": [
          "current_month",
          "total_credits_used",
          "monthly_limit",
          "remaining_credits",
          "usage_percentage",
          "by_verification_level",
          "by_operation_type",
          "reset_date"
        ],
        "title": "UsageBreakdownResponse",
        "description": "Detailed breakdown of credit usage."
      },
      "UsageCheckRequest": {
        "properties": {
          "verification_level": {
            "type": "string",
            "title": "Verification Level",
            "default": "standard"
          },
          "item_count": {
            "type": "integer",
            "title": "Item Count",
            "default": 1
          }
        },
        "type": "object",
        "title": "UsageCheckRequest",
        "description": "Request for checking if an operation would exceed usage limits."
      },
      "UsageCheckResponse": {
        "properties": {
          "can_proceed": {
            "type": "boolean",
            "title": "Can Proceed"
          },
          "current_usage": {
            "type": "integer",
            "title": "Current Usage"
          },
          "monthly_limit": {
            "type": "integer",
            "title": "Monthly Limit"
          },
          "required_credits": {
            "type": "integer",
            "title": "Required Credits"
          },
          "available_credits": {
            "type": "integer",
            "title": "Available Credits"
          },
          "reset_date": {
            "type": "string",
            "title": "Reset Date"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "supports_overage": {
            "type": "boolean",
            "title": "Supports Overage",
            "default": false
          },
          "included_credits": {
            "type": "integer",
            "title": "Included Credits",
            "default": 0
          },
          "overage_credits_used": {
            "type": "integer",
            "title": "Overage Credits Used",
            "default": 0
          },
          "max_overage_credits": {
            "type": "integer",
            "title": "Max Overage Credits",
            "default": 0
          },
          "overage_cost": {
            "type": "number",
            "title": "Overage Cost",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "can_proceed",
          "current_usage",
          "monthly_limit",
          "required_credits",
          "available_credits",
          "reset_date"
        ],
        "title": "UsageCheckResponse",
        "description": "Response for usage check."
      },
      "UserFile": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique file identifier"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "User-provided title"
          },
          "filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filename",
            "description": "Original uploaded filename"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url",
            "description": "URL to thumbnail image"
          },
          "upload_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Description",
            "description": "Auto-generated description"
          },
          "visible_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visible Text",
            "description": "Extracted visible text from the image"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "User tags"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Upload timestamp"
          },
          "content_created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Created At",
            "description": "Actual content creation date from EXIF/video metadata"
          },
          "has_full_description": {
            "type": "boolean",
            "title": "Has Full Description",
            "description": "Whether full description exists"
          },
          "dimensions": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dimensions",
            "description": "Image dimensions"
          },
          "format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Format",
            "description": "Image format"
          },
          "variant_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Status",
            "description": "Status of variant generation: pending, processing, completed, failed"
          },
          "variant_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Count",
            "description": "Number of variants generated"
          },
          "medium_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium Url",
            "description": "URL to medium size variant"
          },
          "full_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Url",
            "description": "URL to full/original image"
          },
          "blur_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Blur Hash",
            "description": "Blurhash for blur-up placeholder effect"
          },
          "description_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Status",
            "description": "Status of description generation: pending, processing, completed, failed"
          },
          "description_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Error",
            "description": "Error message if description generation failed"
          },
          "confidence_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Score",
            "description": "AI confidence score (0-1)"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "MIME type (video/mp4, image/jpeg, etc.)"
          },
          "media_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Type",
            "description": "Media type: image, video, or document"
          },
          "video_metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Metadata",
            "description": "Video-specific metadata (duration, resolution, codecs, etc.)"
          },
          "video_analysis_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Analysis Status",
            "description": "Video analysis status: pending, processing, completed, failed"
          },
          "video_analysis_job_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Analysis Job Id",
            "description": "Video analysis job ID"
          },
          "scene_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Count",
            "description": "Number of scenes detected in video"
          },
          "has_audio_transcript": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Has Audio Transcript",
            "description": "Whether audio transcript exists"
          },
          "video_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Url",
            "description": "URL to original playable video file (for videos only)"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type",
            "description": "Document type: pdf, docx, txt, md"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count",
            "description": "Number of pages in document"
          },
          "text_extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Extraction Status",
            "description": "Text extraction status: pending, processing, completed, failed"
          },
          "chunk_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Count",
            "description": "Number of chunks for search/RAG"
          },
          "document_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Url",
            "description": "URL to download original document"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "Original website URL"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain",
            "description": "Extracted domain (e.g., github.com)"
          },
          "og_metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Og Metadata",
            "description": "Open Graph metadata: title, description, image, site_name"
          },
          "favicon_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Favicon Url",
            "description": "Resolved favicon URL"
          },
          "crawl_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawl Status",
            "description": "Link crawl status: pending, processing, completed, failed"
          },
          "extracted_images": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted Images",
            "description": "Extracted images from page"
          },
          "extracted_images_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted Images Count",
            "description": "Count of extracted images"
          }
        },
        "type": "object",
        "required": [
          "id",
          "size_bytes",
          "created_at",
          "has_full_description"
        ],
        "title": "UserFile",
        "description": "Summary of a user file."
      },
      "UserFileDetails": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "File identifier"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3/Spaces object key"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "User-provided title"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "User tags"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "File size"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "MIME type"
          },
          "dimensions": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Dimensions",
            "description": "Image dimensions"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Image format"
          },
          "full_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Url",
            "description": "Full-size image URL (1024px variant, null if not yet generated)"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url",
            "description": "Thumbnail URL"
          },
          "medium_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium Url",
            "description": "Medium-size URL"
          },
          "original_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Url",
            "description": "Original full-resolution image URL (always available)"
          },
          "variant_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Status",
            "description": "Status of variant generation: pending, processing, completed, failed"
          },
          "variant_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variant Count",
            "description": "Number of variants generated"
          },
          "upload_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Description",
            "description": "Upload description"
          },
          "visible_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visible Text",
            "description": "Extracted visible text from the image"
          },
          "description_generated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Generated At",
            "description": "Description timestamp"
          },
          "full_descriptions": {
            "items": {
              "$ref": "#/components/schemas/FullDescription"
            },
            "type": "array",
            "title": "Full Descriptions",
            "description": "All descriptions"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Upload timestamp"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "content_created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Created At",
            "description": "Actual content creation date from EXIF/video metadata"
          },
          "upload_method": {
            "type": "string",
            "title": "Upload Method",
            "description": "Upload method used"
          },
          "original_filename": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Filename",
            "description": "Original filename"
          },
          "hash": {
            "type": "string",
            "title": "Hash",
            "description": "File hash"
          },
          "processing_history": {
            "items": {
              "$ref": "#/components/schemas/ProcessingHistory"
            },
            "type": "array",
            "title": "Processing History",
            "description": "Processing history"
          },
          "blur_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Blur Hash",
            "description": "Blurhash for blur-up placeholder effect"
          },
          "description_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description Status",
            "description": "Status of description generation: pending, processing, completed, failed"
          },
          "media_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Type",
            "description": "Media type: image, video, or document"
          },
          "document_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Type",
            "description": "Document type: pdf, docx, txt, md"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count",
            "description": "Number of pages in document"
          },
          "text_extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text Extraction Status",
            "description": "Text extraction status: pending, processing, completed, failed"
          },
          "chunk_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Count",
            "description": "Number of chunks for search/RAG"
          },
          "document_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Document Url",
            "description": "URL to download original document"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url",
            "description": "Original website URL"
          },
          "domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Domain",
            "description": "Extracted domain (e.g., github.com)"
          },
          "og_metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Og Metadata",
            "description": "Open Graph metadata: title, description, image, site_name"
          },
          "favicon_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Favicon Url",
            "description": "Resolved favicon URL"
          },
          "page_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Title",
            "description": "Page title from <title> tag"
          },
          "crawl_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawl Status",
            "description": "Link crawl status: pending, processing, completed, failed"
          },
          "crawl_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawl Error",
            "description": "Error message if crawl failed"
          },
          "crawled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawled At",
            "description": "When the link was last crawled"
          },
          "extracted_images": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted Images",
            "description": "Extracted images from page"
          },
          "extracted_images_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracted Images Count",
            "description": "Count of extracted images"
          }
        },
        "type": "object",
        "required": [
          "id",
          "object_key",
          "size_bytes",
          "content_type",
          "dimensions",
          "format",
          "created_at",
          "upload_method",
          "hash"
        ],
        "title": "UserFileDetails",
        "description": "Detailed user file information."
      },
      "UserFilesError": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error type"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Error message"
          },
          "details": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional error details"
          }
        },
        "type": "object",
        "required": [
          "error",
          "message"
        ],
        "title": "UserFilesError",
        "description": "Error response for user files operations."
      },
      "UserInfo": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User's display name"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether email has been verified"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether user account is active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Account creation timestamp"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At",
            "description": "Timestamp of last successful login"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "email",
          "name",
          "email_verified",
          "is_active",
          "created_at"
        ],
        "title": "UserInfo",
        "description": "Current user information model."
      },
      "UserProfileResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique user identifier"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User's email address",
            "example": "user@example.com"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User's display name",
            "example": "John Doe"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the user account is active"
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether the user's email has been verified"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the account was created"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At",
            "description": "Timestamp of the user's last login"
          },
          "preferences": {
            "type": "object",
            "title": "Preferences",
            "description": "User preferences and settings",
            "example": {
              "language": "en",
              "theme": "dark",
              "timezone": "America/New_York"
            }
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "is_active",
          "email_verified",
          "created_at",
          "preferences"
        ],
        "title": "UserProfileResponse",
        "description": "Response model for user profile information."
      },
      "UserProfileUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User's display name",
            "example": "John Doe"
          },
          "preferences": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferences",
            "description": "User preferences including timezone, theme, language, and other settings",
            "example": {
              "language": "en",
              "notifications": {
                "browser": false,
                "email": true
              },
              "theme": "dark",
              "timezone": "America/New_York"
            }
          }
        },
        "type": "object",
        "title": "UserProfileUpdate",
        "description": "Request model for updating user profile information."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VerificationDetailsResponse": {
        "properties": {
          "vlm_response": {
            "type": "string",
            "title": "Vlm Response"
          },
          "verified_claims": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Verified Claims"
          },
          "issues_found": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Issues Found"
          },
          "hallucination_probability": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hallucination Probability"
          },
          "rule_violations": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Violations"
          }
        },
        "type": "object",
        "required": [
          "vlm_response",
          "verified_claims",
          "issues_found"
        ],
        "title": "VerificationDetailsResponse",
        "description": "Verification-specific details in response."
      },
      "VerificationHistoryResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ProcessingResultResponse"
            },
            "type": "array",
            "title": "Results",
            "description": "List of verification results"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "Total number of results matching filters"
          },
          "statistics": {
            "$ref": "#/components/schemas/ProcessingStatisticsResponse",
            "description": "Aggregated statistics"
          },
          "filters_applied": {
            "$ref": "#/components/schemas/FiltersAppliedResponse",
            "description": "Summary of applied filters"
          },
          "page_info": {
            "$ref": "#/components/schemas/PageInfoResponse",
            "description": "Pagination information"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_count",
          "statistics",
          "filters_applied",
          "page_info"
        ],
        "title": "VerificationHistoryResponse",
        "description": "Response model for verification history."
      },
      "VerificationLevelBreakdown": {
        "properties": {
          "quick": {
            "type": "integer",
            "title": "Quick",
            "default": 0
          },
          "standard": {
            "type": "integer",
            "title": "Standard",
            "default": 0
          },
          "thorough": {
            "type": "integer",
            "title": "Thorough",
            "default": 0
          },
          "critical": {
            "type": "integer",
            "title": "Critical",
            "default": 0
          }
        },
        "type": "object",
        "title": "VerificationLevelBreakdown",
        "description": "Breakdown of usage by verification level."
      },
      "VerificationResponse": {
        "properties": {
          "operation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Operation Id",
            "description": "Unique identifier for this operation"
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "description": "Whether the content is verified as accurate"
          },
          "confidence_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence Score",
            "description": "Confidence score of the verification",
            "example": 0.85
          },
          "risk_level": {
            "type": "string",
            "pattern": "^(low|medium|high|critical)$",
            "title": "Risk Level",
            "description": "Risk level: low, medium, high, or critical",
            "example": "low"
          },
          "risk_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Risk Score",
            "description": "Numerical risk score",
            "example": 0.15
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Explanation of the verification result"
          },
          "detected_issues": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detected Issues",
            "description": "List of specific issues detected"
          },
          "provider_results": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Results",
            "description": "Individual results from each provider"
          },
          "structured_output": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Structured Output",
            "description": "Structured output if rules were applied"
          },
          "verification_level": {
            "type": "string",
            "title": "Verification Level",
            "description": "Verification level used",
            "example": "standard"
          },
          "providers_used": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Providers Used",
            "description": "VLM providers that were used",
            "example": [
              "openai",
              "anthropic",
              "google"
            ]
          },
          "consensus_achieved": {
            "type": "boolean",
            "title": "Consensus Achieved",
            "description": "Whether consensus was achieved among providers"
          },
          "processing_time_ms": {
            "type": "integer",
            "title": "Processing Time Ms",
            "description": "Time taken to process in milliseconds",
            "example": 2500
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO 8601 timestamp of the operation",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "type": "object",
        "required": [
          "operation_id",
          "is_verified",
          "confidence_score",
          "risk_level",
          "risk_score",
          "explanation",
          "verification_level",
          "providers_used",
          "consensus_achieved",
          "processing_time_ms",
          "timestamp"
        ],
        "title": "VerificationResponse",
        "description": "Response model for content verification."
      },
      "VerifyRequest": {
        "properties": {
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "URL of the image to process",
            "example": "https://example.com/image.jpg"
          },
          "image_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Base64",
            "description": "Base64-encoded image data",
            "example": "data:image/jpeg;base64,..."
          },
          "object_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Object Key",
            "description": "S3/Spaces object key for previously uploaded image",
            "example": "images/abc-123/2025/01/19/a1b2c3d4_143025123456.jpeg"
          },
          "verification_level": {
            "type": "string",
            "pattern": "^(quick|standard|thorough|critical)$",
            "title": "Verification Level",
            "description": "Verification level: quick, standard, thorough, or critical",
            "default": "standard",
            "example": "standard"
          },
          "content": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Content",
            "description": "The content to verify against the image",
            "example": "This image shows a red car"
          },
          "mode": {
            "type": "string",
            "pattern": "^(response|claim)$",
            "title": "Mode",
            "description": "Verification mode: 'response' or 'claim'",
            "default": "response",
            "example": "response"
          },
          "providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers",
            "description": "Specific VLM providers to use for verification",
            "example": [
              "openai",
              "anthropic",
              "google"
            ]
          },
          "use_consensus": {
            "type": "boolean",
            "title": "Use Consensus",
            "description": "Whether to use consensus among multiple providers",
            "default": true
          },
          "rule_set_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rule Set Id",
            "description": "UUID of the rule set to apply during verification",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "rules": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rules",
            "description": "Inline rules to apply during verification"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "VerifyRequest",
        "description": "Request model for content verification."
      },
      "VisualMemoryStatusResponse": {
        "properties": {
          "rule_set_id": {
            "type": "string",
            "title": "Rule Set Id"
          },
          "visual_processing_status": {
            "type": "string",
            "title": "Visual Processing Status"
          },
          "visual_memory_available": {
            "type": "boolean",
            "title": "Visual Memory Available"
          },
          "processing_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Error"
          },
          "processing_started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Started At"
          },
          "processing_completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Completed At"
          },
          "estimated_completion": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Completion"
          }
        },
        "type": "object",
        "required": [
          "rule_set_id",
          "visual_processing_status",
          "visual_memory_available"
        ],
        "title": "VisualMemoryStatusResponse",
        "description": "Response for visual memory processing status."
      },
      "app__api__v2__endpoints__document_uploads__DocumentInfo": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id",
            "description": "Document ID in database"
          },
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "S3 object key"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "document_type": {
            "type": "string",
            "title": "Document Type",
            "description": "Document type (pdf, docx, txt, md)"
          },
          "text_extraction_status": {
            "type": "string",
            "title": "Text Extraction Status",
            "description": "Status: pending, processing, completed, failed"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "ISO timestamp when document was created"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "object_key",
          "filename",
          "document_type",
          "text_extraction_status"
        ],
        "title": "DocumentInfo",
        "description": "Information about a stored document after confirmation."
      },
      "app__api__v2__endpoints__documents__DocumentInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Document ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "MIME type"
          },
          "size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count",
            "description": "Number of pages"
          },
          "chunk_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chunk Count",
            "description": "Number of chunks"
          },
          "extraction_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extraction Status",
            "description": "Processing status"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Upload timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "filename",
          "created_at"
        ],
        "title": "DocumentInfo",
        "description": "Basic document information."
      },
      "app__api__v2__models__sharing_models__TenantMemberResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "UUID of the user"
          },
          "tenant_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tenant Id",
            "description": "UUID of the tenant"
          },
          "role": {
            "$ref": "#/components/schemas/Role",
            "description": "User's role in the tenant (owner, admin, editor, viewer)"
          },
          "user_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Email",
            "description": "User's email address"
          },
          "user_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Name",
            "description": "User's display name"
          },
          "joined_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Joined At",
            "description": "ISO 8601 timestamp when user joined the tenant"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the member is currently active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "tenant_id",
          "role"
        ],
        "title": "TenantMemberResponse",
        "description": "Response for tenant member operations."
      },
      "app__api__v2__models__sharing_models__UpdateMemberRoleRequest": {
        "properties": {
          "role": {
            "$ref": "#/components/schemas/Role",
            "description": "New role to assign to the member (viewer, editor, admin)"
          }
        },
        "type": "object",
        "required": [
          "role"
        ],
        "title": "UpdateMemberRoleRequest",
        "description": "Request to update a tenant member's role."
      },
      "app__api__v2__models__tenant_models__TenantMemberResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Member's user ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "Member's email address"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Member's display name"
          },
          "role": {
            "type": "string",
            "pattern": "^(owner|admin|editor|viewer)$",
            "title": "Role",
            "description": "Member's role in the tenant",
            "example": "admin"
          },
          "joined_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Joined At",
            "description": "Timestamp when member joined the tenant"
          },
          "last_active_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Active At",
            "description": "Timestamp of last activity"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "role"
        ],
        "title": "TenantMemberResponse",
        "description": "Response model for tenant member information."
      },
      "app__api__v2__models__tenant_models__UpdateMemberRoleRequest": {
        "properties": {
          "role": {
            "type": "string",
            "pattern": "^(viewer|editor|admin)$",
            "title": "Role",
            "description": "New role to assign to the member",
            "example": "admin"
          }
        },
        "type": "object",
        "required": [
          "role"
        ],
        "title": "UpdateMemberRoleRequest",
        "description": "Request model for updating a member's role."
      },
      "app__domain__entities__dataset__ExportFormat": {
        "type": "string",
        "enum": [
          "csv",
          "coco",
          "yolo",
          "pascal_voc"
        ],
        "title": "ExportFormat",
        "description": "Supported dataset export formats."
      },
      "app__domain__enums__processing_enums__ExportFormat": {
        "type": "string",
        "enum": [
          "csv",
          "json",
          "jsonl"
        ],
        "title": "ExportFormat",
        "description": "Supported export formats."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
